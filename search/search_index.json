{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#env-loader-pro","title":"env-loader-pro","text":""},{"location":"#enterprise-grade-configuration-management","title":"Enterprise-Grade Configuration Management","text":"<p>Typed, validated, and secure environment variable loader for Python with automatic type casting, validation, secret masking, cloud secrets integration, and full observability.</p> <p>Get Started  View on GitHub </p>"},{"location":"#what-problem-does-this-solve","title":"What Problem Does This Solve?","text":"<p>Traditional <code>.env</code> loaders are basic and unsafe. env-loader-pro provides enterprise-grade features for production environments:</p> <ul> <li>Type Safety - Automatic casting to int, bool, list, etc.</li> <li>Cloud Secrets - Azure Key Vault, AWS Secrets Manager integration</li> <li>Audit Trail - Complete provenance tracking for compliance</li> <li>Policy Enforcement - Policy-as-code for configuration governance</li> <li>CI/CD Safe - All commands work without cloud credentials</li> <li>Secret Security - Automatic masking, never logs secrets</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"InstallationBasic UsageWith Cloud Secrets <pre><code>pip install env-loader-pro\n</code></pre> <pre><code>from env_loader_pro import load_env\n\nconfig = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int, \"DEBUG\": bool},\n    defaults={\"PORT\": 8080}\n)\n\nprint(config[\"PORT\"])   # 8080 (int)\nprint(config[\"DEBUG\"])  # True (bool)\n</code></pre> <pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\"\n)\n\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider],\n    audit=True  # Track provenance\n)\n</code></pre>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li> <p> Security First</p> <p>Automatic secret masking, audit trail, policy enforcement, and encrypted file support. Never logs secrets in plaintext.</p> <p> Learn More</p> </li> <li> <p> Cloud Secrets</p> <p>Seamless integration with Azure Key Vault, AWS Secrets Manager, and AWS SSM Parameter Store. Secrets override local config.</p> <p> Learn More</p> </li> <li> <p> Audit Trail</p> <p>Complete provenance tracking for compliance. Know exactly where each configuration value came from, without storing secrets.</p> <p> Learn More</p> </li> <li> <p> Policy-as-Code</p> <p>Enforce configuration policies via JSON/YAML files. Require variables, forbid debug flags, enforce source requirements.</p> <p> Learn More</p> </li> <li> <p> CI/CD Safe</p> <p>All CLI commands work without cloud credentials. Perfect for CI pipelines with deterministic behavior and proper exit codes.</p> <p> Learn More</p> </li> <li> <p> Performance</p> <p>Caching, circuit breakers, and performance monitoring with SLAs. Cold start &lt; 500ms, warm load &lt; 50ms, cached &lt; 5ms.</p> <p> Learn More</p> </li> </ul>"},{"location":"#configuration-precedence","title":"Configuration Precedence","text":"<p>env-loader-pro uses a deterministic precedence order for resolving configuration values:</p> <pre><code>graph TD\n    A[Schema Defaults] --&gt; B[Base .env]\n    B --&gt; C[.env.prod]\n    C --&gt; D[Docker/K8s Secrets]\n    D --&gt; E[System Environment]\n    E --&gt; F[Cloud Providers]\n    F --&gt; G[Final Config]\n\n    style A fill:#e1f5ff\n    style B fill:#e1f5ff\n    style C fill:#e1f5ff\n    style D fill:#fff4e1\n    style E fill:#fff4e1\n    style F fill:#ffe1e1\n    style G fill:#e1ffe1</code></pre> <p>Priority Order (highest to lowest):</p> <ol> <li>Cloud providers (Azure Key Vault, AWS Secrets Manager)</li> <li>System environment variables</li> <li>Docker/K8s mounted secrets</li> <li><code>.env.{env}</code> (environment-specific file)</li> <li>Base <code>.env</code> file</li> <li>Schema defaults</li> </ol> <p> Learn More</p>"},{"location":"#security-guarantees","title":"Security Guarantees","text":"<p>Production Ready</p> <p>env-loader-pro is designed with security as a first-class concern:</p> <ul> <li>\u2705 No secrets in logs - Automatic masking in all outputs</li> <li>\u2705 Audit trail - Complete provenance tracking without values</li> <li>\u2705 Policy enforcement - Require/forbid variables via policy files</li> <li>\u2705 Secret change detection - Prevent accidental exposure</li> <li>\u2705 CI/CD safe - No cloud access required for validation</li> </ul> <p> Security Model</p>"},{"location":"#cli-tool","title":"CLI Tool","text":"<p>The <code>envloader</code> command-line tool provides powerful operations:</p> <pre><code># Validate configuration (CI-safe)\nenvloader validate --ci --required API_KEY PORT\n\n# Show audit trail\nenvloader audit --json\n\n# Explain precedence\nenvloader explain\n\n# Configuration diff\nenvloader diff --ci --deny-secret-changes\n</code></pre> <p> CLI Reference</p>"},{"location":"#installation","title":"Installation","text":"Basic InstallationWith Cloud ProvidersDevelopment <pre><code>pip install env-loader-pro\n</code></pre> <pre><code># Azure Key Vault\npip install env-loader-pro[azure]\n\n# AWS Secrets Manager\npip install env-loader-pro[aws]\n\n# Everything\npip install env-loader-pro[all]\n</code></pre> <pre><code>git clone https://github.com/shanen28/env-loader-pro.git\ncd env-loader-pro\npip install -e \".[test,all]\"\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li> <p>Getting Started</p> <p>Installation, quick start, and basic usage examples.</p> </li> <li> <p>Core Concepts</p> <p>Configuration precedence, type casting, validation, and schema support.</p> </li> <li> <p>Providers</p> <p>Cloud secrets integration with Azure, AWS, Docker, and Kubernetes.</p> </li> <li> <p>Enterprise Features</p> <p>Audit trail, failure policies, policy-as-code, and performance monitoring.</p> </li> <li> <p>Security</p> <p>Security model, secret masking, encrypted files, and CI/CD safety.</p> </li> <li> <p>Architecture</p> <p>Technical design, principles, and provider system.</p> </li> </ul>"},{"location":"#why-env-loader-pro","title":"Why env-loader-pro?","text":"<p>vs python-dotenv</p> Feature python-dotenv env-loader-pro Load .env \u2705 \u2705 Type casting \u274c \u2705 Validation \u274c \u2705 Cloud secrets \u274c \u2705 Audit trail \u274c \u2705 Policy enforcement \u274c \u2705 CI/CD safe \u274c \u2705"},{"location":"#get-started","title":"Get Started","text":"<p>Ready to use env-loader-pro in your project?</p> <p> Installation Guide  Quick Start</p>"},{"location":"#links","title":"Links","text":"<ul> <li>GitHub: shanen28/env-loader-pro</li> <li>PyPI: env-loader-pro</li> <li>Issues: GitHub Issues</li> </ul>"},{"location":"#license","title":"License","text":"<p>Apache License 2.0 - See LICENSE file for details.</p>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#contributing","title":"Contributing","text":"<p>Thank you for your interest in contributing! This document provides guidelines for contributing to the project.</p>"},{"location":"contributing/#getting-started","title":"Getting Started","text":""},{"location":"contributing/#development-setup","title":"Development Setup","text":"<pre><code># Clone the repository\ngit clone https://github.com/shanen28/env-loader-pro.git\ncd env-loader-pro\n\n# Install in development mode\npip install -e \".[test,all]\"\n\n# Run tests\npytest tests/ -v\n</code></pre>"},{"location":"contributing/#project-structure","title":"Project Structure","text":"<pre><code>env_loader_pro/\n\u251c\u2500\u2500 core/           # Core functionality\n\u251c\u2500\u2500 providers/      # Configuration providers\n\u251c\u2500\u2500 crypto/         # Encryption support\n\u251c\u2500\u2500 exporters/      # Configuration exporters\n\u2514\u2500\u2500 utils/          # Utilities\n\ntests/              # Test suite\n</code></pre>"},{"location":"contributing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest tests/ -v\n\n# Run specific test file\npytest tests/test_loader.py -v\n\n# Run with coverage\npytest tests/ --cov=src/env_loader_pro --cov-report=html\n</code></pre>"},{"location":"contributing/#coding-standards","title":"Coding Standards","text":""},{"location":"contributing/#type-hints","title":"Type Hints","text":"<p>All functions must have type hints:</p> <pre><code>def load_env(\n    env: Optional[str] = None,\n    path: str = \".env\",\n    strict: bool = False,\n) -&gt; Dict[str, Any]:\n    ...\n</code></pre>"},{"location":"contributing/#docstrings","title":"Docstrings","text":"<p>Use Google-style docstrings:</p> <pre><code>def my_function(param: str) -&gt; int:\n    \"\"\"Brief description.\n\n    Args:\n        param: Parameter description\n\n    Returns:\n        Return value description\n\n    Raises:\n        ValueError: When parameter is invalid\n    \"\"\"\n    ...\n</code></pre>"},{"location":"contributing/#error-handling","title":"Error Handling","text":"<p>Use custom exceptions from <code>exceptions.py</code>:</p> <pre><code>from env_loader_pro.exceptions import EnvLoaderError, ValidationError\n\nif not value:\n    raise ValidationError(f\"Invalid value: {value}\")\n</code></pre>"},{"location":"contributing/#secret-safety","title":"Secret Safety","text":"<p>Never: - Log secret values - Include secrets in error messages - Store secrets in plaintext - Commit secrets to git</p> <p>Always: - Use <code>safe_repr()</code> for logging - Mask secrets in outputs - Use audit trail for tracking</p>"},{"location":"contributing/#adding-a-new-provider","title":"Adding a New Provider","text":""},{"location":"contributing/#1-create-provider-class","title":"1. Create Provider Class","text":"<pre><code>from env_loader_pro.providers import BaseProvider\nfrom env_loader_pro.exceptions import ProviderError\n\nclass MyProvider(BaseProvider):\n    def __init__(self, config: str):\n        self.config = config\n\n    def get(self, key: str) -&gt; Optional[str]:\n        \"\"\"Get single value.\"\"\"\n        try:\n            return fetch_from_source(key)\n        except Exception as e:\n            raise ProviderError(f\"Failed to get {key}: {e}\")\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        \"\"\"Get multiple values.\"\"\"\n        result = {}\n        for key in keys:\n            value = self.get(key)\n            if value:\n                result[key] = value\n        return result\n\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if provider is available.\"\"\"\n        return check_availability()\n</code></pre>"},{"location":"contributing/#2-register-provider","title":"2. Register Provider","text":"<p>Add to <code>src/env_loader_pro/providers/__init__.py</code>:</p> <pre><code>try:\n    from .my_provider import MyProvider\nexcept ImportError:\n    MyProvider = None\n</code></pre>"},{"location":"contributing/#3-add-tests","title":"3. Add Tests","text":"<p>Create <code>tests/test_my_provider.py</code>:</p> <pre><code>def test_my_provider():\n    provider = MyProvider(config=\"test\")\n    assert provider.is_available()\n    value = provider.get(\"TEST_KEY\")\n    assert value is not None\n</code></pre>"},{"location":"contributing/#4-update-documentation","title":"4. Update Documentation","text":"<p>Add provider to documentation.</p>"},{"location":"contributing/#reporting-bugs","title":"Reporting Bugs","text":""},{"location":"contributing/#before-reporting","title":"Before Reporting","text":"<ol> <li>Check existing issues</li> <li>Verify bug with latest version</li> <li>Test with minimal example</li> </ol>"},{"location":"contributing/#bug-report-template","title":"Bug Report Template","text":"<p><pre><code>**Description**\nClear description of the bug\n\n**Steps to Reproduce**\n1. Step one\n2. Step two\n3. See error\n\n**Expected Behavior**\nWhat should happen\n\n**Actual Behavior**\nWhat actually happens\n\n**Environment**\n- Python version\n- OS\n- env-loader-pro version\n\n**Minimal Example**\n```python\n# Minimal code to reproduce\n</code></pre> <pre><code>## Feature Requests\n\n### Before Requesting\n\n1. Check existing issues\n2. Verify feature doesn't exist\n3. Consider use case\n\n### Feature Request Template\n\n```markdown\n**Use Case**\nWhy is this feature needed?\n\n**Proposed Solution**\nHow should it work?\n\n**Alternatives**\nOther approaches considered\n\n**Additional Context**\nAny other relevant information\n</code></pre></p>"},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":""},{"location":"contributing/#before-submitting","title":"Before Submitting","text":"<ol> <li>Update tests - Add tests for new features</li> <li>Update docs - Update documentation if needed</li> <li>Run tests - Ensure all tests pass</li> <li>Check linting - No linter errors</li> </ol>"},{"location":"contributing/#pr-checklist","title":"PR Checklist","text":"<ul> <li> Tests added/updated</li> <li> Documentation updated</li> <li> Type hints added</li> <li> Docstrings added</li> <li> No secrets in code</li> <li> Backward compatible (if applicable)</li> <li> All tests passing</li> </ul>"},{"location":"contributing/#pr-title-format","title":"PR Title Format","text":"<pre><code>feat: Add new provider for X\nfix: Resolve issue with Y\ndocs: Update documentation for Z\n</code></pre>"},{"location":"contributing/#security","title":"Security","text":""},{"location":"contributing/#security-issues","title":"Security Issues","text":"<p>Do NOT open public issues for security vulnerabilities. Email: shanen.j.thomas@gmail.com</p>"},{"location":"contributing/#security-checklist","title":"Security Checklist","text":"<ul> <li> No secrets in code</li> <li> No secrets in tests</li> <li> Proper error handling</li> <li> Input validation</li> <li> Secret masking in place</li> </ul>"},{"location":"contributing/#development-priorities","title":"Development Priorities","text":"<ol> <li>Security - Never compromise on security</li> <li>Backward Compatibility - Don't break existing code</li> <li>Performance - Maintain performance guarantees</li> <li>Documentation - Keep docs accurate</li> <li>Testing - Maintain test coverage</li> </ol>"},{"location":"contributing/#questions","title":"Questions?","text":"<ul> <li>Open an issue for questions</li> <li>Check existing documentation</li> <li>Review code examples</li> </ul> <p>Thank you for contributing! \ud83c\udf89</p>"},{"location":"api/exporters/","title":"Exporters","text":""},{"location":"api/exporters/#exporters-api","title":"Exporters API","text":"<p>Export configuration to various formats.</p>"},{"location":"api/exporters/#export-to-json","title":"Export to JSON","text":"<pre><code>config = load_env()\nconfig.save(\"config.json\", format=\"json\")\n</code></pre>"},{"location":"api/exporters/#export-to-yaml","title":"Export to YAML","text":"<pre><code>config = load_env()\nconfig.save(\"config.yaml\", format=\"yaml\")\n</code></pre>"},{"location":"api/exporters/#export-to-kubernetes","title":"Export to Kubernetes","text":"<pre><code>from env_loader_pro.exporters import export_kubernetes\n\nconfig = load_env()\nexport_kubernetes(config, output_path=\"k8s-config\")\n</code></pre>"},{"location":"api/exporters/#export-to-terraform","title":"Export to Terraform","text":"<pre><code>from env_loader_pro.exporters import export_tfvars\n\nconfig = load_env()\nexport_tfvars(config, output_path=\"terraform.tfvars\")\n</code></pre>"},{"location":"api/exporters/#generate-envexample","title":"Generate .env.example","text":"<pre><code>from env_loader_pro.exporters import generate_env_example\n\ngenerate_env_example(\n    required=[\"API_KEY\", \"PORT\"],\n    optional=[\"DEBUG\"],\n    output_path=\".env.example\"\n)\n</code></pre>"},{"location":"api/exporters/#related-topics","title":"Related Topics","text":"<ul> <li>CLI Commands</li> </ul>"},{"location":"api/load-env/","title":"Load env","text":""},{"location":"api/load-env/#load_env","title":"load_env","text":"<p>Main function for loading environment configuration.</p>"},{"location":"api/load-env/#signature","title":"Signature","text":"<pre><code>def load_env(\n    env: Optional[str] = None,\n    path: str = \".env\",\n    strict: bool = False,\n    trace: bool = False,\n    providers: Optional[List[BaseProvider]] = None,\n    cache: bool = True,\n    cache_ttl: int = 3600,\n    watch: bool = False,\n    audit: bool = False,\n    failure_policy: Optional[Dict[str, Union[str, FailurePolicy]]] = None,\n    performance_sla: Optional[PerformanceSLA] = None,\n    policy_file: Optional[str] = None,\n    required: Optional[List[str]] = None,\n    types: Optional[Dict[str, Type]] = None,\n    defaults: Optional[Dict[str, Any]] = None,\n    rules: Optional[Dict[str, Callable]] = None,\n    priority: str = \"system\",\n    encrypted: bool = False,\n    encryption_key: Optional[str] = None,\n) -&gt; Union[ConfigDict, Tuple[ConfigDict, ConfigAudit]]:\n</code></pre>"},{"location":"api/load-env/#parameters","title":"Parameters","text":"<ul> <li><code>env</code> - Environment name (e.g., \"prod\", \"dev\")</li> <li><code>path</code> - Path to .env file</li> <li><code>strict</code> - Enable strict mode</li> <li><code>trace</code> - Enable origin tracking</li> <li><code>providers</code> - List of configuration providers</li> <li><code>cache</code> - Enable caching</li> <li><code>cache_ttl</code> - Cache TTL in seconds</li> <li><code>watch</code> - Enable file watching</li> <li><code>audit</code> - Enable audit trail</li> <li><code>failure_policy</code> - Per-provider failure policies</li> <li><code>performance_sla</code> - Performance SLA</li> <li><code>policy_file</code> - Policy-as-code file path</li> <li><code>required</code> - Required variables</li> <li><code>types</code> - Type casting</li> <li><code>defaults</code> - Default values</li> <li><code>rules</code> - Validation rules</li> <li><code>priority</code> - Priority mode</li> <li><code>encrypted</code> - Load encrypted file</li> <li><code>encryption_key</code> - Encryption key path</li> </ul>"},{"location":"api/load-env/#returns","title":"Returns","text":"<ul> <li><code>ConfigDict</code> - Configuration dictionary</li> <li><code>Tuple[ConfigDict, ConfigAudit]</code> - If <code>audit=True</code></li> </ul>"},{"location":"api/load-env/#examples","title":"Examples","text":""},{"location":"api/load-env/#basic","title":"Basic","text":"<pre><code>config = load_env()\n</code></pre>"},{"location":"api/load-env/#with-types","title":"With Types","text":"<pre><code>config = load_env(types={\"PORT\": int, \"DEBUG\": bool})\n</code></pre>"},{"location":"api/load-env/#with-audit","title":"With Audit","text":"<pre><code>config, audit = load_env(audit=True)\n</code></pre>"},{"location":"api/load-env/#related-topics","title":"Related Topics","text":"<ul> <li>Getting Started</li> <li>Core Concepts</li> </ul>"},{"location":"api/load-with-schema/","title":"Load with schema","text":""},{"location":"api/load-with-schema/#load_with_schema","title":"load_with_schema","text":"<p>Load configuration with Pydantic or dataclass schema validation.</p>"},{"location":"api/load-with-schema/#signature","title":"Signature","text":"<pre><code>def load_with_schema(\n    schema: Union[Type[BaseModel], Type],\n    env: Optional[str] = None,\n    path: str = \".env\",\n    strict: bool = False,\n    trace: bool = False,\n    providers: Optional[List[BaseProvider]] = None,\n    cache: bool = True,\n    cache_ttl: int = 3600,\n    audit: bool = False,\n    failure_policy: Optional[Dict[str, Union[str, FailurePolicy]]] = None,\n    policy_file: Optional[str] = None,\n) -&gt; Union[BaseModel, Any]:\n</code></pre>"},{"location":"api/load-with-schema/#parameters","title":"Parameters","text":"<ul> <li><code>schema</code> - Pydantic model or dataclass</li> <li><code>env</code> - Environment name</li> <li><code>path</code> - Path to .env file</li> <li><code>strict</code> - Enable strict mode</li> <li><code>trace</code> - Enable origin tracking</li> <li><code>providers</code> - List of providers</li> <li><code>cache</code> - Enable caching</li> <li><code>cache_ttl</code> - Cache TTL</li> <li><code>audit</code> - Enable audit trail</li> <li><code>failure_policy</code> - Failure policies</li> <li><code>policy_file</code> - Policy file</li> </ul>"},{"location":"api/load-with-schema/#returns","title":"Returns","text":"<ul> <li>Schema instance with loaded values</li> </ul>"},{"location":"api/load-with-schema/#examples","title":"Examples","text":""},{"location":"api/load-with-schema/#pydantic","title":"Pydantic","text":"<pre><code>from pydantic import BaseModel\n\nclass Config(BaseModel):\n    port: int = 8080\n    debug: bool = False\n    api_key: str\n\nconfig = load_with_schema(Config)\n</code></pre>"},{"location":"api/load-with-schema/#dataclass","title":"Dataclass","text":"<pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Config:\n    port: int = 8080\n    debug: bool = False\n    api_key: str\n\nconfig = load_with_schema(Config)\n</code></pre>"},{"location":"api/load-with-schema/#related-topics","title":"Related Topics","text":"<ul> <li>Schema Support</li> </ul>"},{"location":"api/providers/","title":"Providers","text":""},{"location":"api/providers/#providers-api","title":"Providers API","text":"<p>Provider classes and interfaces.</p>"},{"location":"api/providers/#baseprovider","title":"BaseProvider","text":"<p>Abstract base class for all providers.</p> <pre><code>from env_loader_pro.providers import BaseProvider\n\nclass CustomProvider(BaseProvider):\n    def get(self, key: str) -&gt; Optional[str]:\n        pass\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        pass\n</code></pre>"},{"location":"api/providers/#azurekeyvaultprovider","title":"AzureKeyVaultProvider","text":"<pre><code>from env_loader_pro.providers import AzureKeyVaultProvider\n\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\",\n    credential=None,  # Uses DefaultAzureCredential\n    cache=True,\n    cache_ttl=3600\n)\n</code></pre>"},{"location":"api/providers/#awssecretsmanagerprovider","title":"AWSSecretsManagerProvider","text":"<pre><code>from env_loader_pro.providers import AWSSecretsManagerProvider\n\nprovider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/prod\",\n    region=\"us-east-1\",\n    cache=True,\n    cache_ttl=3600\n)\n</code></pre>"},{"location":"api/providers/#awsssmprovider","title":"AWSSSMProvider","text":"<pre><code>from env_loader_pro.providers import AWSSSMProvider\n\nprovider = AWSSSMProvider(\n    prefix=\"/myapp/prod/\",\n    region=\"us-east-1\"\n)\n</code></pre>"},{"location":"api/providers/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> </ul>"},{"location":"architecture/design-decisions/","title":"Design decisions","text":""},{"location":"architecture/design-decisions/#design-decisions","title":"Design Decisions","text":"<p>This document explains the why behind env-loader-pro's architecture. Each decision was made with specific tradeoffs in mind, informed by real-world production experience.</p>"},{"location":"architecture/design-decisions/#why-deterministic-precedence-matters","title":"Why Deterministic Precedence Matters","text":""},{"location":"architecture/design-decisions/#problem","title":"Problem","text":"<p>Configuration can come from multiple sources: <code>.env</code> files, system environment, cloud vaults, Docker secrets. Without a clear precedence order, you get:</p> <ul> <li>Non-deterministic behavior: Same code, different results</li> <li>Debugging nightmares: \"Why is this value wrong in production?\"</li> <li>Security risks: Local secrets overriding production secrets</li> <li>Compliance failures: Can't prove where values came from</li> </ul>"},{"location":"architecture/design-decisions/#decision","title":"Decision","text":"<p>Fixed precedence order (highest to lowest):</p> <ol> <li>Cloud providers (Azure, AWS)</li> <li>System environment variables</li> <li>Docker/K8s mounted secrets</li> <li><code>.env.{env}</code> (environment-specific)</li> <li>Base <code>.env</code> file</li> <li>Schema defaults</li> </ol> <p>This order is documented, tested, and cannot be changed.</p>"},{"location":"architecture/design-decisions/#outcome","title":"Outcome","text":"<ul> <li>Predictable: Same precedence everywhere, every time</li> <li>Secure by default: Cloud secrets always win (secrets win)</li> <li>Debuggable: <code>envloader explain</code> shows exact order</li> <li>Auditable: Audit trail records which source won</li> </ul>"},{"location":"architecture/design-decisions/#tradeoffs","title":"Tradeoffs","text":"<p>Pros: - No ambiguity - developers know exactly what will happen - Security-first - production secrets can't be overridden by local files - Testable - precedence is deterministic</p> <p>Cons: - Less flexible - can't customize precedence per environment - Learning curve - developers must understand the order - Migration - existing code might rely on different precedence</p> <p>Why we chose this: In production, predictability and security outweigh flexibility. A developer should never accidentally use a local <code>.env</code> value in production. The fixed order prevents this.</p>"},{"location":"architecture/design-decisions/#why-failure-policies-are-explicit","title":"Why Failure Policies Are Explicit","text":""},{"location":"architecture/design-decisions/#problem_1","title":"Problem","text":"<p>When a cloud provider fails (network outage, auth error, rate limit), what should happen?</p> <ul> <li>Fail fast? - Application crashes, but you know immediately</li> <li>Silently continue? - Application runs, but might be misconfigured</li> <li>Log and continue? - Application runs, but with warnings</li> </ul> <p>Different environments need different behaviors. Production should fail fast. Development should be resilient.</p>"},{"location":"architecture/design-decisions/#decision_1","title":"Decision","text":"<p>Explicit per-provider failure policies:</p> <pre><code>failure_policy = {\n    \"azure\": \"fail\",      # Production: fail on error\n    \"aws\": \"fallback\",    # Optional: continue if unavailable\n    \"filesystem\": \"warn\"  # Development: log but continue\n}\n</code></pre> <p>Three policies: - <code>fail</code> - Raise error immediately - <code>warn</code> - Log warning and continue - <code>fallback</code> - Silently continue</p>"},{"location":"architecture/design-decisions/#outcome_1","title":"Outcome","text":"<ul> <li>Environment-specific behavior: Production fails fast, dev is resilient</li> <li>Explicit intent: Code documents what should happen on failure</li> <li>Debuggable: Warnings logged with context</li> <li>Testable: Can test failure scenarios</li> </ul>"},{"location":"architecture/design-decisions/#tradeoffs_1","title":"Tradeoffs","text":"<p>Pros: - Clear behavior - no guessing what happens on failure - Flexible - different policies per provider - Production-safe - can enforce strict policies</p> <p>Cons: - More configuration - must set policies explicitly - Learning curve - developers must understand policies - Potential for misconfiguration - wrong policy for environment</p> <p>Why we chose this: Explicit is better than implicit. In production, you want to know immediately if Azure Key Vault is down. In development, you want the app to run even if cloud providers are unavailable. Explicit policies make this clear.</p>"},{"location":"architecture/design-decisions/#why-audit-trails-are-per-variable","title":"Why Audit Trails Are Per-Variable","text":""},{"location":"architecture/design-decisions/#problem_2","title":"Problem","text":"<p>Compliance and security audits need to answer: - \"Where did this secret come from?\" - \"When was it loaded?\" - \"Was it from a secure source?\"</p> <p>Traditional logging doesn't track this. You get logs like: <pre><code>INFO: Loaded configuration\nINFO: Using DB_PASSWORD from environment\n</code></pre></p> <p>But you can't answer: \"Was DB_PASSWORD from Azure or from a file?\"</p>"},{"location":"architecture/design-decisions/#decision_2","title":"Decision","text":"<p>Per-variable audit trail that records: - Source (azure, aws, system, file, etc.) - Provider name (if applicable) - Timestamp - Masked status - Never the actual value</p> <pre><code>config, audit = load_env(audit=True)\nentry = audit.get(\"DB_PASSWORD\")\n# entry.source = \"azure\"\n# entry.provider = \"AzureKeyVaultProvider\"\n# entry.timestamp = \"2024-01-15T10:30:00Z\"\n</code></pre>"},{"location":"architecture/design-decisions/#outcome_2","title":"Outcome","text":"<ul> <li>Compliance-ready: Can prove where every value came from</li> <li>Debuggable: Know exactly which source provided each value</li> <li>Secure: Never stores actual secret values</li> <li>Machine-readable: JSON export for compliance systems</li> </ul>"},{"location":"architecture/design-decisions/#tradeoffs_2","title":"Tradeoffs","text":"<p>Pros: - Complete provenance - know source of every variable - Compliance-friendly - audit trail for SOC 2, etc. - Debuggable - trace configuration issues - Safe - no secrets in audit trail</p> <p>Cons: - Memory overhead - stores metadata for every variable - Performance - slight overhead to track sources - Complexity - more code to maintain</p> <p>Why we chose this: Compliance is non-negotiable. In regulated environments, you must prove where secrets came from. Per-variable audit trails provide this proof without storing secrets.</p>"},{"location":"architecture/design-decisions/#why-cloud-sdks-are-optional","title":"Why Cloud SDKs Are Optional","text":""},{"location":"architecture/design-decisions/#problem_3","title":"Problem","text":"<p>Many configuration libraries require cloud SDKs: - <code>boto3</code> for AWS - <code>azure-identity</code> for Azure - <code>google-cloud-secret-manager</code> for GCP</p> <p>This creates problems: - Heavy dependencies: Large SDKs slow down installation - Breaking changes: SDK updates can break the library - CI/CD complexity: CI pipelines need cloud credentials - Local development: Can't develop without cloud access</p>"},{"location":"architecture/design-decisions/#decision_3","title":"Decision","text":"<p>Cloud SDKs are optional plugins:</p> <pre><code># Core library works without cloud SDKs\nfrom env_loader_pro import load_env\nconfig = load_env()  # Works!\n\n# Cloud providers are optional\ntry:\n    from env_loader_pro.providers import AzureKeyVaultProvider\n    provider = AzureKeyVaultProvider(...)\nexcept ImportError:\n    # Graceful degradation - use local config\n    provider = None\n</code></pre>"},{"location":"architecture/design-decisions/#outcome_3","title":"Outcome","text":"<ul> <li>Lightweight core: Core library is small and fast</li> <li>CI/CD friendly: CI pipelines don't need cloud SDKs</li> <li>Local development: Developers can work offline</li> <li>Graceful degradation: App works even if providers unavailable</li> </ul>"},{"location":"architecture/design-decisions/#tradeoffs_3","title":"Tradeoffs","text":"<p>Pros: - Small core - fast installation, fewer dependencies - CI/CD safe - validation works without cloud access - Flexible - use only what you need - Resilient - app works even if cloud unavailable</p> <p>Cons: - Import errors - must handle ImportError gracefully - Feature discovery - harder to know what's available - Documentation - must document optional features</p> <p>Why we chose this: Core should work everywhere. Not every environment has cloud access. CI pipelines, local development, air-gapped systems - all should work with the core library. Cloud providers are enhancements, not requirements.</p>"},{"location":"architecture/design-decisions/#why-ci-safe-mode-exists","title":"Why CI-Safe Mode Exists","text":""},{"location":"architecture/design-decisions/#problem_4","title":"Problem","text":"<p>CI/CD pipelines need to validate configuration, but: - No cloud credentials: CI pipelines shouldn't have production secrets - Deterministic behavior: Same validation every time - Fast execution: No network calls to cloud providers - Proper exit codes: Pipeline should fail on validation errors</p> <p>Traditional approaches: - Skip validation in CI (bad - misses errors) - Use cloud credentials in CI (bad - security risk) - Mock providers (complex - requires test setup)</p>"},{"location":"architecture/design-decisions/#decision_4","title":"Decision","text":"<p>CI-safe mode (<code>--ci</code> flag) that: - Disables cloud providers (no network calls) - Uses only local sources (.env files, system env) - Provides deterministic behavior - Returns proper exit codes</p> <pre><code># CI pipeline\nenvloader validate --ci --required API_KEY PORT\n# Exit code 0 = success, non-zero = failure\n</code></pre>"},{"location":"architecture/design-decisions/#outcome_4","title":"Outcome","text":"<ul> <li>Secure: No cloud credentials needed in CI</li> <li>Fast: No network calls, completes in milliseconds</li> <li>Deterministic: Same result every time</li> <li>Pipeline-friendly: Proper exit codes for automation</li> </ul>"},{"location":"architecture/design-decisions/#tradeoffs_4","title":"Tradeoffs","text":"<p>Pros: - Secure - no cloud credentials in CI - Fast - no network latency - Deterministic - same result every run - Simple - one flag, works everywhere</p> <p>Cons: - Limited validation - can't validate cloud provider values - Different behavior - CI vs production might differ - Must remember flag - easy to forget <code>--ci</code></p> <p>Why we chose this: CI pipelines should be fast and secure. They shouldn't need production credentials or make network calls. CI-safe mode provides validation without these requirements.</p>"},{"location":"architecture/design-decisions/#why-encrypted-configs-are-supported","title":"Why Encrypted Configs Are Supported","text":""},{"location":"architecture/design-decisions/#problem_5","title":"Problem","text":"<p><code>.env</code> files often contain secrets. Even if you don't commit them: - Local storage: Secrets stored in plaintext on disk - Backup exposure: Backups might include <code>.env</code> files - Developer machines: Secrets on developer laptops - Version control accidents: Accidental commits</p>"},{"location":"architecture/design-decisions/#decision_5","title":"Decision","text":"<p>Support encrypted <code>.env</code> files with multiple methods: - <code>age</code> - Modern, simple encryption - <code>GPG</code> - Standard, widely supported - <code>openssl</code> - Universal, always available</p> <pre><code># Encrypt\nenvloader encrypt .env --method age\n\n# Load encrypted\nconfig = load_env(path=\".env.enc\", encrypted=True)\n</code></pre> <p>Guarantee: Plaintext is never persisted to disk during encrypt/decrypt.</p>"},{"location":"architecture/design-decisions/#outcome_5","title":"Outcome","text":"<ul> <li>Secure storage: Secrets encrypted at rest</li> <li>Version control safe: Can commit encrypted files</li> <li>Backup safe: Encrypted files in backups</li> <li>Multiple methods: Choose based on environment</li> </ul>"},{"location":"architecture/design-decisions/#tradeoffs_5","title":"Tradeoffs","text":"<p>Pros: - Secure - secrets encrypted at rest - Version control friendly - can commit encrypted files - Flexible - multiple encryption methods - Safe - plaintext never persisted</p> <p>Cons: - Complexity - must manage encryption keys - Performance - decryption overhead - Key management - must secure encryption keys</p> <p>Why we chose this: Secrets should be encrypted at rest. Even if you don't commit <code>.env</code> files, they're stored in plaintext on disk. Encrypted configs solve this while allowing version control of encrypted files.</p>"},{"location":"architecture/design-decisions/#why-backward-compatibility-was-preserved","title":"Why Backward Compatibility Was Preserved","text":""},{"location":"architecture/design-decisions/#problem_6","title":"Problem","text":"<p>env-loader-pro was refactored from a simpler library. Options: - Breaking changes: Clean API, but breaks existing code - Backward compatible: Supports old API, but more complex - Deprecation path: Support old API, deprecate gradually</p>"},{"location":"architecture/design-decisions/#decision_6","title":"Decision","text":"<p>Full backward compatibility:</p> <pre><code># Old API (still works)\nconfig = load_env(\n    path=\".env\",\n    required=[\"API_KEY\"],\n    types={\"PORT\": int},\n    defaults={\"PORT\": 8080},\n    priority=\"system\"\n)\n\n# New API (enhanced features)\nconfig = load_env(\n    env=\"prod\",\n    providers=[azure_provider],\n    audit=True,\n    failure_policy={\"azure\": \"fail\"}\n)\n</code></pre> <p>All old parameters work. New features are additive.</p>"},{"location":"architecture/design-decisions/#outcome_6","title":"Outcome","text":"<ul> <li>Zero migration: Existing code works unchanged</li> <li>Gradual adoption: Can adopt new features incrementally</li> <li>Low risk: No breaking changes in production</li> <li>Developer friendly: No forced rewrites</li> </ul>"},{"location":"architecture/design-decisions/#tradeoffs_6","title":"Tradeoffs","text":"<p>Pros: - Zero migration - existing code works - Low risk - no breaking changes - Gradual adoption - adopt new features when ready - Developer friendly - no forced rewrites</p> <p>Cons: - API complexity - more parameters to understand - Legacy support - must maintain old code paths - Documentation - must document both old and new APIs</p> <p>Why we chose this: Breaking changes hurt adoption. In enterprise environments, breaking changes require migration projects, testing, and risk. Backward compatibility allows gradual adoption of new features without forcing rewrites.</p>"},{"location":"architecture/design-decisions/#why-mkdocs-github-pages-was-chosen","title":"Why MkDocs + GitHub Pages Was Chosen","text":""},{"location":"architecture/design-decisions/#problem_7","title":"Problem","text":"<p>Documentation needs: - Version control: Docs should be in git - Easy updates: Developers should update docs easily - Professional appearance: Enterprise-grade look - Free hosting: No infrastructure costs - Search: Users need to find information</p>"},{"location":"architecture/design-decisions/#decision_7","title":"Decision","text":"<p>MkDocs Material + GitHub Pages: - Documentation in markdown (version controlled) - Material theme (professional appearance) - GitHub Pages (free hosting) - Built-in search - Easy deployment (<code>mkdocs gh-deploy</code>)</p>"},{"location":"architecture/design-decisions/#outcome_7","title":"Outcome","text":"<ul> <li>Version controlled: Docs in git, changes tracked</li> <li>Professional: Material theme looks enterprise-grade</li> <li>Free: GitHub Pages is free</li> <li>Easy updates: Developers edit markdown, deploy automatically</li> <li>Searchable: Built-in search functionality</li> </ul>"},{"location":"architecture/design-decisions/#tradeoffs_7","title":"Tradeoffs","text":"<p>Pros: - Free - no hosting costs - Version controlled - docs in git - Professional - Material theme looks great - Easy - markdown is simple - Searchable - built-in search</p> <p>Cons: - GitHub dependency - tied to GitHub - Static only - no dynamic content - Limited customization - Material theme constraints</p> <p>Why we chose this: Documentation should be easy to maintain. MkDocs + GitHub Pages provides professional documentation with minimal effort. Developers can update docs by editing markdown files.</p>"},{"location":"architecture/design-decisions/#what-env-loader-pro-intentionally-does-not-solve","title":"What env-loader-pro Intentionally Does NOT Solve","text":""},{"location":"architecture/design-decisions/#not-a-secret-rotation-tool","title":"Not a Secret Rotation Tool","text":"<p>What it does: - Loads secrets from rotation-capable sources (Azure Key Vault, AWS Secrets Manager) - Tracks secret metadata (TTL, rotation status)</p> <p>What it doesn't do: - Rotate secrets automatically - Manage secret rotation schedules - Coordinate rotation across services</p> <p>Why: Secret rotation is a separate concern. env-loader-pro focuses on loading configuration, not managing it.</p>"},{"location":"architecture/design-decisions/#not-a-configuration-management-system","title":"Not a Configuration Management System","text":"<p>What it does: - Loads configuration from multiple sources - Merges with deterministic precedence - Validates configuration</p> <p>What it doesn't do: - Store configuration in a database - Provide a UI for editing configuration - Manage configuration versions - Coordinate configuration across services</p> <p>Why: Configuration management (Ansible, Terraform, etc.) is a different problem. env-loader-pro focuses on runtime loading, not configuration management.</p>"},{"location":"architecture/design-decisions/#not-a-service-discovery-tool","title":"Not a Service Discovery Tool","text":"<p>What it does: - Loads service endpoints from configuration - Supports environment-specific endpoints</p> <p>What it doesn't do: - Discover services automatically - Manage service registries - Handle service health checks</p> <p>Why: Service discovery (Consul, etcd, etc.) is a separate concern. env-loader-pro loads static configuration, not dynamic service discovery.</p>"},{"location":"architecture/design-decisions/#not-a-feature-flag-system","title":"Not a Feature Flag System","text":"<p>What it does: - Loads feature flags as configuration - Supports environment-specific flags</p> <p>What it doesn't do: - Provide feature flag UI - Manage feature flag rollouts - A/B testing - Real-time flag updates</p> <p>Why: Feature flags (LaunchDarkly, etc.) are a specialized domain. env-loader-pro loads configuration, not feature flag logic.</p>"},{"location":"architecture/design-decisions/#not-a-secrets-injection-tool","title":"Not a Secrets Injection Tool","text":"<p>What it does: - Loads secrets into application memory - Provides secure access to secrets</p> <p>What it doesn't do: - Inject secrets into running processes - Manage secret injection at container level - Coordinate secret injection across pods</p> <p>Why: Secret injection (Vault Agent, etc.) is infrastructure-level. env-loader-pro is application-level configuration loading.</p>"},{"location":"architecture/design-decisions/#design-philosophy-summary","title":"Design Philosophy Summary","text":"<p>env-loader-pro follows these principles:</p> <ol> <li>Security First: Secrets win, audit everything, mask by default</li> <li>Predictability: Deterministic behavior, no surprises</li> <li>Simplicity: Core works everywhere, optional enhancements</li> <li>Compatibility: Backward compatible, gradual adoption</li> <li>Observability: Audit trails, tracing, performance monitoring</li> <li>Resilience: Graceful degradation, failure policies</li> </ol> <p>These principles guide every design decision and tradeoff.</p>"},{"location":"architecture/overview/","title":"Overview","text":""},{"location":"architecture/overview/#architecture-overview","title":"Architecture Overview","text":"<p>High-level architecture and design principles.</p>"},{"location":"architecture/overview/#directory-structure","title":"Directory Structure","text":"<pre><code>env_loader_pro/\n\u251c\u2500\u2500 core/                    # Core functionality\n\u2502   \u251c\u2500\u2500 loader.py           # Unified load_env API\n\u2502   \u251c\u2500\u2500 merger.py           # Source priority resolution\n\u2502   \u251c\u2500\u2500 schema.py           # Enhanced schema validation\n\u2502   \u251c\u2500\u2500 tracing.py          # Origin tracking &amp; observability\n\u2502   \u251c\u2500\u2500 cache.py            # TTL-based caching\n\u2502   \u251c\u2500\u2500 audit.py            # Audit trail system\n\u2502   \u251c\u2500\u2500 policy.py           # Failure policy control\n\u2502   \u251c\u2500\u2500 policy_code.py     # Policy-as-code enforcement\n\u2502   \u251c\u2500\u2500 diff.py             # Configuration drift detection\n\u2502   \u2514\u2500\u2500 performance.py      # Performance monitoring\n\u2502\n\u251c\u2500\u2500 providers/              # Configuration source providers\n\u2502   \u251c\u2500\u2500 base.py             # Abstract provider interface\n\u2502   \u251c\u2500\u2500 azure.py            # Azure Key Vault\n\u2502   \u251c\u2500\u2500 aws.py              # AWS Secrets Manager &amp; SSM\n\u2502   \u251c\u2500\u2500 docker.py           # Docker/K8s secrets\n\u2502   \u2514\u2500\u2500 filesystem.py       # Filesystem-mounted configs\n\u2502\n\u251c\u2500\u2500 crypto/                 # Encryption support\n\u2502   \u251c\u2500\u2500 decryptor.py        # Generic decrypt interface\n\u2502   \u251c\u2500\u2500 age.py              # age encryption\n\u2502   \u251c\u2500\u2500 gpg.py              # GPG encryption\n\u2502   \u2514\u2500\u2500 lifecycle.py        # Encrypted file lifecycle\n\u2502\n\u251c\u2500\u2500 watch/                  # Live reloading\n\u2502   \u2514\u2500\u2500 reloader.py         # File watching &amp; reload\n\u2502\n\u251c\u2500\u2500 exporters/              # Configuration exporters\n\u2502   \u251c\u2500\u2500 env_example.py      # Generate .env.example\n\u2502   \u251c\u2500\u2500 kubernetes.py       # K8s ConfigMap/Secret YAML\n\u2502   \u2514\u2500\u2500 terraform.py        # Terraform .tfvars\n\u2502\n\u2514\u2500\u2500 utils/                  # Utility modules\n    \u251c\u2500\u2500 masking.py          # Secret masking\n    \u251c\u2500\u2500 autodetect.py       # Runtime environment detection\n    \u2514\u2500\u2500 logging.py           # Structured logging\n</code></pre>"},{"location":"architecture/overview/#core-principles","title":"Core Principles","text":""},{"location":"architecture/overview/#1-security-first","title":"1. Security First","text":"<ul> <li>Automatic secret masking in logs and safe_repr()</li> <li>No secrets in plaintext unless explicitly requested</li> <li>Cloud providers override local config by default (secrets win)</li> <li>Full audit trail for compliance</li> </ul>"},{"location":"architecture/overview/#2-cloud-agnostic-core","title":"2. Cloud-Agnostic Core","text":"<ul> <li>Azure and AWS integrations are optional plugins</li> <li>Core library works without cloud SDKs</li> <li>Graceful degradation if providers unavailable</li> </ul>"},{"location":"architecture/overview/#3-deterministic-configuration-precedence","title":"3. Deterministic Configuration Precedence","text":"<p>Priority Order (highest to lowest): 1. Cloud providers (Azure Key Vault, AWS Secrets Manager) 2. System environment variables 3. Docker/K8s mounted secrets 4. .env.{env} (environment-specific) 5. Base .env file 6. Schema defaults</p>"},{"location":"architecture/overview/#4-enterprise-defaults","title":"4. Enterprise Defaults","text":"<ul> <li>Validation enabled by default</li> <li>Tracing available for observability</li> <li>Caching enabled for performance</li> <li>Strict mode available for production</li> </ul>"},{"location":"architecture/overview/#load-flow","title":"Load Flow","text":"<pre><code>1. Load from providers (Azure, AWS) \u2192 highest priority\n2. Merge system environment variables\n3. Merge Docker/K8s mounted secrets\n4. Load .env.{env} (environment-specific)\n5. Load base .env file\n6. Apply schema defaults \u2192 lowest priority\n7. Type casting\n8. Validation (required, rules, policy)\n9. Return ConfigDict with metadata\n</code></pre>"},{"location":"architecture/overview/#related-topics","title":"Related Topics","text":"<ul> <li>Design Principles</li> <li>Provider System</li> </ul>"},{"location":"architecture/principles/","title":"Principles","text":""},{"location":"architecture/principles/#design-principles","title":"Design Principles","text":"<p>Core design principles and philosophy.</p>"},{"location":"architecture/principles/#security-first","title":"Security First","text":"<ul> <li>Automatic secret masking in logs and safe_repr()</li> <li>No secrets in plaintext unless explicitly requested</li> <li>Cloud providers override local config by default (secrets win)</li> <li>Full audit trail for compliance</li> </ul>"},{"location":"architecture/principles/#cloud-agnostic-core","title":"Cloud-Agnostic Core","text":"<ul> <li>Azure and AWS integrations are optional plugins</li> <li>Core library works without cloud SDKs</li> <li>Graceful degradation if providers unavailable</li> </ul>"},{"location":"architecture/principles/#deterministic-precedence","title":"Deterministic Precedence","text":"<p>Configuration precedence is fixed and documented - no ambiguity.</p>"},{"location":"architecture/principles/#enterprise-defaults","title":"Enterprise Defaults","text":"<ul> <li>Validation enabled by default</li> <li>Tracing available for observability</li> <li>Caching enabled for performance</li> <li>Strict mode available for production</li> </ul>"},{"location":"architecture/principles/#backward-compatibility","title":"Backward Compatibility","text":"<ul> <li>Old API is fully supported</li> <li>New features are additive</li> <li>No breaking changes</li> </ul>"},{"location":"architecture/principles/#performance","title":"Performance","text":"<ul> <li>Caching to reduce API calls</li> <li>Circuit breakers for resilience</li> <li>Performance monitoring with SLAs</li> </ul>"},{"location":"architecture/principles/#related-topics","title":"Related Topics","text":"<ul> <li>Architecture Overview</li> <li>Provider System</li> </ul>"},{"location":"architecture/providers/","title":"Providers","text":""},{"location":"architecture/providers/#provider-system","title":"Provider System","text":"<p>How the provider plugin system works.</p>"},{"location":"architecture/providers/#provider-interface","title":"Provider Interface","text":"<p>All providers inherit from <code>BaseProvider</code>:</p> <pre><code>from env_loader_pro.providers import BaseProvider\n\nclass CustomProvider(BaseProvider):\n    def get(self, key: str) -&gt; Optional[str]:\n        \"\"\"Get single value.\"\"\"\n        pass\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        \"\"\"Get multiple values.\"\"\"\n        pass\n\n    def get_all(self) -&gt; Dict[str, str]:\n        \"\"\"Get all values (optional, for efficiency).\"\"\"\n        pass\n</code></pre>"},{"location":"architecture/providers/#provider-capabilities","title":"Provider Capabilities","text":"<p>Each provider exposes capabilities:</p> <pre><code>provider = AzureKeyVaultProvider(...)\ncapabilities = provider.capabilities\n\n# {\n#   \"batch\": True,        # Supports get_many\n#   \"cacheable\": True,    # Values can be cached\n#   \"rotatable\": False,   # Supports secret rotation\n#   \"watchable\": False,   # Supports watching\n#   \"metadata\": True      # Provides secret metadata\n# }\n</code></pre>"},{"location":"architecture/providers/#provider-priority","title":"Provider Priority","text":"<p>Providers have the highest priority in configuration precedence.</p>"},{"location":"architecture/providers/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Custom Providers</li> </ul>"},{"location":"cli/commands/","title":"Commands","text":""},{"location":"cli/commands/#cli-commands","title":"CLI Commands","text":"<p>Complete reference for the <code>envloader</code> command-line tool. All commands support CI-safe mode with <code>--ci</code> flag.</p>"},{"location":"cli/commands/#command-overview","title":"Command Overview","text":"Command Description CI-Safe <code>show</code> Display environment variables \u2705 <code>validate</code> Validate configuration \u2705 <code>audit</code> Show audit trail \u2705 <code>diff</code> Compare configurations \u2705 <code>explain</code> Explain precedence \u2705 <code>export</code> Export to JSON/YAML \u2705 <code>generate-example</code> Generate .env.example \u2705 <code>encrypt</code> Encrypt .env file \u2705 <code>decrypt</code> Decrypt .env file \u2705"},{"location":"cli/commands/#show","title":"show","text":"<p>Display environment variables in various formats.</p>"},{"location":"cli/commands/#syntax","title":"Syntax","text":"<pre><code>envloader show [--env ENV] [--path PATH] [--format FORMAT] [--unmask]\n</code></pre>"},{"location":"cli/commands/#options","title":"Options","text":"Option Description Default <code>--env ENV</code> Environment name (e.g., prod, dev) None <code>--path PATH</code> Path to .env file <code>.env</code> <code>--format FORMAT</code> Output format: <code>json</code>, <code>yaml</code>, <code>pretty</code> <code>pretty</code> <code>--unmask</code> Show unmasked secret values (dangerous!) False"},{"location":"cli/commands/#examples","title":"Examples","text":"<pre><code># Show current config (pretty format)\nenvloader show\n\n# Show production config\nenvloader show --env prod\n\n# Export as JSON\nenvloader show --format json\n\n# Export as YAML\nenvloader show --format yaml\n\n# Show unmasked values (dangerous!)\nenvloader show --unmask\n</code></pre> <p>Unmask Flag</p> <p>The <code>--unmask</code> flag shows secret values in plaintext. Never use in production or CI/CD pipelines.</p>"},{"location":"cli/commands/#exit-codes","title":"Exit Codes","text":"<ul> <li><code>0</code> - Success</li> <li><code>1</code> - Error (file not found, parsing error, etc.)</li> </ul>"},{"location":"cli/commands/#validate","title":"validate","text":"<p>Validate environment configuration. This command is CI-safe by default when using <code>--ci</code> flag.</p>"},{"location":"cli/commands/#syntax_1","title":"Syntax","text":"<pre><code>envloader validate [--env ENV] [--path PATH] [--required VAR ...] [--ci] [--strict]\n</code></pre>"},{"location":"cli/commands/#options_1","title":"Options","text":"Option Description Default <code>--env ENV</code> Environment name None <code>--path PATH</code> Path to .env file <code>.env</code> <code>--required VAR</code> Required variables (can specify multiple) None <code>--ci</code> CI mode: no cloud access, fail on errors False <code>--strict</code> Enable strict mode (warn on unknown vars) False"},{"location":"cli/commands/#examples_1","title":"Examples","text":"<pre><code># Basic validation\nenvloader validate\n\n# Validate with required variables\nenvloader validate --required API_KEY PORT DB_URI\n\n# CI-safe validation (no cloud access)\nenvloader validate --ci --required API_KEY PORT\n\n# Strict mode (warn on unknown variables)\nenvloader validate --strict\n</code></pre>"},{"location":"cli/commands/#ci-mode-behavior","title":"CI Mode Behavior","text":"<p>When <code>--ci</code> flag is used: - \u2705 No cloud providers accessed (providers list is empty) - \u2705 No network calls to Azure/AWS - \u2705 Deterministic behavior (same result every time) - \u2705 Proper exit codes (0 = success, non-zero = failure)</p>"},{"location":"cli/commands/#exit-codes_1","title":"Exit Codes","text":"<ul> <li><code>0</code> - Validation passed</li> <li><code>1</code> - Validation failed (missing required vars, type errors, etc.)</li> <li><code>2</code> - Configuration error (file not found, etc.)</li> </ul>"},{"location":"cli/commands/#example-output","title":"Example Output","text":"<pre><code>$ envloader validate --required API_KEY PORT\n\u2713 Validation passed\nFound 15 environment variables\n\n$ envloader validate --required MISSING_VAR\n\u2717 Validation failed: Missing required environment variables: MISSING_VAR\n</code></pre>"},{"location":"cli/commands/#audit","title":"audit","text":"<p>Show configuration audit trail with provenance information.</p>"},{"location":"cli/commands/#syntax_2","title":"Syntax","text":"<pre><code>envloader audit [--env ENV] [--path PATH] [--json] [--ci]\n</code></pre>"},{"location":"cli/commands/#options_2","title":"Options","text":"Option Description Default <code>--env ENV</code> Environment name None <code>--path PATH</code> Path to .env file <code>.env</code> <code>--json</code> Output as JSON False (human-readable) <code>--ci</code> CI mode: no cloud access False"},{"location":"cli/commands/#examples_2","title":"Examples","text":"<pre><code># Show audit trail (human-readable)\nenvloader audit\n\n# Export as JSON\nenvloader audit --json\n\n# CI-safe audit\nenvloader audit --ci --json\n\n# Production audit\nenvloader audit --env prod --json\n</code></pre>"},{"location":"cli/commands/#exit-codes_2","title":"Exit Codes","text":"<ul> <li><code>0</code> - Success</li> <li><code>1</code> - Error (file not found, etc.)</li> </ul>"},{"location":"cli/commands/#example-output_1","title":"Example Output","text":"<pre><code>$ envloader audit --json\n{\n  \"API_KEY\": {\n    \"key\": \"API_KEY\",\n    \"source\": \"azure\",\n    \"provider\": \"AzureKeyVaultProvider\",\n    \"masked\": true,\n    \"timestamp\": \"2024-01-15T10:30:00.123456\"\n  },\n  \"PORT\": {\n    \"key\": \"PORT\",\n    \"source\": \"file\",\n    \"provider\": null,\n    \"masked\": false,\n    \"timestamp\": \"2024-01-15T10:30:00.123456\"\n  }\n}\n</code></pre>"},{"location":"cli/commands/#diff","title":"diff","text":"<p>Compare current configuration with a baseline to detect changes.</p>"},{"location":"cli/commands/#syntax_3","title":"Syntax","text":"<pre><code>envloader diff [--env ENV] [--path PATH] [--baseline PATH] [--deny-secret-changes] [--deny-added-secrets] [--ci]\n</code></pre>"},{"location":"cli/commands/#options_3","title":"Options","text":"Option Description Default <code>--env ENV</code> Environment name None <code>--path PATH</code> Path to .env file <code>.env</code> <code>--baseline PATH</code> Baseline configuration file (JSON/YAML) None <code>--deny-secret-changes</code> Fail if secrets added/removed/changed False <code>--deny-added-secrets</code> Fail if new secrets added False <code>--ci</code> CI mode: no cloud access False"},{"location":"cli/commands/#examples_3","title":"Examples","text":"<pre><code># Compare with baseline\nenvloader diff --baseline .env.baseline\n\n# Fail on secret changes (CI/CD)\nenvloader diff --ci --deny-secret-changes --baseline .env.baseline\n\n# Fail if new secrets added\nenvloader diff --ci --deny-added-secrets --baseline .env.baseline\n</code></pre>"},{"location":"cli/commands/#exit-codes_3","title":"Exit Codes","text":"<ul> <li><code>0</code> - No changes or changes allowed</li> <li><code>1</code> - Changes detected and denied (with <code>--deny-*</code> flags)</li> <li><code>2</code> - Error (baseline not found, etc.)</li> </ul>"},{"location":"cli/commands/#example-output_2","title":"Example Output","text":"<pre><code>$ envloader diff --baseline .env.baseline\nAdded variables:\n  - NEW_VAR: \"value\"\n\nChanged variables:\n  - PORT: \"8080\" \u2192 \"9000\"\n\nRemoved variables:\n  - OLD_VAR: \"value\"\n</code></pre>"},{"location":"cli/commands/#explain","title":"explain","text":"<p>Explain configuration precedence and failure policies.</p>"},{"location":"cli/commands/#syntax_4","title":"Syntax","text":"<pre><code>envloader explain [--env ENV] [--path PATH] [--format FORMAT]\n</code></pre>"},{"location":"cli/commands/#options_4","title":"Options","text":"Option Description Default <code>--env ENV</code> Environment name None <code>--path PATH</code> Path to .env file <code>.env</code> <code>--format FORMAT</code> Output format: <code>text</code>, <code>json</code> <code>text</code>"},{"location":"cli/commands/#examples_4","title":"Examples","text":"<pre><code># Explain precedence (human-readable)\nenvloader explain\n\n# Export as JSON\nenvloader explain --format json\n\n# Production explanation\nenvloader explain --env prod\n</code></pre>"},{"location":"cli/commands/#exit-codes_4","title":"Exit Codes","text":"<ul> <li><code>0</code> - Success</li> <li><code>1</code> - Error</li> </ul>"},{"location":"cli/commands/#example-output_3","title":"Example Output","text":"<pre><code>$ envloader explain\n======================================================================\nCONFIGURATION PRECEDENCE &amp; POLICIES\n======================================================================\n\nResolution Order (highest to lowest priority):\n\n  1. Cloud providers (Azure Key Vault, AWS Secrets Manager)\n     Source: cloud_providers\n\n  2. System environment variables\n     Source: system\n\n  3. Docker/K8s mounted secrets\n     Source: docker_k8s\n\n  4. .env.prod (environment-specific file)\n     Source: env_specific\n\n  5. Base .env file\n     Source: base_file\n\n  6. Schema default values\n     Source: schema_defaults\n\nFailure Policies (default):\n  azure              : fail        (Raise error on failure)\n  aws                : fallback    (Silently continue (use fallback))\n  filesystem         : warn        (Log warning and continue)\n  docker             : warn        (Log warning and continue)\n  kubernetes         : warn        (Log warning and continue)\n\nNote: Later sources override earlier ones in case of conflicts.\n      Cloud providers have highest priority (secrets win).\n</code></pre>"},{"location":"cli/commands/#export","title":"export","text":"<p>Export configuration to JSON or YAML file.</p>"},{"location":"cli/commands/#syntax_5","title":"Syntax","text":"<pre><code>envloader export [--env ENV] [--path PATH] [--output PATH] [--format FORMAT]\n</code></pre>"},{"location":"cli/commands/#options_5","title":"Options","text":"Option Description Default <code>--env ENV</code> Environment name None <code>--path PATH</code> Path to .env file <code>.env</code> <code>--output PATH</code> Output file path (required) None <code>--format FORMAT</code> Output format: <code>json</code>, <code>yaml</code> <code>json</code>"},{"location":"cli/commands/#examples_5","title":"Examples","text":"<pre><code># Export to JSON\nenvloader export --output config.json --format json\n\n# Export to YAML\nenvloader export --output config.yaml --format yaml\n\n# Export production config\nenvloader export --env prod --output config.prod.json\n</code></pre> <p>Export Safety</p> <p>Exported files use <code>safe_repr()</code> by default, which masks secrets. This is safe to commit to version control.</p>"},{"location":"cli/commands/#exit-codes_5","title":"Exit Codes","text":"<ul> <li><code>0</code> - Success</li> <li><code>1</code> - Error (file write error, etc.)</li> </ul>"},{"location":"cli/commands/#generate-example","title":"generate-example","text":"<p>Generate a <code>.env.example</code> file from required and optional variables.</p>"},{"location":"cli/commands/#syntax_6","title":"Syntax","text":"<pre><code>envloader generate-example [--output PATH] [--required VAR ...] [--optional VAR ...]\n</code></pre>"},{"location":"cli/commands/#options_6","title":"Options","text":"Option Description Default <code>--output PATH</code> Output file path <code>.env.example</code> <code>--required VAR</code> Required variables (can specify multiple) None <code>--optional VAR</code> Optional variables (can specify multiple) None"},{"location":"cli/commands/#examples_6","title":"Examples","text":"<pre><code># Generate .env.example\nenvloader generate-example --required API_KEY PORT --optional DEBUG\n\n# Custom output path\nenvloader generate-example --output .env.template --required DB_URI\n</code></pre>"},{"location":"cli/commands/#exit-codes_6","title":"Exit Codes","text":"<ul> <li><code>0</code> - Success</li> <li><code>1</code> - Error (file write error, etc.)</li> </ul>"},{"location":"cli/commands/#example-output_4","title":"Example Output","text":"<pre><code>$ envloader generate-example --required API_KEY PORT --optional DEBUG\nGenerated .env.example\n</code></pre> <p>Generated <code>.env.example</code>: <pre><code># Required variables\nAPI_KEY=\nPORT=\n\n# Optional variables\nDEBUG=\n</code></pre></p>"},{"location":"cli/commands/#encrypt","title":"encrypt","text":"<p>Encrypt a <code>.env</code> file using age or GPG.</p>"},{"location":"cli/commands/#syntax_7","title":"Syntax","text":"<pre><code>envloader encrypt INPUT [--output OUTPUT] [--method METHOD] [--key PATH]\n</code></pre>"},{"location":"cli/commands/#options_7","title":"Options","text":"Option Description Default <code>INPUT</code> Input file path (required) None <code>--output OUTPUT</code> Output file path <code>INPUT.enc</code> <code>--method METHOD</code> Encryption method: <code>age</code>, <code>gpg</code> <code>age</code> <code>--key PATH</code> Path to encryption key None (uses default)"},{"location":"cli/commands/#examples_7","title":"Examples","text":"<pre><code># Encrypt .env file\nenvloader encrypt .env\n\n# Encrypt with specific method\nenvloader encrypt .env --method gpg\n\n# Specify output file\nenvloader encrypt .env --output .env.encrypted\n\n# Use custom key\nenvloader encrypt .env --key /path/to/key\n</code></pre>"},{"location":"cli/commands/#exit-codes_7","title":"Exit Codes","text":"<ul> <li><code>0</code> - Success</li> <li><code>1</code> - Error (file not found, encryption error, etc.)</li> </ul>"},{"location":"cli/commands/#decrypt","title":"decrypt","text":"<p>Decrypt an encrypted <code>.env</code> file.</p>"},{"location":"cli/commands/#syntax_8","title":"Syntax","text":"<pre><code>envloader decrypt INPUT [--output OUTPUT] [--key PATH]\n</code></pre>"},{"location":"cli/commands/#options_8","title":"Options","text":"Option Description Default <code>INPUT</code> Input encrypted file path (required) None <code>--output OUTPUT</code> Output file path <code>INPUT</code> without <code>.enc</code> <code>--key PATH</code> Path to decryption key None (uses default)"},{"location":"cli/commands/#examples_8","title":"Examples","text":"<pre><code># Decrypt .env.enc\nenvloader decrypt .env.enc\n\n# Specify output file\nenvloader decrypt .env.enc --output .env\n\n# Use custom key\nenvloader decrypt .env.enc --key /path/to/key\n</code></pre> <p>Decryption Safety</p> <p>Decrypted files contain plaintext secrets. Never commit decrypted files to version control.</p>"},{"location":"cli/commands/#exit-codes_8","title":"Exit Codes","text":"<ul> <li><code>0</code> - Success</li> <li><code>1</code> - Error (file not found, decryption error, etc.)</li> </ul>"},{"location":"cli/commands/#global-options","title":"Global Options","text":"<p>All commands support these global options (via environment variables):</p> Variable Description <code>ENVLOADER_VERBOSE</code> Enable verbose output <code>ENVLOADER_LOG_LEVEL</code> Set log level (DEBUG, INFO, WARNING, ERROR)"},{"location":"cli/commands/#exit-code-summary","title":"Exit Code Summary","text":"Code Meaning Commands <code>0</code> Success All commands <code>1</code> General error All commands <code>2</code> Validation/configuration error <code>validate</code>, <code>diff</code>"},{"location":"cli/commands/#cicd-integration","title":"CI/CD Integration","text":"<p>All commands support <code>--ci</code> flag for CI/CD pipelines:</p> <pre><code># CI pipeline example\nenvloader validate --ci --required API_KEY PORT\nenvloader audit --ci --json &gt; audit.json\nenvloader diff --ci --deny-secret-changes --baseline .env.baseline\n</code></pre> <p>CI Mode Benefits</p> <ul> <li>No cloud access required</li> <li>Deterministic behavior</li> <li>Proper exit codes for pipeline control</li> <li>Fast execution (no network calls)</li> </ul>"},{"location":"cli/commands/#related-topics","title":"Related Topics","text":"<ul> <li>CLI Examples - Common use cases</li> <li>CI/CD Safety - CI-safe operations</li> </ul>"},{"location":"cli/examples/","title":"Examples","text":""},{"location":"cli/examples/#cli-examples","title":"CLI Examples","text":"<p>Common use cases and examples.</p>"},{"location":"cli/examples/#development","title":"Development","text":""},{"location":"cli/examples/#show-configuration","title":"Show Configuration","text":"<pre><code># Show current config\nenvloader show\n\n# Show production config\nenvloader show --env prod\n</code></pre>"},{"location":"cli/examples/#validate-configuration","title":"Validate Configuration","text":"<pre><code># Validate required variables\nenvloader validate --required API_KEY PORT\n\n# Validate with schema\nenvloader validate --schema config.yaml\n</code></pre>"},{"location":"cli/examples/#production","title":"Production","text":""},{"location":"cli/examples/#audit-trail","title":"Audit Trail","text":"<pre><code># Show audit trail\nenvloader audit\n\n# Export as JSON\nenvloader audit --json &gt; audit.json\n</code></pre>"},{"location":"cli/examples/#configuration-diff","title":"Configuration Diff","text":"<pre><code># Compare with baseline\nenvloader diff --baseline .env.baseline\n\n# Fail on secret changes\nenvloader diff --deny-secret-changes --baseline .env.baseline\n</code></pre>"},{"location":"cli/examples/#cicd","title":"CI/CD","text":""},{"location":"cli/examples/#validation","title":"Validation","text":"<pre><code># CI-safe validation\nenvloader validate --ci --required API_KEY PORT\n</code></pre>"},{"location":"cli/examples/#audit","title":"Audit","text":"<pre><code># CI-safe audit\nenvloader audit --ci --json &gt; audit.json\n</code></pre>"},{"location":"cli/examples/#diff","title":"Diff","text":"<pre><code># CI-safe diff\nenvloader diff --ci --deny-secret-changes --baseline .env.baseline\n</code></pre>"},{"location":"cli/examples/#encryption","title":"Encryption","text":""},{"location":"cli/examples/#encrypt","title":"Encrypt","text":"<pre><code># Encrypt .env file\nenvloader encrypt .env\n\n# Encrypt with specific method\nenvloader encrypt .env --method gpg\n</code></pre>"},{"location":"cli/examples/#decrypt","title":"Decrypt","text":"<pre><code># Decrypt .env.enc\nenvloader decrypt .env.enc\n</code></pre>"},{"location":"cli/examples/#export","title":"Export","text":""},{"location":"cli/examples/#export-to-json","title":"Export to JSON","text":"<pre><code>envloader export --output config.json --format json\n</code></pre>"},{"location":"cli/examples/#export-to-yaml","title":"Export to YAML","text":"<pre><code>envloader export --output config.yaml --format yaml\n</code></pre>"},{"location":"cli/examples/#generate-example","title":"Generate Example","text":"<pre><code># Generate .env.example\nenvloader generate-example --required API_KEY PORT --optional DEBUG\n</code></pre>"},{"location":"cli/examples/#related-topics","title":"Related Topics","text":"<ul> <li>CLI Commands</li> </ul>"},{"location":"core-concepts/precedence/","title":"Precedence","text":""},{"location":"core-concepts/precedence/#configuration-precedence","title":"Configuration Precedence","text":"<p>env-loader-pro uses a deterministic precedence order for resolving configuration values. This ensures predictable behavior across all environments with no ambiguity.</p>"},{"location":"core-concepts/precedence/#priority-order","title":"Priority Order","text":"<p>Configuration sources are merged in the following order (highest to lowest priority):</p> <ol> <li>Cloud providers (Azure Key Vault, AWS Secrets Manager)</li> <li>System environment variables</li> <li>Docker/K8s mounted secrets</li> <li><code>.env.{env}</code> (environment-specific file)</li> <li>Base <code>.env</code> file</li> <li>Schema defaults</li> </ol> <p>Rule: Higher priority sources override lower priority ones. This order is fixed and cannot be changed.</p>"},{"location":"core-concepts/precedence/#visual-flow","title":"Visual Flow","text":"<pre><code>graph TD\n    A[Schema Defaults - Priority 6] --&gt; B[Base .env - Priority 5]\n    B --&gt; C[.env.prod - Priority 4]\n    C --&gt; D[Docker/K8s Secrets - Priority 3]\n    D --&gt; E[System Environment - Priority 2]\n    E --&gt; F[Cloud Providers - Priority 1]\n    F --&gt; G[Final Merged Config]\n\n    style A fill:#e1f5ff\n    style B fill:#e1f5ff\n    style C fill:#e1f5ff\n    style D fill:#fff4e1\n    style E fill:#fff4e1\n    style F fill:#ffe1e1\n    style G fill:#e1ffe1</code></pre>"},{"location":"core-concepts/precedence/#detailed-precedence-rules","title":"Detailed Precedence Rules","text":""},{"location":"core-concepts/precedence/#1-cloud-providers-highest-priority","title":"1. Cloud Providers (Highest Priority)","text":"<p>Cloud providers have the highest priority because: - Security: Secrets should come from secure vaults - Override: Production secrets must override local config - Compliance: Audit trail for secret access</p> <pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\nprovider = AzureKeyVaultProvider(vault_url=\"https://myvault.vault.azure.net\")\nconfig = load_env(providers=[provider])\n\n# Values from Azure override everything else\n</code></pre> <p>Provider Priority</p> <p>If multiple providers are specified, later providers override earlier ones: <pre><code>config = load_env(providers=[azure_provider, aws_provider])\n# AWS values override Azure values for the same keys\n</code></pre></p>"},{"location":"core-concepts/precedence/#2-system-environment-variables","title":"2. System Environment Variables","text":"<p>System environment variables have priority 2:</p> <pre><code>import os\n\n# Set in system\nos.environ[\"API_KEY\"] = \"system-key\"\n\nconfig = load_env()\nprint(config[\"API_KEY\"])  # \"system-key\" (from system, overrides .env)\n</code></pre> <p>System Environment Behavior</p> <ul> <li>Includes all <code>os.environ</code> variables</li> <li>Overrides <code>.env</code> files</li> <li>Can be set at runtime (Docker, Kubernetes, CI/CD)</li> </ul>"},{"location":"core-concepts/precedence/#3-dockerk8s-mounted-secrets","title":"3. Docker/K8s Mounted Secrets","text":"<p>Docker and Kubernetes secrets are auto-detected if available:</p> <pre><code># Automatically detected if /run/secrets or /etc/secrets exists\nconfig = load_env(env=\"prod\")\n# Docker/K8s secrets override .env files but not system env\n</code></pre> <p>Auto-Detection</p> <p>Docker/K8s secrets are automatically detected. No provider configuration needed.</p>"},{"location":"core-concepts/precedence/#4-environment-specific-files-envenv","title":"4. Environment-Specific Files (<code>.env.{env}</code>)","text":"<p>Environment-specific files override the base <code>.env</code>:</p> <pre><code># .env (base)\nPORT=8080\nDEBUG=false\nLOG_LEVEL=info\n\n# .env.prod (environment-specific)\nPORT=9000\nDEBUG=false\n</code></pre> <pre><code>config = load_env(env=\"prod\")\nprint(config[\"PORT\"])      # 9000 (from .env.prod)\nprint(config[\"DEBUG\"])     # false (from .env.prod)\nprint(config[\"LOG_LEVEL\"]) # info (from .env, .env.prod doesn't override)\n</code></pre>"},{"location":"core-concepts/precedence/#5-base-env-file","title":"5. Base <code>.env</code> File","text":"<p>Base <code>.env</code> file is loaded before environment-specific files:</p> <pre><code>config = load_env()  # Loads .env only\n# or\nconfig = load_env(env=\"prod\")  # Loads .env first, then .env.prod\n</code></pre>"},{"location":"core-concepts/precedence/#6-schema-defaults-lowest-priority","title":"6. Schema Defaults (Lowest Priority)","text":"<p>Schema defaults are only used if a value is not set elsewhere:</p> <pre><code>config = load_env(\n    defaults={\"PORT\": 8080, \"DEBUG\": False}\n)\n# Defaults only used if PORT/DEBUG not in any other source\n</code></pre>"},{"location":"core-concepts/precedence/#merging-behavior","title":"Merging Behavior","text":""},{"location":"core-concepts/precedence/#override-rules","title":"Override Rules","text":"<p>When the same key exists in multiple sources:</p> <ol> <li>Higher priority wins (cloud providers &gt; system &gt; files)</li> <li>Complete replacement (not merged)</li> <li>No partial merging (entire value is replaced)</li> </ol> <pre><code># .env\nDATABASE_HOST=localhost\nDATABASE_PORT=5432\n\n# System environment\nexport DATABASE_HOST=prod-db.example.com\n</code></pre> <pre><code>config = load_env()\nprint(config[\"DATABASE_HOST\"])  # \"prod-db.example.com\" (system overrides)\nprint(config[\"DATABASE_PORT\"])  # \"5432\" (from .env, system doesn't override)\n</code></pre>"},{"location":"core-concepts/precedence/#example-complete-resolution","title":"Example: Complete Resolution","text":"<pre><code># Schema defaults (lowest priority)\n# PORT=8080 (default)\n\n# .env (base)\nPORT=9000\nDEBUG=false\n\n# .env.prod (environment-specific)\nPORT=8000\nAPI_URL=https://api.example.com\n\n# System environment\nexport API_KEY=system-key-12345\n\n# Azure Key Vault\nDB_PASSWORD=azure-secret-password\n</code></pre> <pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\nprovider = AzureKeyVaultProvider(vault_url=\"https://myvault.vault.azure.net\")\nconfig = load_env(env=\"prod\", providers=[provider], defaults={\"PORT\": 8080})\n\n# Final resolved values:\nprint(config[\"PORT\"])          # 8000 (from .env.prod, overrides .env and default)\nprint(config[\"DEBUG\"])         # false (from .env, .env.prod doesn't override)\nprint(config[\"API_URL\"])       # \"https://api.example.com\" (from .env.prod)\nprint(config[\"API_KEY\"])       # \"system-key-12345\" (from system, overrides files)\nprint(config[\"DB_PASSWORD\"])  # \"azure-secret-password\" (from Azure, highest priority)\n</code></pre>"},{"location":"core-concepts/precedence/#variable-expansion-and-precedence","title":"Variable Expansion and Precedence","text":"<p>Variable expansion happens after merging:</p> <pre><code># .env\nBASE_URL=https://example.com\n\n# System environment\nexport API_ENDPOINT=${BASE_URL}/api\n</code></pre> <pre><code>config = load_env()\nprint(config[\"API_ENDPOINT\"])  # \"https://example.com/api\"\n# System env references .env variable, expansion happens after merge\n</code></pre> <p>Expansion Order</p> <ol> <li>All sources merged with precedence</li> <li>Variable expansion applied to final merged config</li> <li>This allows system env to reference .env variables</li> </ol>"},{"location":"core-concepts/precedence/#why-this-order","title":"Why This Order?","text":""},{"location":"core-concepts/precedence/#cloud-providers-priority-1","title":"Cloud Providers (Priority 1)","text":"<ul> <li>Security: Secrets must come from secure vaults in production</li> <li>Override: Production secrets override local development config</li> <li>Compliance: Full audit trail for secret access</li> </ul>"},{"location":"core-concepts/precedence/#system-environment-priority-2","title":"System Environment (Priority 2)","text":"<ul> <li>Container-friendly: Works with Docker/Kubernetes</li> <li>CI/CD: Easy to set in pipelines</li> <li>Runtime: Can be set at runtime without file changes</li> </ul>"},{"location":"core-concepts/precedence/#dockerk8s-secrets-priority-3","title":"Docker/K8s Secrets (Priority 3)","text":"<ul> <li>Container-native: Standard container secret mounting</li> <li>Secure: Managed by orchestration platform</li> <li>Scalable: Works across pods</li> </ul>"},{"location":"core-concepts/precedence/#environment-specific-files-priority-4","title":"Environment-Specific Files (Priority 4)","text":"<ul> <li>Flexibility: Different configs per environment</li> <li>Override: Environment-specific overrides base</li> <li>Version control: Can be tracked in git (without secrets)</li> </ul>"},{"location":"core-concepts/precedence/#base-env-file-priority-5","title":"Base .env File (Priority 5)","text":"<ul> <li>Development: Local development defaults</li> <li>Documentation: Shows required variables</li> <li>Fallback: Base configuration</li> </ul>"},{"location":"core-concepts/precedence/#schema-defaults-priority-6","title":"Schema Defaults (Priority 6)","text":"<ul> <li>Last resort: Only used if not set elsewhere</li> <li>Type safety: Provides typed defaults</li> <li>Documentation: Shows expected values</li> </ul>"},{"location":"core-concepts/precedence/#cli-explanation","title":"CLI Explanation","text":"<p>Use the CLI to see precedence for your configuration:</p> <pre><code>envloader explain\n</code></pre> <p>Output: <pre><code>Resolution order:\n1. cloud_providers - Cloud providers (Azure Key Vault, AWS Secrets Manager)\n2. system - System environment variables\n3. docker_k8s - Docker/K8s mounted secrets\n4. env_specific - .env.prod (environment-specific file)\n5. base_file - Base .env file\n6. schema_defaults - Schema default values\n</code></pre></p>"},{"location":"core-concepts/precedence/#tracing-origins","title":"Tracing Origins","text":"<p>See where each variable came from:</p> <pre><code>config = load_env(trace=True)\n\n# Get origin of a variable\norigin = config.trace(\"API_KEY\")\n# Returns: \"azure\", \"aws\", \"system\", \"file\", etc.\n\n# Get all origins\norigins = config.get_origins()\n# {\"API_KEY\": \"azure\", \"PORT\": \"file\", ...}\n</code></pre>"},{"location":"core-concepts/precedence/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Use cloud providers for secrets in production    <pre><code># Production: secrets from Azure\nconfig = load_env(env=\"prod\", providers=[azure_provider])\n</code></pre></p> </li> <li> <p>Use .env files for defaults in development    <pre><code># Development: local .env file\nconfig = load_env(env=\"dev\")\n</code></pre></p> </li> <li> <p>Use system env in CI/CD for pipeline-specific values    <pre><code># CI/CD: set in pipeline\nexport BUILD_NUMBER=123\n</code></pre></p> </li> <li> <p>Use schema defaults for documentation and type hints    <pre><code>config = load_env(defaults={\"PORT\": 8080, \"DEBUG\": False})\n</code></pre></p> </li> <li> <p>Enable audit trail to see where values come from    <pre><code>config, audit = load_env(audit=True)\nprint(audit.get_summary())\n</code></pre></p> </li> </ol>"},{"location":"core-concepts/precedence/#common-mistakes","title":"Common Mistakes","text":""},{"location":"core-concepts/precedence/#mistake-1-expecting-partial-merging","title":"Mistake 1: Expecting Partial Merging","text":"<pre><code># \u274c WRONG: Expecting partial merge\n# .env: DATABASE_HOST=localhost\n# System: DATABASE_PORT=5432\n# Expecting: {HOST: localhost, PORT: 5432}\n\n# \u2705 CORRECT: Each source completely overrides\n# System env doesn't merge with .env, it replaces\n</code></pre>"},{"location":"core-concepts/precedence/#mistake-2-assuming-defaults-override","title":"Mistake 2: Assuming Defaults Override","text":"<pre><code># \u274c WRONG: Defaults don't override existing values\nconfig = load_env(\n    defaults={\"PORT\": 8080}\n)\n# If PORT exists in .env, default is ignored\n\n# \u2705 CORRECT: Defaults only used if missing\n# Remove PORT from .env to use default\n</code></pre>"},{"location":"core-concepts/precedence/#mistake-3-multiple-providers-order","title":"Mistake 3: Multiple Providers Order","text":"<pre><code># \u274c WRONG: Assuming first provider wins\nconfig = load_env(providers=[azure_provider, aws_provider])\n\n# \u2705 CORRECT: Later providers override earlier ones\n# AWS values override Azure values\n</code></pre>"},{"location":"core-concepts/precedence/#related-topics","title":"Related Topics","text":"<ul> <li>Audit Trail - Track variable provenance</li> <li>Providers - Cloud secrets integration</li> <li>Security Model - Security guarantees</li> </ul>"},{"location":"core-concepts/schema/","title":"Schema","text":""},{"location":"core-concepts/schema/#schema-support","title":"Schema Support","text":"<p>Use Pydantic models or Python dataclasses for type-safe configuration with automatic validation. Schemas provide better type safety, IDE autocomplete, and comprehensive validation compared to the basic <code>types</code> parameter.</p>"},{"location":"core-concepts/schema/#why-use-schemas","title":"Why Use Schemas?","text":""},{"location":"core-concepts/schema/#problem-with-basic-types","title":"Problem with Basic Types","text":"<pre><code># Basic approach\nconfig = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int, \"DEBUG\": bool},\n    defaults={\"PORT\": 8080}\n)\n\n# Issues:\n# - No IDE autocomplete\n# - No type checking\n# - Validation logic scattered\n# - Hard to document structure\n</code></pre>"},{"location":"core-concepts/schema/#solution-schemas","title":"Solution: Schemas","text":"<pre><code># Schema approach\nclass Config(BaseModel):\n    port: int = 8080\n    debug: bool = False\n    api_key: str  # Required\n\nconfig = load_with_schema(Config)\n# - Full IDE autocomplete\n# - Type checking\n# - Centralized validation\n# - Self-documenting\n</code></pre>"},{"location":"core-concepts/schema/#pydantic-models","title":"Pydantic Models","text":""},{"location":"core-concepts/schema/#basic-example","title":"Basic Example","text":"<pre><code>from env_loader_pro import load_with_schema\nfrom pydantic import BaseModel\n\nclass Config(BaseModel):\n    port: int\n    debug: bool\n    api_key: str\n\nconfig = load_with_schema(Config)\nprint(config.port)    # Typed access with autocomplete\nprint(config.debug)   # bool\nprint(config.api_key) # str\n</code></pre>"},{"location":"core-concepts/schema/#with-defaults","title":"With Defaults","text":"<pre><code>class Config(BaseModel):\n    port: int = 8080\n    debug: bool = False\n    api_key: str  # Required (no default)\n\nconfig = load_with_schema(Config)\n# port defaults to 8080 if not set\n# debug defaults to False if not set\n# api_key is required (raises error if missing)\n</code></pre>"},{"location":"core-concepts/schema/#with-validators","title":"With Validators","text":"<p>Pydantic validators provide powerful validation:</p> <pre><code>from pydantic import BaseModel, validator\n\nclass Config(BaseModel):\n    port: int = 8080\n    email: str\n    timeout: int = 30\n\n    @validator('port')\n    def validate_port(cls, v):\n        if not 1024 &lt; v &lt; 65535:\n            raise ValueError('Port must be between 1024 and 65535')\n        return v\n\n    @validator('email')\n    def validate_email(cls, v):\n        if '@' not in v:\n            raise ValueError('Invalid email address')\n        return v\n\n    @validator('timeout')\n    def validate_timeout(cls, v):\n        if v &lt;= 0:\n            raise ValueError('Timeout must be positive')\n        return v\n\nconfig = load_with_schema(Config)\n# All validators run automatically\n</code></pre>"},{"location":"core-concepts/schema/#field-validation","title":"Field Validation","text":"<p>Use Pydantic's <code>Field</code> for more control:</p> <pre><code>from pydantic import BaseModel, Field\n\nclass Config(BaseModel):\n    port: int = Field(default=8080, ge=1024, le=65535)\n    email: str = Field(..., regex=r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$')\n    timeout: int = Field(default=30, gt=0)\n\nconfig = load_with_schema(Config)\n# Field validators run automatically\n</code></pre>"},{"location":"core-concepts/schema/#complex-types","title":"Complex Types","text":"<pre><code>from typing import List, Optional, Dict\nfrom pydantic import BaseModel\n\nclass Config(BaseModel):\n    port: int = 8080\n    hosts: List[str]  # List of strings\n    metadata: Optional[Dict[str, str]] = None  # Optional dict\n    tags: List[str] = []  # List with default\n\nconfig = load_with_schema(Config)\n</code></pre>"},{"location":"core-concepts/schema/#dataclasses","title":"Dataclasses","text":""},{"location":"core-concepts/schema/#basic-example_1","title":"Basic Example","text":"<pre><code>from env_loader_pro import load_with_schema\nfrom dataclasses import dataclass\n\n@dataclass\nclass Config:\n    port: int\n    debug: bool\n    api_key: str\n\nconfig = load_with_schema(Config)\nprint(config.port)  # Typed access\n</code></pre>"},{"location":"core-concepts/schema/#with-defaults_1","title":"With Defaults","text":"<pre><code>@dataclass\nclass Config:\n    port: int = 8080\n    debug: bool = False\n    api_key: str = \"\"  # Optional with default\n\nconfig = load_with_schema(Config)\n</code></pre>"},{"location":"core-concepts/schema/#dataclass-vs-pydantic","title":"Dataclass vs Pydantic","text":"Feature Dataclass Pydantic Type safety \u2705 \u2705 Validation \u274c (manual) \u2705 (automatic) IDE autocomplete \u2705 \u2705 Default values \u2705 \u2705 Field validation \u274c \u2705 JSON serialization \u274c \u2705 <p>When to Use Each</p> <ul> <li>Pydantic: When you need validation, JSON serialization, or complex types</li> <li>Dataclass: When you want simple type safety without extra dependencies</li> </ul>"},{"location":"core-concepts/schema/#case-insensitive-matching","title":"Case-Insensitive Matching","text":"<p>Environment variables are typically <code>UPPERCASE</code>, but schema fields can be <code>lowercase</code>:</p> <pre><code># .env\nAPI_KEY=secret123\nPORT=8080\nDEBUG=true\n</code></pre> <pre><code>class Config(BaseModel):\n    api_key: str  # lowercase\n    port: int     # lowercase\n    debug: bool   # lowercase\n\nconfig = load_with_schema(Config)\n# Automatically matches UPPERCASE env vars\n# config.api_key = \"secret123\"\n# config.port = 8080\n# config.debug = True\n</code></pre> <p>Matching Rules</p> <ul> <li>Case-insensitive matching</li> <li><code>API_KEY</code> matches <code>api_key</code></li> <li><code>PORT</code> matches <code>port</code></li> <li>Underscores are preserved</li> </ul>"},{"location":"core-concepts/schema/#environment-specific-loading","title":"Environment-Specific Loading","text":"<pre><code>config = load_with_schema(Config, env=\"prod\")\n# Loads from .env.prod\n</code></pre>"},{"location":"core-concepts/schema/#advanced-features","title":"Advanced Features","text":""},{"location":"core-concepts/schema/#optional-fields","title":"Optional Fields","text":"<pre><code>from typing import Optional\n\nclass Config(BaseModel):\n    port: int = 8080\n    api_key: str\n    optional_field: Optional[str] = None\n    another_optional: Optional[int] = None\n\nconfig = load_with_schema(Config)\n# optional_field is None if not set\n# another_optional is None if not set\n</code></pre>"},{"location":"core-concepts/schema/#nested-models","title":"Nested Models","text":"<pre><code>class DatabaseConfig(BaseModel):\n    host: str\n    port: int = 5432\n    ssl: bool = True\n\nclass Config(BaseModel):\n    database: DatabaseConfig\n    api_key: str\n\n# Use nested keys in .env:\n# DATABASE__HOST=localhost\n# DATABASE__PORT=5432\n# DATABASE__SSL=true\n</code></pre> <pre><code>config = load_with_schema(Config)\nprint(config.database.host)  # \"localhost\"\nprint(config.database.port)  # 5432\nprint(config.database.ssl)   # True\n</code></pre>"},{"location":"core-concepts/schema/#union-types","title":"Union Types","text":"<pre><code>from typing import Union\n\nclass Config(BaseModel):\n    log_level: Union[str, int]  # Can be string or int\n    # .env: LOG_LEVEL=info (string)\n    # or: LOG_LEVEL=10 (int)\n</code></pre>"},{"location":"core-concepts/schema/#enum-types","title":"Enum Types","text":"<pre><code>from enum import Enum\n\nclass LogLevel(str, Enum):\n    DEBUG = \"debug\"\n    INFO = \"info\"\n    WARNING = \"warning\"\n    ERROR = \"error\"\n\nclass Config(BaseModel):\n    log_level: LogLevel = LogLevel.INFO\n\nconfig = load_with_schema(Config)\n# log_level is validated against enum values\n</code></pre>"},{"location":"core-concepts/schema/#schema-with-providers","title":"Schema with Providers","text":"<p>Schemas work with cloud providers:</p> <pre><code>from env_loader_pro import load_with_schema\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\nclass Config(BaseModel):\n    api_key: str\n    db_password: str\n    port: int = 8080\n\nprovider = AzureKeyVaultProvider(vault_url=\"https://myvault.vault.azure.net\")\nconfig = load_with_schema(Config, providers=[provider])\n\n# api_key and db_password from Azure\n# port from default or .env\n</code></pre>"},{"location":"core-concepts/schema/#schema-with-audit","title":"Schema with Audit","text":"<pre><code>config, audit = load_with_schema(Config, audit=True)\n\n# Get audit for schema fields\nentry = audit.get(\"api_key\")\nprint(f\"api_key came from: {entry.source}\")\n</code></pre>"},{"location":"core-concepts/schema/#error-handling","title":"Error Handling","text":""},{"location":"core-concepts/schema/#missing-required-fields","title":"Missing Required Fields","text":"<pre><code>class Config(BaseModel):\n    api_key: str  # Required\n\n# .env: (api_key missing)\nconfig = load_with_schema(Config)\n# Raises: ValidationError: api_key field required\n</code></pre>"},{"location":"core-concepts/schema/#invalid-types","title":"Invalid Types","text":"<pre><code>class Config(BaseModel):\n    port: int\n\n# .env: PORT=not-a-number\nconfig = load_with_schema(Config)\n# Raises: ValidationError: port must be an integer\n</code></pre>"},{"location":"core-concepts/schema/#validation-errors","title":"Validation Errors","text":"<pre><code>class Config(BaseModel):\n    port: int = 8080\n\n    @validator('port')\n    def validate_port(cls, v):\n        if not 1024 &lt; v &lt; 65535:\n            raise ValueError('Port must be between 1024 and 65535')\n        return v\n\n# .env: PORT=80\nconfig = load_with_schema(Config)\n# Raises: ValidationError: Port must be between 1024 and 65535\n</code></pre>"},{"location":"core-concepts/schema/#best-practices","title":"Best Practices","text":""},{"location":"core-concepts/schema/#1-use-pydantic-for-complex-validation","title":"1. Use Pydantic for Complex Validation","text":"<pre><code># \u2705 GOOD: Centralized validation\nclass Config(BaseModel):\n    port: int = Field(ge=1024, le=65535)\n    email: str = Field(regex=r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$')\n\n# \u274c BAD: Validation scattered\nconfig = load_env(\n    types={\"PORT\": int},\n    rules={\"PORT\": lambda v: 1024 &lt; v &lt; 65535}\n)\n</code></pre>"},{"location":"core-concepts/schema/#2-document-with-docstrings","title":"2. Document with Docstrings","text":"<pre><code>class Config(BaseModel):\n    \"\"\"Application configuration.\n\n    Attributes:\n        port: Server port (1024-65535)\n        api_key: API key for external service\n        debug: Enable debug mode\n    \"\"\"\n    port: int = 8080\n    api_key: str\n    debug: bool = False\n</code></pre>"},{"location":"core-concepts/schema/#3-use-defaults-for-optional-values","title":"3. Use Defaults for Optional Values","text":"<pre><code># \u2705 GOOD: Clear defaults\nclass Config(BaseModel):\n    port: int = 8080\n    timeout: int = 30\n\n# \u274c BAD: No defaults, unclear if optional\nclass Config(BaseModel):\n    port: int\n    timeout: int\n</code></pre>"},{"location":"core-concepts/schema/#4-validate-early","title":"4. Validate Early","text":"<pre><code># Application startup\ntry:\n    config = load_with_schema(Config, env=\"prod\")\nexcept ValidationError as e:\n    logger.error(f\"Invalid configuration: {e}\")\n    sys.exit(1)\n</code></pre>"},{"location":"core-concepts/schema/#comparison","title":"Comparison","text":""},{"location":"core-concepts/schema/#without-schema","title":"Without Schema","text":"<pre><code>config = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int, \"DEBUG\": bool},\n    defaults={\"PORT\": 8080, \"DEBUG\": False}\n)\nport = config[\"PORT\"]  # Dict access, no autocomplete\n</code></pre>"},{"location":"core-concepts/schema/#with-schema","title":"With Schema","text":"<pre><code>config = load_with_schema(Config)\nport = config.port  # Typed access with autocomplete\n</code></pre>"},{"location":"core-concepts/schema/#related-topics","title":"Related Topics","text":"<ul> <li>Type Casting - Automatic type conversion</li> <li>Validation - Validation rules</li> </ul>"},{"location":"core-concepts/type-casting/","title":"Type casting","text":""},{"location":"core-concepts/type-casting/#type-casting","title":"Type Casting","text":"<p>env-loader-pro automatically casts environment variable strings to their specified types. This page documents the exact casting rules, edge cases, and behavior.</p>"},{"location":"core-concepts/type-casting/#overview","title":"Overview","text":"<p>Environment variables are always strings. Type casting converts these strings to the appropriate Python types based on the <code>types</code> parameter.</p> <pre><code>config = load_env(types={\"PORT\": int})\nport = config[\"PORT\"]  # int, not string\n</code></pre>"},{"location":"core-concepts/type-casting/#supported-types","title":"Supported Types","text":""},{"location":"core-concepts/type-casting/#integer-int","title":"Integer (<code>int</code>)","text":"<p>Casts string to integer using Python's <code>int()</code> constructor:</p> <pre><code>config = load_env(types={\"PORT\": int})\n\n# Valid inputs\nPORT=8080        # \u2192 8080 (int)\nPORT=0           # \u2192 0 (int)\nPORT=-100        # \u2192 -100 (int)\n\n# Invalid inputs raise EnvLoaderError\nPORT=not-a-number  # \u2192 EnvLoaderError\nPORT=12.5         # \u2192 EnvLoaderError (use float instead)\n</code></pre> <p>Integer Parsing</p> <ul> <li>Leading/trailing whitespace is stripped</li> <li>Uses Python's <code>int()</code> constructor</li> <li>Hexadecimal (<code>0xFF</code>) and octal (<code>0o77</code>) formats are supported</li> <li>Scientific notation (<code>1e3</code>) is not supported (use float)</li> </ul>"},{"location":"core-concepts/type-casting/#boolean-bool","title":"Boolean (<code>bool</code>)","text":"<p>Boolean casting supports multiple formats for flexibility:</p> <pre><code>config = load_env(types={\"DEBUG\": bool})\n\n# True values (case-insensitive)\nDEBUG=true   # \u2192 True\nDEBUG=1      # \u2192 True\nDEBUG=yes    # \u2192 True\nDEBUG=y      # \u2192 True\nDEBUG=t      # \u2192 True\n\n# False values (case-insensitive)\nDEBUG=false  # \u2192 False\nDEBUG=0      # \u2192 False\nDEBUG=no     # \u2192 False\nDEBUG=n      # \u2192 False\nDEBUG=f      # \u2192 False\n\n# Invalid values raise EnvLoaderError\nDEBUG=maybe  # \u2192 EnvLoaderError: Cannot cast 'maybe' to bool\n</code></pre> <p>Boolean Best Practices</p> <ul> <li>Use <code>true</code>/<code>false</code> for clarity</li> <li>Use <code>1</code>/<code>0</code> for brevity</li> <li>Avoid ambiguous values like <code>yes</code>/<code>no</code> in production</li> </ul>"},{"location":"core-concepts/type-casting/#float-float","title":"Float (<code>float</code>)","text":"<p>Casts string to float using Python's <code>float()</code> constructor:</p> <pre><code>config = load_env(types={\"RATE\": float})\n\n# Valid inputs\nRATE=3.14        # \u2192 3.14 (float)\nRATE=0.5         # \u2192 0.5 (float)\nRATE=100         # \u2192 100.0 (float)\nRATE=1e-3        # \u2192 0.001 (float, scientific notation)\n\n# Invalid inputs raise EnvLoaderError\nRATE=not-a-float # \u2192 EnvLoaderError\n</code></pre> <p>Float Precision</p> <ul> <li>Uses Python's <code>float()</code> constructor</li> <li>Scientific notation is supported (<code>1e3</code>, <code>1.5e-2</code>)</li> <li>Infinity and NaN are supported (<code>inf</code>, <code>nan</code>)</li> </ul>"},{"location":"core-concepts/type-casting/#list-list","title":"List (<code>list</code>)","text":"<p>List casting supports two formats: JSON arrays and comma-separated values.</p>"},{"location":"core-concepts/type-casting/#json-arrays","title":"JSON Arrays","text":"<p>JSON arrays are parsed first if the value starts with <code>[</code> and ends with <code>]</code>:</p> <pre><code># .env\nDOMAINS=[\"a.com\",\"b.com\",\"c.com\"]\nNUMBERS=[1,2,3]\nMIXED=[\"a\",1,true,null]\n</code></pre> <pre><code>config = load_env(types={\"DOMAINS\": list, \"NUMBERS\": list, \"MIXED\": list})\n\nprint(config[\"DOMAINS\"])  # [\"a.com\", \"b.com\", \"c.com\"]\nprint(config[\"NUMBERS\"])  # [1, 2, 3] (preserves JSON types)\nprint(config[\"MIXED\"])    # [\"a\", 1, True, None] (preserves JSON types)\n</code></pre> <p>JSON Parsing</p> <ul> <li>Must be valid JSON syntax</li> <li>If JSON parsing fails, falls back to comma-separated</li> <li>JSON types are preserved (numbers, booleans, null)</li> </ul>"},{"location":"core-concepts/type-casting/#comma-separated-values","title":"Comma-Separated Values","text":"<p>If JSON parsing fails or value doesn't start with <code>[</code>, comma-separated parsing is used:</p> <pre><code># .env\nLIMITS=10,20,400\nHOSTS=192.168.1.1,10.0.0.1,172.16.0.1\nEMPTY=\n</code></pre> <pre><code>config = load_env(types={\"LIMITS\": list, \"HOSTS\": list, \"EMPTY\": list})\n\nprint(config[\"LIMITS\"])  # [\"10\", \"20\", \"400\"] (strings)\nprint(config[\"HOSTS\"])   # [\"192.168.1.1\", \"10.0.0.1\", \"172.16.0.1\"]\nprint(config[\"EMPTY\"])   # [] (empty list)\n</code></pre> <p>Comma-Separated Behavior</p> <ul> <li>Values are always strings (not parsed as numbers)</li> <li>Empty values are filtered out</li> <li>Leading/trailing whitespace is stripped from each item</li> </ul>"},{"location":"core-concepts/type-casting/#empty-lists","title":"Empty Lists","text":"<pre><code># .env\nEMPTY_JSON=[]\nEMPTY_CSV=\nEMPTY_SPACE= \n</code></pre> <pre><code>config = load_env(types={\"EMPTY_JSON\": list, \"EMPTY_CSV\": list, \"EMPTY_SPACE\": list})\n\nprint(config[\"EMPTY_JSON\"])   # [] (empty list)\nprint(config[\"EMPTY_CSV\"])    # [] (empty list)\nprint(config[\"EMPTY_SPACE\"]) # [] (empty list)\n</code></pre>"},{"location":"core-concepts/type-casting/#string-default","title":"String (Default)","text":"<p>If no type is specified, values remain strings:</p> <pre><code>config = load_env()\n# All values are strings, no casting applied\n</code></pre>"},{"location":"core-concepts/type-casting/#type-casting-examples","title":"Type Casting Examples","text":""},{"location":"core-concepts/type-casting/#complete-example","title":"Complete Example","text":"<pre><code># .env\nPORT=8080\nDEBUG=true\nTIMEOUT=30.5\nDOMAINS=[\"api.example.com\",\"web.example.com\"]\nALLOWED_IPS=192.168.1.1,10.0.0.1\nRATE=0.05\n</code></pre> <pre><code>config = load_env(\n    types={\n        \"PORT\": int,\n        \"DEBUG\": bool,\n        \"TIMEOUT\": float,\n        \"DOMAINS\": list,\n        \"ALLOWED_IPS\": list,\n        \"RATE\": float\n    }\n)\n\nprint(type(config[\"PORT\"]))        # &lt;class 'int'&gt;\nprint(type(config[\"DEBUG\"]))       # &lt;class 'bool'&gt;\nprint(type(config[\"TIMEOUT\"]))     # &lt;class 'float'&gt;\nprint(type(config[\"DOMAINS\"]))     # &lt;class 'list'&gt;\nprint(type(config[\"ALLOWED_IPS\"])) # &lt;class 'list'&gt;\nprint(type(config[\"RATE\"]))        # &lt;class 'float'&gt;\n</code></pre>"},{"location":"core-concepts/type-casting/#error-handling","title":"Error Handling","text":""},{"location":"core-concepts/type-casting/#invalid-type-conversion","title":"Invalid Type Conversion","text":"<p>When a value cannot be cast to the specified type, <code>EnvLoaderError</code> is raised:</p> <pre><code># .env: PORT=not-a-number\nconfig = load_env(types={\"PORT\": int})\n# Raises: EnvLoaderError: Failed to cast env value 'not-a-number' to int\n</code></pre>"},{"location":"core-concepts/type-casting/#invalid-boolean","title":"Invalid Boolean","text":"<p>Boolean casting is strict - only specific values are accepted:</p> <pre><code># .env: DEBUG=maybe\nconfig = load_env(types={\"DEBUG\": bool})\n# Raises: EnvLoaderError: Cannot cast 'maybe' to bool\n</code></pre>"},{"location":"core-concepts/type-casting/#invalid-list-format","title":"Invalid List Format","text":"<p>If a list value cannot be parsed:</p> <pre><code># .env: DOMAINS=[invalid json\nconfig = load_env(types={\"DOMAINS\": list})\n# Falls back to comma-separated: [\"[invalid\", \"json\"]\n</code></pre>"},{"location":"core-concepts/type-casting/#type-casting-order","title":"Type Casting Order","text":"<p>Type casting happens after all sources are merged:</p> <ol> <li>Load from all sources (providers, system, files)</li> <li>Merge with precedence</li> <li>Expand variables (<code>${VAR}</code>)</li> <li>Apply type casting \u2190 Here</li> <li>Apply defaults (if not already cast)</li> <li>Validate</li> </ol> <p>Casting After Merging</p> <p>This means type casting sees the final merged value, not individual source values.</p>"},{"location":"core-concepts/type-casting/#edge-cases","title":"Edge Cases","text":""},{"location":"core-concepts/type-casting/#whitespace-handling","title":"Whitespace Handling","text":"<p>All values are stripped of leading/trailing whitespace before casting:</p> <pre><code># .env\nPORT=  8080  \nDEBUG=  true  \n</code></pre> <pre><code>config = load_env(types={\"PORT\": int, \"DEBUG\": bool})\nprint(config[\"PORT\"])   # 8080 (whitespace stripped)\nprint(config[\"DEBUG\"])  # True (whitespace stripped)\n</code></pre>"},{"location":"core-concepts/type-casting/#empty-values","title":"Empty Values","text":"<p>Empty values behave differently by type:</p> <pre><code># .env\nEMPTY_STR=\nEMPTY_INT=\nEMPTY_BOOL=\nEMPTY_LIST=\n</code></pre> <pre><code>config = load_env(\n    types={\"EMPTY_STR\": str, \"EMPTY_INT\": int, \"EMPTY_BOOL\": bool, \"EMPTY_LIST\": list},\n    defaults={\"EMPTY_STR\": \"\", \"EMPTY_INT\": 0, \"EMPTY_BOOL\": False, \"EMPTY_LIST\": []}\n)\n\n# Empty string: remains empty string\n# Empty int: raises EnvLoaderError (use default instead)\n# Empty bool: raises EnvLoaderError (use default instead)\n# Empty list: becomes [] (empty list)\n</code></pre>"},{"location":"core-concepts/type-casting/#none-values","title":"None Values","text":"<p>JSON <code>null</code> values are preserved in JSON arrays:</p> <pre><code># .env\nVALUES=[1, null, \"test\"]\n</code></pre> <pre><code>config = load_env(types={\"VALUES\": list})\nprint(config[\"VALUES\"])  # [1, None, \"test\"]\n</code></pre>"},{"location":"core-concepts/type-casting/#type-safety-with-schemas","title":"Type Safety with Schemas","text":"<p>For better type safety and validation, use schema validation:</p> <pre><code>from env_loader_pro import load_with_schema\nfrom pydantic import BaseModel\n\nclass Config(BaseModel):\n    port: int\n    debug: bool\n    timeout: float\n    domains: list[str]\n\nconfig = load_with_schema(Config)\n# All types validated and enforced by Pydantic\n</code></pre> <p>Schema vs Types</p> <ul> <li><code>types</code> parameter: Simple casting, no validation</li> <li>Schema (Pydantic/dataclass): Type validation + business rules</li> </ul>"},{"location":"core-concepts/type-casting/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Always specify types for non-string values    <pre><code># \u274c BAD\nport = int(config[\"PORT\"])\n\n# \u2705 GOOD\nconfig = load_env(types={\"PORT\": int})\nport = config[\"PORT\"]\n</code></pre></p> </li> <li> <p>Use schemas for complex configurations    <pre><code># Better type safety and validation\nconfig = load_with_schema(Config)\n</code></pre></p> </li> <li> <p>Handle casting errors gracefully    <pre><code>try:\n    config = load_env(types={\"PORT\": int})\nexcept EnvLoaderError as e:\n    # Handle invalid type\n    pass\n</code></pre></p> </li> <li> <p>Use defaults for optional typed values    <pre><code>config = load_env(\n    types={\"PORT\": int},\n    defaults={\"PORT\": 8080}\n)\n</code></pre></p> </li> </ol>"},{"location":"core-concepts/type-casting/#related-topics","title":"Related Topics","text":"<ul> <li>Validation - Validate values after casting</li> <li>Schema Support - Type-safe schemas with validation</li> </ul>"},{"location":"core-concepts/validation/","title":"Validation","text":""},{"location":"core-concepts/validation/#validation","title":"Validation","text":"<p>env-loader-pro provides multiple validation mechanisms to ensure configuration correctness. Validation happens after type casting and before returning the configuration.</p>"},{"location":"core-concepts/validation/#validation-order","title":"Validation Order","text":"<p>Validation is applied in this order:</p> <ol> <li>Required variables - Check if required variables exist</li> <li>Empty values - Check if required variables are empty</li> <li>Strict mode - Check for unknown variables</li> <li>Deprecated variables - Warn about deprecated variables</li> <li>Custom validators - Apply custom validation rules</li> <li>Regex validators - Apply regex pattern validation</li> <li>Policy-as-code - Apply policy enforcement (if enabled)</li> </ol>"},{"location":"core-concepts/validation/#required-variables","title":"Required Variables","text":"<p>Ensure critical variables are present:</p> <pre><code>config = load_env(\n    required=[\"API_KEY\", \"DB_URI\", \"PORT\"]\n)\n# Raises ValidationError if any required variable is missing\n</code></pre>"},{"location":"core-concepts/validation/#missing-required-variables","title":"Missing Required Variables","text":"<p>If a required variable is missing, <code>ValidationError</code> is raised:</p> <pre><code># .env: API_KEY=secret (but DB_URI missing)\nconfig = load_env(required=[\"API_KEY\", \"DB_URI\", \"PORT\"])\n# Raises: ValidationError: Missing required environment variables: DB_URI, PORT\n</code></pre>"},{"location":"core-concepts/validation/#empty-required-values","title":"Empty Required Values","text":"<p>Empty values for required variables also raise an error:</p> <pre><code># .env: API_KEY= (empty)\nconfig = load_env(required=[\"API_KEY\"])\n# Raises: ValidationError: Required variable 'API_KEY' is empty\n</code></pre> <p>Empty vs Missing</p> <ul> <li>Missing: Variable not in config at all \u2192 <code>ValidationError</code></li> <li>Empty: Variable exists but is <code>None</code> or <code>\"\"</code> \u2192 <code>ValidationError</code></li> </ul>"},{"location":"core-concepts/validation/#validation-rules","title":"Validation Rules","text":"<p>Add custom validation logic with lambda functions or callables:</p> <pre><code>config = load_env(\n    types={\"PORT\": int},\n    rules={\n        \"PORT\": lambda v: 1024 &lt; v &lt; 65535,\n        \"TIMEOUT\": lambda v: v &gt; 0,\n        \"ALLOWED_HOSTS\": lambda hosts: len(hosts) &gt; 0\n    }\n)\n# Raises ValidationError if any rule returns False\n</code></pre>"},{"location":"core-concepts/validation/#rule-function-signature","title":"Rule Function Signature","text":"<p>Validation rules receive the typed value (after type casting):</p> <pre><code>rules = {\n    # Integer validation\n    \"PORT\": lambda v: isinstance(v, int) and 1024 &lt; v &lt; 65535,\n\n    # String validation\n    \"EMAIL\": lambda v: \"@\" in v and \".\" in v.split(\"@\")[1],\n\n    # List validation\n    \"HOSTS\": lambda hosts: isinstance(hosts, list) and len(hosts) &gt; 0,\n\n    # Complex validation\n    \"API_KEY\": lambda key: len(key) &gt;= 32 and key.startswith(\"sk-\")\n}\n</code></pre> <p>Rule Execution Order</p> <p>Rules are executed after type casting. If type casting fails, rules are not executed.</p>"},{"location":"core-concepts/validation/#rule-error-messages","title":"Rule Error Messages","text":"<p>When a rule fails, <code>ValidationError</code> is raised with a descriptive message:</p> <pre><code># .env: PORT=80\nconfig = load_env(\n    types={\"PORT\": int},\n    rules={\"PORT\": lambda v: 1024 &lt; v &lt; 65535}\n)\n# Raises: ValidationError: Custom validation failed for 'PORT': 80\n</code></pre>"},{"location":"core-concepts/validation/#handling-rule-exceptions","title":"Handling Rule Exceptions","text":"<p>If a rule raises an exception, it's wrapped in <code>ValidationError</code>:</p> <pre><code>def validate_port(v):\n    if not isinstance(v, int):\n        raise TypeError(\"Port must be an integer\")\n    return 1024 &lt; v &lt; 65535\n\nconfig = load_env(\n    types={\"PORT\": int},\n    rules={\"PORT\": validate_port}\n)\n# If TypeError raised, wrapped as: ValidationError: Validation error for 'PORT': Port must be an integer\n</code></pre>"},{"location":"core-concepts/validation/#strict-mode","title":"Strict Mode","text":"<p>Enable strict mode to catch unknown variables (typos, etc.):</p> <pre><code>config = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int},\n    strict=True\n)\n# Warns about variables in .env not in required/types/defaults\n</code></pre>"},{"location":"core-concepts/validation/#strict-mode-behavior","title":"Strict Mode Behavior","text":"<ul> <li>Warns (does not fail) about unknown variables by default</li> <li>Useful for catching typos in variable names</li> <li>Recommended for production environments</li> </ul> <pre><code># .env: API_KEY=secret, PORT=8080, TYPO_VAR=value\nconfig = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int},\n    strict=True\n)\n# Warning: Unknown variables found: TYPO_VAR\n</code></pre> <p>Strict Mode Default</p> <p>By default, strict mode warns instead of failing. This can be changed in <code>SchemaValidator</code> initialization.</p>"},{"location":"core-concepts/validation/#regex-validators","title":"Regex Validators","text":"<p>Validate format with regex patterns:</p> <pre><code>import re\n\nconfig = load_env(\n    regex_validators={\n        \"EMAIL\": r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$',\n        \"VERSION\": r'^\\d+\\.\\d+\\.\\d+$',\n        \"IP_ADDRESS\": r'^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$'\n    }\n)\n# Raises ValidationError if pattern doesn't match\n</code></pre>"},{"location":"core-concepts/validation/#regex-validation-behavior","title":"Regex Validation Behavior","text":"<ul> <li>Patterns are compiled once and reused</li> <li>Validation happens after type casting</li> <li>Empty values are not validated (use required check instead)</li> </ul> <pre><code># .env: EMAIL=invalid-email\nconfig = load_env(\n    regex_validators={\"EMAIL\": r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$'}\n)\n# Raises: ValidationError: Regex validation failed for 'EMAIL': invalid-email\n</code></pre>"},{"location":"core-concepts/validation/#deprecated-variables","title":"Deprecated Variables","text":"<p>Warn about deprecated variables:</p> <pre><code>config = load_env(\n    deprecated_vars=[\"OLD_API_KEY\", \"LEGACY_PORT\"]\n)\n# Warns: Variable 'OLD_API_KEY' is deprecated and will be removed in a future version\n</code></pre> <p>Deprecation Strategy</p> <p>Use deprecated variables to provide migration paths: 1. Mark old variable as deprecated 2. Support both old and new variables 3. Remove old variable in next major version</p>"},{"location":"core-concepts/validation/#schema-validation","title":"Schema Validation","text":"<p>Use Pydantic or dataclass for comprehensive validation:</p> <pre><code>from env_loader_pro import load_with_schema\nfrom pydantic import BaseModel, validator\n\nclass Config(BaseModel):\n    port: int\n    email: str\n\n    @validator('port')\n    def validate_port(cls, v):\n        if not 1024 &lt; v &lt; 65535:\n            raise ValueError('Port must be between 1024 and 65535')\n        return v\n\n    @validator('email')\n    def validate_email(cls, v):\n        if '@' not in v:\n            raise ValueError('Invalid email')\n        return v\n\nconfig = load_with_schema(Config)\n# Pydantic validates all fields\n</code></pre>"},{"location":"core-concepts/validation/#policy-as-code-validation","title":"Policy-as-Code Validation","text":"<p>Enforce policies via JSON/YAML files:</p> <pre><code># policy.yaml\nrequire:\n  - API_KEY\n  - DB_PASSWORD\nforbid:\n  - DEBUG\n</code></pre> <pre><code>config = load_env(policy=\"policy.yaml\")\n# Fails if policy violated\n</code></pre> <p>See Policy-as-Code for details.</p>"},{"location":"core-concepts/validation/#validation-error-messages","title":"Validation Error Messages","text":"<p>Clear error messages help debugging:</p> <pre><code>try:\n    config = load_env(required=[\"API_KEY\"])\nexcept ValidationError as e:\n    print(e)\n    # \"Missing required environment variables: API_KEY\"\n</code></pre>"},{"location":"core-concepts/validation/#error-message-format","title":"Error Message Format","text":"Error Type Message Format Missing required <code>\"Missing required environment variables: VAR1, VAR2\"</code> Empty required <code>\"Required variable 'VAR' is empty\"</code> Custom validation <code>\"Custom validation failed for 'VAR': value\"</code> Regex validation <code>\"Regex validation failed for 'VAR': value\"</code> Unknown variables <code>\"Unknown variables found: VAR1, VAR2\"</code>"},{"location":"core-concepts/validation/#best-practices","title":"Best Practices","text":""},{"location":"core-concepts/validation/#1-validate-early","title":"1. Validate Early","text":"<p>Check required variables at startup:</p> <pre><code># Application startup\nconfig = load_env(\n    required=[\"API_KEY\", \"DB_URI\"],\n    types={\"PORT\": int},\n    rules={\"PORT\": lambda v: 1024 &lt; v &lt; 65535}\n)\n# Fail fast if configuration is invalid\n</code></pre>"},{"location":"core-concepts/validation/#2-use-strict-mode-in-production","title":"2. Use Strict Mode in Production","text":"<p>Enable strict mode to catch typos:</p> <pre><code>config = load_env(\n    env=\"prod\",\n    strict=True,  # Catch unknown variables\n    required=[\"API_KEY\"]\n)\n</code></pre>"},{"location":"core-concepts/validation/#3-combine-validation-methods","title":"3. Combine Validation Methods","text":"<p>Use multiple validation methods for comprehensive checks:</p> <pre><code>config = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int, \"EMAIL\": str},\n    rules={\"PORT\": lambda v: 1024 &lt; v &lt; 65535},\n    regex_validators={\"EMAIL\": r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$'},\n    strict=True\n)\n</code></pre>"},{"location":"core-concepts/validation/#4-use-schemas-for-complex-validation","title":"4. Use Schemas for Complex Validation","text":"<p>For complex validation, use Pydantic schemas:</p> <pre><code># Better than multiple rules\nconfig = load_with_schema(Config)\n</code></pre>"},{"location":"core-concepts/validation/#5-handle-validation-errors-gracefully","title":"5. Handle Validation Errors Gracefully","text":"<pre><code>try:\n    config = load_env(required=[\"API_KEY\"])\nexcept ValidationError as e:\n    logger.error(f\"Configuration error: {e}\")\n    sys.exit(1)\n</code></pre>"},{"location":"core-concepts/validation/#common-mistakes","title":"Common Mistakes","text":""},{"location":"core-concepts/validation/#mistake-1-validating-before-type-casting","title":"Mistake 1: Validating Before Type Casting","text":"<pre><code># \u274c WRONG: Rule receives string\nrules={\"PORT\": lambda v: 1024 &lt; int(v) &lt; 65535}\n\n# \u2705 CORRECT: Rule receives typed value\ntypes={\"PORT\": int}\nrules={\"PORT\": lambda v: 1024 &lt; v &lt; 65535}\n</code></pre>"},{"location":"core-concepts/validation/#mistake-2-not-handling-empty-values","title":"Mistake 2: Not Handling Empty Values","text":"<pre><code># \u274c WRONG: Empty string passes validation\nrules={\"API_KEY\": lambda v: len(v) &gt; 0}\n\n# \u2705 CORRECT: Use required check\nrequired=[\"API_KEY\"]\n</code></pre>"},{"location":"core-concepts/validation/#mistake-3-strict-mode-failing","title":"Mistake 3: Strict Mode Failing","text":"<pre><code># \u274c WRONG: Strict mode fails on unknown vars\nconfig = load_env(strict=True)  # Fails if any unknown vars\n\n# \u2705 CORRECT: Strict mode warns by default\n# Or use warn_only=False to make it fail\n</code></pre>"},{"location":"core-concepts/validation/#related-topics","title":"Related Topics","text":"<ul> <li>Schema Support - Type-safe validation</li> <li>Policy-as-Code - Policy enforcement</li> <li>Security Model - Security validation</li> </ul>"},{"location":"enterprise/audit/","title":"Audit","text":""},{"location":"enterprise/audit/#audit-trail","title":"Audit Trail","text":"<p>Complete provenance tracking for compliance, debugging, and security audits. The audit trail records where each configuration variable came from without storing secret values.</p>"},{"location":"enterprise/audit/#overview","title":"Overview","text":"<p>The audit trail provides: - Source tracking: Where each variable came from (azure, aws, system, file, etc.) - Provider information: Which provider supplied the value (if applicable) - Masking status: Whether the value is treated as a secret - Timestamp: When the variable was loaded - No secret values: Never stores actual secret values</p>"},{"location":"enterprise/audit/#enable-audit-trail","title":"Enable Audit Trail","text":"<p>Enable audit trail by setting <code>audit=True</code>:</p> <pre><code>from env_loader_pro import load_env\n\n# Enable audit\nconfig, audit = load_env(audit=True)\n\n# Use configuration normally\nport = config[\"PORT\"]\napi_key = config[\"API_KEY\"]\n\n# Access audit log\nprint(audit.to_json())\n</code></pre> <p>Return Type</p> <p>When <code>audit=True</code>, <code>load_env()</code> returns a tuple: <code>(config, audit)</code>. When <code>audit=False</code> (default), it returns just <code>config</code>.</p>"},{"location":"enterprise/audit/#what-is-tracked","title":"What is Tracked","text":"<p>For each configuration variable, the audit trail records:</p> Field Description Example <code>key</code> Variable name <code>\"API_KEY\"</code> <code>source</code> Source origin <code>\"azure\"</code>, <code>\"aws\"</code>, <code>\"system\"</code>, <code>\"file\"</code> <code>provider</code> Provider name (if from provider) <code>\"AzureKeyVaultProvider\"</code> <code>masked</code> Whether value is treated as secret <code>true</code> or <code>false</code> <code>timestamp</code> When variable was loaded <code>\"2024-01-15T10:30:00Z\"</code>"},{"location":"enterprise/audit/#what-is-not-tracked","title":"What is NOT Tracked","text":"<p>The audit trail never stores: - \u274c Actual secret values - Only metadata - \u274c Plaintext passwords - Only masked status - \u274c Configuration values - Only provenance</p> <p>Security Guarantee</p> <p>The audit trail is safe to log, export, and store. It contains no secret values, only metadata about where values came from.</p>"},{"location":"enterprise/audit/#accessing-audit-data","title":"Accessing Audit Data","text":""},{"location":"enterprise/audit/#get-entry-for-variable","title":"Get Entry for Variable","text":"<p>Get audit information for a specific variable:</p> <pre><code>config, audit = load_env(audit=True)\n\nentry = audit.get(\"API_KEY\")\nif entry:\n    print(f\"Source: {entry.source}\")        # \"azure\"\n    print(f\"Provider: {entry.provider}\")     # \"AzureKeyVaultProvider\"\n    print(f\"Masked: {entry.masked}\")         # True\n    print(f\"Timestamp: {entry.timestamp}\")   # datetime object\n</code></pre>"},{"location":"enterprise/audit/#export-as-json","title":"Export as JSON","text":"<p>Export the entire audit trail as JSON:</p> <pre><code>config, audit = load_env(audit=True)\n\n# Export as JSON string\naudit_json = audit.to_json()\nprint(audit_json)\n\n# With custom indentation\naudit_json = audit.to_json(indent=4)\n</code></pre> <p>Example JSON Output:</p> <pre><code>{\n  \"API_KEY\": {\n    \"key\": \"API_KEY\",\n    \"source\": \"azure\",\n    \"provider\": \"AzureKeyVaultProvider\",\n    \"masked\": true,\n    \"timestamp\": \"2024-01-15T10:30:00.123456\"\n  },\n  \"PORT\": {\n    \"key\": \"PORT\",\n    \"source\": \"file\",\n    \"provider\": null,\n    \"masked\": false,\n    \"timestamp\": \"2024-01-15T10:30:00.123456\"\n  },\n  \"DB_PASSWORD\": {\n    \"key\": \"DB_PASSWORD\",\n    \"source\": \"aws\",\n    \"provider\": \"AWSSecretsManagerProvider\",\n    \"masked\": true,\n    \"timestamp\": \"2024-01-15T10:30:00.123456\"\n  }\n}\n</code></pre>"},{"location":"enterprise/audit/#get-summary-statistics","title":"Get Summary Statistics","text":"<p>Get summary statistics about the audit trail:</p> <pre><code>config, audit = load_env(audit=True)\n\nsummary = audit.get_summary()\nprint(summary)\n</code></pre> <p>Example Summary:</p> <pre><code>{\n  \"total_variables\": 10,\n  \"masked_variables\": 3,\n  \"sources\": {\n    \"azure\": 2,\n    \"aws\": 1,\n    \"system\": 3,\n    \"file\": 4\n  },\n  \"providers\": {\n    \"AzureKeyVaultProvider\": 2,\n    \"AWSSecretsManagerProvider\": 1\n  }\n}\n</code></pre>"},{"location":"enterprise/audit/#get-entries-by-source","title":"Get Entries by Source","text":"<p>Filter entries by source:</p> <pre><code>config, audit = load_env(audit=True)\n\n# Get all entries from Azure\nazure_entries = audit.get_by_source(\"azure\")\n# Returns: {\"API_KEY\": AuditEntry, \"DB_PASSWORD\": AuditEntry}\n\n# Get all entries from files\nfile_entries = audit.get_by_source(\"file\")\n</code></pre>"},{"location":"enterprise/audit/#source-values","title":"Source Values","text":"<p>The <code>source</code> field can have these values:</p> Source Description Example <code>azure</code> Azure Key Vault Secrets from Azure <code>aws</code> AWS Secrets Manager Secrets from AWS <code>system</code> System environment <code>os.environ</code> <code>docker</code> Docker secrets <code>/run/secrets</code> <code>k8s</code> Kubernetes secrets <code>/etc/secrets</code> <code>file.env</code> Environment-specific file <code>.env.prod</code> <code>file</code> Base .env file <code>.env</code> <code>schema_default</code> Schema default value Default from schema"},{"location":"enterprise/audit/#cli-usage","title":"CLI Usage","text":""},{"location":"enterprise/audit/#show-audit-trail","title":"Show Audit Trail","text":"<pre><code># Show audit trail (human-readable)\nenvloader audit\n\n# Export as JSON\nenvloader audit --json\n\n# CI-safe mode (no cloud access)\nenvloader audit --ci --json\n</code></pre>"},{"location":"enterprise/audit/#example-cli-output","title":"Example CLI Output","text":"<pre><code>$ envloader audit --json\n{\n  \"API_KEY\": {\n    \"key\": \"API_KEY\",\n    \"source\": \"azure\",\n    \"provider\": \"AzureKeyVaultProvider\",\n    \"masked\": true,\n    \"timestamp\": \"2024-01-15T10:30:00.123456\"\n  },\n  \"PORT\": {\n    \"key\": \"PORT\",\n    \"source\": \"file\",\n    \"provider\": null,\n    \"masked\": false,\n    \"timestamp\": \"2024-01-15T10:30:00.123456\"\n  }\n}\n</code></pre>"},{"location":"enterprise/audit/#use-cases","title":"Use Cases","text":""},{"location":"enterprise/audit/#compliance","title":"Compliance","text":"<p>Export audit trail for compliance systems:</p> <pre><code>config, audit = load_env(audit=True)\n\n# Export for compliance systems\nwith open(\"audit.json\", \"w\") as f:\n    f.write(audit.to_json())\n\n# Or send to compliance API\nimport requests\nrequests.post(\"https://compliance-api/audit\", json=audit.to_dict())\n</code></pre>"},{"location":"enterprise/audit/#debugging","title":"Debugging","text":"<p>Find where a variable came from:</p> <pre><code>config, audit = load_env(audit=True)\n\n# Find where DB_PASSWORD came from\nentry = audit.get(\"DB_PASSWORD\")\nif entry:\n    print(f\"DB_PASSWORD came from: {entry.source}\")\n    print(f\"Provider: {entry.provider}\")\n    print(f\"Loaded at: {entry.timestamp}\")\n</code></pre>"},{"location":"enterprise/audit/#security-audits","title":"Security Audits","text":"<p>Check if secrets are from secure sources:</p> <pre><code>config, audit = load_env(audit=True)\n\n# Check if secrets are from secure sources\nfor key, entry in audit.entries.items():\n    if entry.masked:\n        if entry.source not in [\"azure\", \"aws\"]:\n            print(f\"Warning: Secret {key} not from secure source (came from {entry.source})\")\n</code></pre>"},{"location":"enterprise/audit/#configuration-drift-analysis","title":"Configuration Drift Analysis","text":"<p>Track configuration changes over time:</p> <pre><code># Save audit from previous deployment\nprevious_audit = load_previous_audit()\n\n# Current audit\nconfig, current_audit = load_env(audit=True)\n\n# Compare sources\nfor key, entry in current_audit.entries.items():\n    prev_entry = previous_audit.get(key)\n    if prev_entry and prev_entry.source != entry.source:\n        print(f\"Warning: {key} source changed from {prev_entry.source} to {entry.source}\")\n</code></pre>"},{"location":"enterprise/audit/#best-practices","title":"Best Practices","text":""},{"location":"enterprise/audit/#1-enable-audit-in-production","title":"1. Enable Audit in Production","text":"<p>Always enable audit trail in production for compliance:</p> <pre><code># Production configuration\nconfig, audit = load_env(\n    env=\"prod\",\n    providers=[azure_provider],\n    audit=True  # Enable audit\n)\n</code></pre>"},{"location":"enterprise/audit/#2-export-regularly","title":"2. Export Regularly","text":"<p>Export audit logs regularly for compliance:</p> <pre><code>config, audit = load_env(audit=True)\n\n# Export to file\nwith open(f\"audit-{datetime.now().isoformat()}.json\", \"w\") as f:\n    f.write(audit.to_json())\n</code></pre>"},{"location":"enterprise/audit/#3-review-sources","title":"3. Review Sources","text":"<p>Regularly review audit logs to ensure secrets from secure sources:</p> <pre><code>config, audit = load_env(audit=True)\n\nsummary = audit.get_summary()\nif summary[\"sources\"].get(\"file\", 0) &gt; 0:\n    # Check if any secrets came from files\n    file_secrets = [\n        k for k, e in audit.entries.items()\n        if e.masked and e.source == \"file\"\n    ]\n    if file_secrets:\n        print(f\"Warning: Secrets from files: {file_secrets}\")\n</code></pre>"},{"location":"enterprise/audit/#4-use-ci-safe-mode","title":"4. Use CI-Safe Mode","text":"<p>In CI pipelines, use CI-safe mode:</p> <pre><code># CI pipeline\nenvloader audit --ci --json &gt; audit.json\n</code></pre>"},{"location":"enterprise/audit/#5-store-audit-logs-separately","title":"5. Store Audit Logs Separately","text":"<p>Store audit logs separately from application logs:</p> <pre><code>config, audit = load_env(audit=True)\n\n# Store in separate audit log system\nsend_to_audit_system(audit.to_dict())\n</code></pre>"},{"location":"enterprise/audit/#integration-examples","title":"Integration Examples","text":""},{"location":"enterprise/audit/#logging-integration","title":"Logging Integration","text":"<pre><code>import logging\nfrom env_loader_pro import load_env\n\nconfig, audit = load_env(audit=True)\n\n# Log audit summary (safe, no secrets)\nlogging.info(\"Configuration loaded\", extra={\n    \"audit_summary\": audit.get_summary()\n})\n</code></pre>"},{"location":"enterprise/audit/#monitoring-integration","title":"Monitoring Integration","text":"<pre><code>from env_loader_pro import load_env\nimport prometheus_client\n\nconfig, audit = load_env(audit=True)\n\n# Track configuration sources\nfor source, count in audit.get_summary()[\"sources\"].items():\n    prometheus_client.Counter(\n        \"config_source_total\",\n        \"Configuration variables by source\",\n        [\"source\"]\n    ).labels(source=source).inc(count)\n</code></pre>"},{"location":"enterprise/audit/#compliance-api-integration","title":"Compliance API Integration","text":"<pre><code>from env_loader_pro import load_env\nimport requests\n\nconfig, audit = load_env(audit=True)\n\n# Send to compliance API\nresponse = requests.post(\n    \"https://compliance-api.example.com/audit\",\n    json=audit.to_dict(),\n    headers={\"Authorization\": \"Bearer ...\"}\n)\n</code></pre>"},{"location":"enterprise/audit/#related-topics","title":"Related Topics","text":"<ul> <li>Security Model - Security guarantees</li> <li>Configuration Precedence - How sources are merged</li> <li>CLI Commands - CLI audit commands</li> </ul>"},{"location":"enterprise/diff/","title":"Diff","text":""},{"location":"enterprise/diff/#configuration-diff","title":"Configuration Diff","text":"<p>Compare configurations to detect drift and changes.</p>"},{"location":"enterprise/diff/#overview","title":"Overview","text":"<p>Configuration diff allows you to:</p> <ul> <li>Compare current vs. baseline config</li> <li>Detect added/removed variables</li> <li>Detect secret changes</li> <li>Prevent accidental exposure</li> </ul>"},{"location":"enterprise/diff/#basic-usage","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env, diff_configs\n\n# Load current config\ncurrent = load_env(env=\"prod\")\n\n# Load baseline (from file or previous run)\nbaseline = load_env(path=\".env.baseline\")\n\n# Compare\ndiff = diff_configs(current, baseline)\n\n# Check for changes\nif diff.has_changes():\n    print(\"Configuration changed!\")\n    print(f\"Added: {diff.added}\")\n    print(f\"Removed: {diff.removed}\")\n    print(f\"Changed: {diff.changed}\")\n</code></pre>"},{"location":"enterprise/diff/#diff-results","title":"Diff Results","text":""},{"location":"enterprise/diff/#added-variables","title":"Added Variables","text":"<pre><code>diff = diff_configs(current, baseline)\n\nif diff.added:\n    print(f\"New variables: {diff.added}\")\n    # {\"NEW_VAR\": \"value\"}\n</code></pre>"},{"location":"enterprise/diff/#removed-variables","title":"Removed Variables","text":"<pre><code>if diff.removed:\n    print(f\"Removed variables: {diff.removed}\")\n    # {\"OLD_VAR\": \"value\"}\n</code></pre>"},{"location":"enterprise/diff/#changed-variables","title":"Changed Variables","text":"<pre><code>if diff.changed:\n    print(f\"Changed variables: {diff.changed}\")\n    # {\"VAR\": {\"old\": \"old_value\", \"new\": \"new_value\"}}\n</code></pre>"},{"location":"enterprise/diff/#secret-changes","title":"Secret Changes","text":"<pre><code>if diff.has_secret_changes():\n    print(f\"Secret changes detected!\")\n    print(f\"Added secrets: {diff.added_secrets}\")\n    print(f\"Removed secrets: {diff.removed_secrets}\")\n    print(f\"Changed secrets: {diff.changed_secrets}\")\n</code></pre>"},{"location":"enterprise/diff/#cli-usage","title":"CLI Usage","text":""},{"location":"enterprise/diff/#basic-diff","title":"Basic Diff","text":"<pre><code># Compare current vs. baseline\nenvloader diff --baseline .env.baseline\n</code></pre>"},{"location":"enterprise/diff/#ci-safe-diff","title":"CI-Safe Diff","text":"<pre><code># No cloud access required\nenvloader diff --ci --baseline .env.baseline\n</code></pre>"},{"location":"enterprise/diff/#deny-secret-changes","title":"Deny Secret Changes","text":"<pre><code># Fail if secrets added/removed\nenvloader diff --ci --deny-secret-changes --baseline .env.baseline\n</code></pre>"},{"location":"enterprise/diff/#deny-added-secrets","title":"Deny Added Secrets","text":"<pre><code># Fail if new secrets added\nenvloader diff --ci --deny-added-secrets --baseline .env.baseline\n</code></pre>"},{"location":"enterprise/diff/#use-cases","title":"Use Cases","text":""},{"location":"enterprise/diff/#prevent-secret-exposure","title":"Prevent Secret Exposure","text":"<pre><code># In CI/CD pipeline\nenvloader diff --ci --deny-secret-changes --baseline .env.baseline\n\n# Fails if secrets added/removed/changed\n</code></pre>"},{"location":"enterprise/diff/#configuration-drift-detection","title":"Configuration Drift Detection","text":"<pre><code># Load baseline from previous deployment\nbaseline = load_env(path=\".env.prod.baseline\")\n\n# Load current\ncurrent = load_env(env=\"prod\")\n\n# Compare\ndiff = diff_configs(current, baseline)\n\nif diff.has_changes():\n    # Alert on drift\n    send_alert(f\"Configuration drift detected: {diff.changed}\")\n</code></pre>"},{"location":"enterprise/diff/#audit-configuration-changes","title":"Audit Configuration Changes","text":"<pre><code># Save baseline\nbaseline = load_env(env=\"prod\")\nbaseline.save(\".env.prod.baseline\", format=\"json\")\n\n# Later, compare\ncurrent = load_env(env=\"prod\")\ndiff = diff_configs(current, baseline)\n\n# Log changes\nlog_audit(diff.to_dict())\n</code></pre>"},{"location":"enterprise/diff/#best-practices","title":"Best Practices","text":"<ol> <li>Store baselines for each environment</li> <li>Use in CI/CD to prevent accidental changes</li> <li>Deny secret changes in production</li> <li>Alert on drift for critical configs</li> <li>Review changes before deployment</li> </ol>"},{"location":"enterprise/diff/#related-topics","title":"Related Topics","text":"<ul> <li>Security Model</li> <li>Audit Trail</li> </ul>"},{"location":"enterprise/performance/","title":"Performance","text":""},{"location":"enterprise/performance/#performance","title":"Performance","text":"<p>Performance monitoring, SLAs, and optimization.</p>"},{"location":"enterprise/performance/#performance-slas","title":"Performance SLAs","text":"<p>env-loader-pro maintains performance guarantees:</p> <ul> <li>Cold start: &lt; 500ms</li> <li>Warm load: &lt; 50ms</li> <li>Cached: &lt; 5ms</li> </ul>"},{"location":"enterprise/performance/#performance-monitoring","title":"Performance Monitoring","text":""},{"location":"enterprise/performance/#enable-monitoring","title":"Enable Monitoring","text":"<pre><code>from env_loader_pro import load_env, PerformanceSLA\n\n# Define SLA\nsla = PerformanceSLA(\n    cold_start_ms=500,\n    warm_load_ms=50,\n    cached_ms=5\n)\n\n# Load with monitoring\nconfig = load_env(\n    env=\"prod\",\n    performance_sla=sla,\n    trace=True\n)\n\n# Access metrics\nmetrics = config.performance_metrics\nprint(f\"Total load time: {metrics.total_load_time_ms}ms\")\nprint(f\"Source times: {metrics.source_load_times_ms}\")\n</code></pre>"},{"location":"enterprise/performance/#caching","title":"Caching","text":""},{"location":"enterprise/performance/#enable-caching","title":"Enable Caching","text":"<pre><code>config = load_env(\n    env=\"prod\",\n    cache=True,\n    cache_ttl=3600  # 1 hour\n)\n</code></pre>"},{"location":"enterprise/performance/#provider-caching","title":"Provider Caching","text":"<pre><code>from env_loader_pro.providers import AzureKeyVaultProvider\n\nprovider = AzureKeyVaultProvider(\n    vault_url=\"...\",\n    cache=True,\n    cache_ttl=3600\n)\n\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"enterprise/performance/#circuit-breaker","title":"Circuit Breaker","text":"<p>Prevent cascading failures:</p> <pre><code>from env_loader_pro.core import CircuitBreaker\n\nbreaker = CircuitBreaker(\n    failure_threshold=5,\n    timeout_seconds=60\n)\n\nif breaker.should_attempt():\n    try:\n        value = provider.get(\"KEY\")\n        breaker.record_success()\n    except Exception as e:\n        breaker.record_failure()\n</code></pre>"},{"location":"enterprise/performance/#performance-best-practices","title":"Performance Best Practices","text":"<ol> <li>Enable caching for cloud providers</li> <li>Set appropriate TTL based on secret rotation</li> <li>Use circuit breakers for resilience</li> <li>Monitor performance in production</li> <li>Optimize provider calls with batch operations</li> </ol>"},{"location":"enterprise/performance/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Caching</li> </ul>"},{"location":"enterprise/policies/","title":"Policies","text":""},{"location":"enterprise/policies/#failure-policies","title":"Failure Policies","text":"<p>Control how the loader handles errors from different configuration sources. Failure policies allow you to specify explicit behavior for each provider, ensuring predictable behavior in production while maintaining resilience in development.</p>"},{"location":"enterprise/policies/#why-explicit-failure-policies","title":"Why Explicit Failure Policies?","text":""},{"location":"enterprise/policies/#problem","title":"Problem","text":"<p>When a cloud provider fails (network outage, authentication error, rate limit), what should happen?</p> <ul> <li>Fail fast? - Application crashes, but you know immediately</li> <li>Silently continue? - Application runs, but might be misconfigured</li> <li>Log and continue? - Application runs, but with warnings</li> </ul> <p>Different environments need different behaviors. Production should fail fast. Development should be resilient.</p>"},{"location":"enterprise/policies/#decision","title":"Decision","text":"<p>Explicit per-provider failure policies with three options:</p> <ul> <li><code>fail</code> - Raise error immediately (production)</li> <li><code>warn</code> - Log warning and continue (development)</li> <li><code>fallback</code> - Silently continue (resilient)</li> </ul>"},{"location":"enterprise/policies/#policy-options","title":"Policy Options","text":""},{"location":"enterprise/policies/#fail-production","title":"Fail (Production)","text":"<p>Behavior: Raises <code>ProviderError</code> immediately when provider fails.</p> <pre><code>config = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}\n)\n\n# If Azure Key Vault is unavailable:\n# Raises: ProviderError: Provider azure error: Connection timeout\n</code></pre> <p>When to use: - Production environments - Critical providers (secrets must come from secure source) - When misconfiguration is worse than failure</p> <p>Example scenario: <pre><code># Production: secrets must come from Azure\nconfig = load_env(\n    env=\"prod\",\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}  # Fail if Azure unavailable\n)\n# Application won't start with wrong secrets\n</code></pre></p>"},{"location":"enterprise/policies/#warn-development","title":"Warn (Development)","text":"<p>Behavior: Logs warning message and continues loading from other sources.</p> <pre><code>config = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"warn\"}\n)\n\n# If Azure Key Vault is unavailable:\n# WARNING: Provider azure error: Connection timeout\n# Continues loading from .env files\n</code></pre> <p>When to use: - Development environments - Optional providers (nice to have, not required) - When you want visibility but not failure</p> <p>Example scenario: <pre><code># Development: Azure optional, use .env if unavailable\nconfig = load_env(\n    env=\"dev\",\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"warn\"}  # Warn but continue\n)\n# Application runs with .env values, but logs warning\n</code></pre></p>"},{"location":"enterprise/policies/#fallback-resilient","title":"Fallback (Resilient)","text":"<p>Behavior: Silently continues, no error or warning.</p> <pre><code>config = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fallback\"}\n)\n\n# If Azure Key Vault is unavailable:\n# Silently continues, uses .env files\n# No error, no warning\n</code></pre> <p>When to use: - Resilient systems (must work even if providers unavailable) - Optional providers (completely optional) - When failures are expected and handled elsewhere</p> <p>Example scenario: <pre><code># Resilient: must work even if cloud unavailable\nconfig = load_env(\n    providers=[azure_provider, aws_provider],\n    failure_policy={\n        \"azure\": \"fallback\",  # Silently continue\n        \"aws\": \"fallback\"     # Silently continue\n    }\n)\n# Application always starts, uses .env if cloud unavailable\n</code></pre></p>"},{"location":"enterprise/policies/#multiple-providers","title":"Multiple Providers","text":"<p>You can set different policies for different providers:</p> <pre><code>config = load_env(\n    providers=[azure_provider, aws_provider, filesystem_provider],\n    failure_policy={\n        \"azure\": \"fail\",      # Critical in production\n        \"aws\": \"fallback\",    # Optional\n        \"filesystem\": \"warn\"  # Development only\n    }\n)\n</code></pre> <p>Priority: Later providers override earlier ones if they have the same keys.</p>"},{"location":"enterprise/policies/#default-policies","title":"Default Policies","text":"<p>If no policy is specified, defaults are used:</p> <pre><code># Default policies\n{\n    \"azure\": \"fail\",        # Production: fail on error\n    \"aws\": \"fallback\",      # Fallback if unavailable\n    \"filesystem\": \"warn\",   # Warn on filesystem errors\n    \"docker\": \"warn\",       # Warn on Docker secret errors\n    \"kubernetes\": \"warn\"    # Warn on K8s errors\n}\n</code></pre> <p>You can override defaults:</p> <pre><code># Override defaults\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"warn\"}  # Override default \"fail\"\n)\n</code></pre>"},{"location":"enterprise/policies/#policy-resolution","title":"Policy Resolution","text":"<p>Policies are matched by provider name:</p> <ol> <li>Exact match: <code>\"azure\"</code> matches <code>AzureKeyVaultProvider</code></li> <li>Partial match: <code>\"azure\"</code> matches <code>\"AzureKeyVaultProvider\"</code> (case-insensitive)</li> <li>Default: If no match, uses default policy</li> </ol> <pre><code># These all match AzureKeyVaultProvider:\nfailure_policy = {\n    \"azure\": \"fail\",\n    \"AzureKeyVaultProvider\": \"fail\",\n    \"Azure\": \"fail\"\n}\n</code></pre>"},{"location":"enterprise/policies/#real-world-scenarios","title":"Real-World Scenarios","text":""},{"location":"enterprise/policies/#scenario-1-production-deployment","title":"Scenario 1: Production Deployment","text":"<p>Requirement: Secrets must come from Azure Key Vault. Application should not start if Azure is unavailable.</p> <pre><code>config = load_env(\n    env=\"prod\",\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}  # Fail fast\n)\n# Application won't start with wrong secrets\n</code></pre>"},{"location":"enterprise/policies/#scenario-2-development-environment","title":"Scenario 2: Development Environment","text":"<p>Requirement: Use Azure if available, but fall back to <code>.env</code> file for local development.</p> <pre><code>config = load_env(\n    env=\"dev\",\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"warn\"}  # Warn but continue\n)\n# Application runs with .env, logs warning about Azure\n</code></pre>"},{"location":"enterprise/policies/#scenario-3-resilient-system","title":"Scenario 3: Resilient System","text":"<p>Requirement: Application must start even if all cloud providers are unavailable.</p> <pre><code>config = load_env(\n    providers=[azure_provider, aws_provider],\n    failure_policy={\n        \"azure\": \"fallback\",  # Silently continue\n        \"aws\": \"fallback\"     # Silently continue\n    }\n)\n# Application always starts, uses .env if cloud unavailable\n</code></pre>"},{"location":"enterprise/policies/#scenario-4-multi-provider-setup","title":"Scenario 4: Multi-Provider Setup","text":"<p>Requirement: Azure is critical, AWS is optional, filesystem is for development.</p> <pre><code>config = load_env(\n    providers=[azure_provider, aws_provider, filesystem_provider],\n    failure_policy={\n        \"azure\": \"fail\",      # Critical: fail if unavailable\n        \"aws\": \"fallback\",    # Optional: silently continue\n        \"filesystem\": \"warn\"  # Development: warn but continue\n    }\n)\n</code></pre>"},{"location":"enterprise/policies/#error-handling","title":"Error Handling","text":""},{"location":"enterprise/policies/#fail-policy","title":"Fail Policy","text":"<pre><code>try:\n    config = load_env(\n        providers=[azure_provider],\n        failure_policy={\"azure\": \"fail\"}\n    )\nexcept ProviderError as e:\n    logger.error(f\"Provider error: {e}\")\n    # Handle error (alert, retry, etc.)\n    sys.exit(1)\n</code></pre>"},{"location":"enterprise/policies/#warn-policy","title":"Warn Policy","text":"<pre><code># Warning logged, but continues\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"warn\"}\n)\n# No exception raised\n# Check logs for warnings\n</code></pre>"},{"location":"enterprise/policies/#fallback-policy","title":"Fallback Policy","text":"<pre><code># Silently continues\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fallback\"}\n)\n# No exception, no warning\n# Application continues with fallback values\n</code></pre>"},{"location":"enterprise/policies/#best-practices","title":"Best Practices","text":""},{"location":"enterprise/policies/#1-use-fail-in-production","title":"1. Use \"fail\" in Production","text":"<pre><code># Production: fail fast on critical providers\nconfig = load_env(\n    env=\"prod\",\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}\n)\n</code></pre>"},{"location":"enterprise/policies/#2-use-warn-in-development","title":"2. Use \"warn\" in Development","text":"<pre><code># Development: warn but continue\nconfig = load_env(\n    env=\"dev\",\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"warn\"}\n)\n</code></pre>"},{"location":"enterprise/policies/#3-use-fallback-for-resilience","title":"3. Use \"fallback\" for Resilience","text":"<pre><code># Resilient: must work even if providers unavailable\nconfig = load_env(\n    providers=[optional_provider],\n    failure_policy={\"optional_provider\": \"fallback\"}\n)\n</code></pre>"},{"location":"enterprise/policies/#4-document-policies","title":"4. Document Policies","text":"<pre><code># Document why each policy is set\nfailure_policy = {\n    \"azure\": \"fail\",      # Critical: secrets must come from Azure\n    \"aws\": \"fallback\",    # Optional: can use .env if AWS unavailable\n    \"filesystem\": \"warn\"  # Development: warn about filesystem usage\n}\n</code></pre>"},{"location":"enterprise/policies/#5-environment-specific-policies","title":"5. Environment-Specific Policies","text":"<pre><code>import os\n\nenv = os.getenv(\"ENVIRONMENT\", \"dev\")\npolicies = {\n    \"prod\": {\"azure\": \"fail\", \"aws\": \"fail\"},\n    \"dev\": {\"azure\": \"warn\", \"aws\": \"fallback\"},\n    \"test\": {\"azure\": \"fallback\", \"aws\": \"fallback\"}\n}\n\nconfig = load_env(\n    env=env,\n    providers=[azure_provider, aws_provider],\n    failure_policy=policies.get(env, {})\n)\n</code></pre>"},{"location":"enterprise/policies/#common-mistakes","title":"Common Mistakes","text":""},{"location":"enterprise/policies/#mistake-1-using-fallback-in-production","title":"Mistake 1: Using \"fallback\" in Production","text":"<pre><code># \u274c WRONG: Silent failures in production\nconfig = load_env(\n    env=\"prod\",\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fallback\"}  # Bad!\n)\n# Application might start with wrong secrets\n\n# \u2705 CORRECT: Fail fast in production\nconfig = load_env(\n    env=\"prod\",\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}  # Good!\n)\n</code></pre>"},{"location":"enterprise/policies/#mistake-2-using-fail-in-development","title":"Mistake 2: Using \"fail\" in Development","text":"<pre><code># \u274c WRONG: Fails in development when Azure unavailable\nconfig = load_env(\n    env=\"dev\",\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}  # Bad for dev!\n)\n# Can't develop locally without Azure access\n\n# \u2705 CORRECT: Warn in development\nconfig = load_env(\n    env=\"dev\",\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"warn\"}  # Good for dev!\n)\n</code></pre>"},{"location":"enterprise/policies/#mistake-3-not-setting-policies","title":"Mistake 3: Not Setting Policies","text":"<pre><code># \u274c WRONG: Uses defaults, might not be what you want\nconfig = load_env(providers=[azure_provider])\n\n# \u2705 CORRECT: Explicit policies\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}  # Explicit\n)\n</code></pre>"},{"location":"enterprise/policies/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Policy-as-Code</li> <li>Design Decisions</li> </ul>"},{"location":"enterprise/policy-as-code/","title":"Policy as code","text":""},{"location":"enterprise/policy-as-code/#policy-as-code","title":"Policy-as-Code","text":"<p>Enforce configuration policies via JSON/YAML files.</p>"},{"location":"enterprise/policy-as-code/#overview","title":"Overview","text":"<p>Policy-as-code allows you to define and enforce configuration rules:</p> <ul> <li>Require specific variables</li> <li>Forbid certain variables</li> <li>Enforce source requirements</li> <li>Set TTL requirements</li> </ul>"},{"location":"enterprise/policy-as-code/#policy-file-format","title":"Policy File Format","text":""},{"location":"enterprise/policy-as-code/#yaml","title":"YAML","text":"<pre><code># policy.yaml\nrequire:\n  - API_KEY\n  - DB_PASSWORD\n  - PORT\n\nforbid:\n  - DEBUG\n  - TEST_MODE\n\nsources:\n  API_KEY: azure\n  DB_PASSWORD: azure\n\nttl:\n  API_KEY: 3600\n  DB_PASSWORD: 7200\n\nprovider_failure_policy:\n  azure: fail\n  aws: fallback\n</code></pre>"},{"location":"enterprise/policy-as-code/#json","title":"JSON","text":"<pre><code>{\n  \"require\": [\"API_KEY\", \"DB_PASSWORD\", \"PORT\"],\n  \"forbid\": [\"DEBUG\", \"TEST_MODE\"],\n  \"sources\": {\n    \"API_KEY\": \"azure\",\n    \"DB_PASSWORD\": \"azure\"\n  },\n  \"ttl\": {\n    \"API_KEY\": 3600,\n    \"DB_PASSWORD\": 7200\n  },\n  \"provider_failure_policy\": {\n    \"azure\": \"fail\",\n    \"aws\": \"fallback\"\n  }\n}\n</code></pre>"},{"location":"enterprise/policy-as-code/#using-policies","title":"Using Policies","text":""},{"location":"enterprise/policy-as-code/#load-with-policy","title":"Load with Policy","text":"<pre><code>from env_loader_pro import load_env\n\nconfig = load_env(\n    env=\"prod\",\n    policy=\"policy.yaml\"  # Enforces policy\n)\n# Fails if policy violated\n</code></pre>"},{"location":"enterprise/policy-as-code/#policy-rules","title":"Policy Rules","text":""},{"location":"enterprise/policy-as-code/#require-variables","title":"Require Variables","text":"<pre><code>require:\n  - API_KEY\n  - DB_PASSWORD\n</code></pre> <p>Fails if any required variable is missing.</p>"},{"location":"enterprise/policy-as-code/#forbid-variables","title":"Forbid Variables","text":"<pre><code>forbid:\n  - DEBUG\n  - TEST_MODE\n</code></pre> <p>Fails if any forbidden variable is present.</p>"},{"location":"enterprise/policy-as-code/#source-requirements","title":"Source Requirements","text":"<pre><code>sources:\n  API_KEY: azure\n  DB_PASSWORD: azure\n</code></pre> <p>Requires variables to come from specific sources.</p>"},{"location":"enterprise/policy-as-code/#ttl-requirements","title":"TTL Requirements","text":"<pre><code>ttl:\n  API_KEY: 3600\n  DB_PASSWORD: 7200\n</code></pre> <p>Requires secrets to have TTL less than specified (in seconds).</p>"},{"location":"enterprise/policy-as-code/#failure-policies","title":"Failure Policies","text":"<pre><code>provider_failure_policy:\n  azure: fail\n  aws: fallback\n</code></pre> <p>Sets failure policies per provider.</p>"},{"location":"enterprise/policy-as-code/#policy-validation","title":"Policy Validation","text":""},{"location":"enterprise/policy-as-code/#missing-required-variable","title":"Missing Required Variable","text":"<pre><code># policy.yaml requires API_KEY\n# But API_KEY not in config\n\nconfig = load_env(policy=\"policy.yaml\")\n# Raises PolicyError: Missing required variable: API_KEY\n</code></pre>"},{"location":"enterprise/policy-as-code/#forbidden-variable-present","title":"Forbidden Variable Present","text":"<pre><code># policy.yaml forbids DEBUG\n# But DEBUG in config\n\nconfig = load_env(policy=\"policy.yaml\")\n# Raises PolicyError: Forbidden variable present: DEBUG\n</code></pre>"},{"location":"enterprise/policy-as-code/#source-mismatch","title":"Source Mismatch","text":"<pre><code># policy.yaml requires API_KEY from azure\n# But API_KEY comes from file\n\nconfig = load_env(policy=\"policy.yaml\")\n# Raises PolicyError: API_KEY must come from azure, got file\n</code></pre>"},{"location":"enterprise/policy-as-code/#example-production-policy","title":"Example: Production Policy","text":"<pre><code># policy.prod.yaml\nrequire:\n  - API_KEY\n  - DB_PASSWORD\n  - DB_HOST\n\nforbid:\n  - DEBUG\n  - TEST_MODE\n  - DEV_MODE\n\nsources:\n  API_KEY: azure\n  DB_PASSWORD: azure\n\nprovider_failure_policy:\n  azure: fail\n</code></pre> <pre><code>config = load_env(\n    env=\"prod\",\n    policy=\"policy.prod.yaml\"\n)\n</code></pre>"},{"location":"enterprise/policy-as-code/#example-development-policy","title":"Example: Development Policy","text":"<pre><code># policy.dev.yaml\nrequire:\n  - API_KEY\n\nforbid: []  # Allow anything\n\nprovider_failure_policy:\n  azure: warn  # Warn but continue\n</code></pre> <pre><code>config = load_env(\n    env=\"dev\",\n    policy=\"policy.dev.yaml\"\n)\n</code></pre>"},{"location":"enterprise/policy-as-code/#best-practices","title":"Best Practices","text":"<ol> <li>Use different policies per environment</li> <li>Require secrets from secure sources in production</li> <li>Forbid debug flags in production</li> <li>Set TTL requirements for secrets</li> <li>Version control policies (without secrets)</li> </ol>"},{"location":"enterprise/policy-as-code/#related-topics","title":"Related Topics","text":"<ul> <li>Failure Policies</li> <li>Security Model</li> </ul>"},{"location":"enterprise/tradeoffs/","title":"Tradeoffs","text":""},{"location":"enterprise/tradeoffs/#tradeoffs-and-real-world-scenarios","title":"Tradeoffs and Real-World Scenarios","text":"<p>This document explains tradeoffs in env-loader-pro's design and how they play out in real-world scenarios.</p>"},{"location":"enterprise/tradeoffs/#precedence-security-vs-flexibility","title":"Precedence: Security vs Flexibility","text":""},{"location":"enterprise/tradeoffs/#the-tradeoff","title":"The Tradeoff","text":"<p>Fixed precedence (security-first) vs configurable precedence (flexibility).</p>"},{"location":"enterprise/tradeoffs/#real-world-scenario-production-outage","title":"Real-World Scenario: Production Outage","text":"<p>Scenario: Azure Key Vault is down. Application needs to start.</p> <p>With fixed precedence: - Application fails to start (if Azure is required) - Clear error: \"Azure Key Vault unavailable\" - No ambiguity about what happened</p> <p>With configurable precedence: - Could fall back to <code>.env</code> file - Application starts with potentially wrong config - Silent failure - might not notice until later</p> <p>Our choice: Fixed precedence with explicit failure policies.</p> <pre><code># Production: fail fast\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}\n)\n\n# Development: resilient\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"warn\"}  # Log but continue\n)\n</code></pre> <p>Why: In production, failures should be loud. Silent fallbacks hide problems.</p>"},{"location":"enterprise/tradeoffs/#audit-trail-performance-vs-compliance","title":"Audit Trail: Performance vs Compliance","text":""},{"location":"enterprise/tradeoffs/#the-tradeoff_1","title":"The Tradeoff","text":"<p>Per-variable audit trail (compliance) vs no audit trail (performance).</p>"},{"location":"enterprise/tradeoffs/#real-world-scenario-security-audit","title":"Real-World Scenario: Security Audit","text":"<p>Scenario: SOC 2 audit requires proving where secrets came from.</p> <p>Without audit trail: - Can't prove secrets came from secure sources - Audit fails - Must implement custom logging</p> <p>With audit trail: - Complete provenance for every variable - JSON export for compliance systems - Audit passes</p> <p>Performance impact: - Memory: ~100 bytes per variable (negligible) - CPU: &lt; 1ms overhead (negligible) - Disk: Only if exported (optional)</p> <p>Our choice: Per-variable audit trail, enabled by default in production.</p> <pre><code># Production: always audit\nconfig, audit = load_env(audit=True)\n\n# Export for compliance\nwith open(\"audit.json\", \"w\") as f:\n    f.write(audit.to_json())\n</code></pre> <p>Why: Compliance is non-negotiable. The performance cost is negligible compared to the value.</p>"},{"location":"enterprise/tradeoffs/#cloud-sdks-optional-vs-required","title":"Cloud SDKs: Optional vs Required","text":""},{"location":"enterprise/tradeoffs/#the-tradeoff_2","title":"The Tradeoff","text":"<p>Optional cloud SDKs (flexibility) vs required cloud SDKs (simplicity).</p>"},{"location":"enterprise/tradeoffs/#real-world-scenario-ci-pipeline","title":"Real-World Scenario: CI Pipeline","text":"<p>Scenario: CI pipeline needs to validate configuration.</p> <p>With required cloud SDKs: - Must install <code>boto3</code>, <code>azure-identity</code> in CI - Must provide cloud credentials - Slow installation, security risk</p> <p>With optional cloud SDKs: - CI validation works without cloud SDKs - No cloud credentials needed - Fast, secure</p> <p>Our choice: Optional cloud SDKs with graceful degradation.</p> <pre><code># CI pipeline (no cloud SDKs needed)\nenvloader validate --ci --required API_KEY PORT\n\n# Production (with cloud SDKs)\nconfig = load_env(providers=[azure_provider])\n</code></pre> <p>Why: CI pipelines should be fast and secure. They shouldn't need production credentials.</p>"},{"location":"enterprise/tradeoffs/#failure-policies-explicit-vs-implicit","title":"Failure Policies: Explicit vs Implicit","text":""},{"location":"enterprise/tradeoffs/#the-tradeoff_3","title":"The Tradeoff","text":"<p>Explicit failure policies (clarity) vs implicit behavior (simplicity).</p>"},{"location":"enterprise/tradeoffs/#real-world-scenario-network-outage","title":"Real-World Scenario: Network Outage","text":"<p>Scenario: Azure Key Vault is unreachable due to network issue.</p> <p>With implicit behavior: - Unclear what happens - Might fail, might continue - Hard to debug</p> <p>With explicit policies: - Clear behavior per provider - Environment-specific policies - Easy to debug</p> <p>Our choice: Explicit per-provider failure policies.</p> <pre><code># Production: fail fast\nfailure_policy = {\"azure\": \"fail\"}\n\n# Development: resilient\nfailure_policy = {\"azure\": \"warn\"}\n</code></pre> <p>Why: Explicit is better than implicit. Developers should know exactly what happens on failure.</p>"},{"location":"enterprise/tradeoffs/#caching-performance-vs-freshness","title":"Caching: Performance vs Freshness","text":""},{"location":"enterprise/tradeoffs/#the-tradeoff_4","title":"The Tradeoff","text":"<p>Caching (performance) vs always fresh (accuracy).</p>"},{"location":"enterprise/tradeoffs/#real-world-scenario-secret-rotation","title":"Real-World Scenario: Secret Rotation","text":"<p>Scenario: Secret rotated in Azure Key Vault. Application still using cached value.</p> <p>With no caching: - Always fresh values - Slow (API call every time) - Rate limit issues</p> <p>With caching: - Fast (cached values) - Might use stale values - Must respect TTL</p> <p>Our choice: Caching with TTL, respect secret metadata.</p> <pre><code>config = load_env(\n    providers=[azure_provider],\n    cache=True,\n    cache_ttl=3600  # 1 hour\n)\n\n# Provider can return TTL metadata\n# Cache respects TTL, reloads when expired\n</code></pre> <p>Why: Performance matters, but freshness is configurable. Most secrets don't rotate frequently.</p>"},{"location":"enterprise/tradeoffs/#ci-safe-mode-validation-vs-completeness","title":"CI-Safe Mode: Validation vs Completeness","text":""},{"location":"enterprise/tradeoffs/#the-tradeoff_5","title":"The Tradeoff","text":"<p>CI-safe validation (security) vs full validation (completeness).</p>"},{"location":"enterprise/tradeoffs/#real-world-scenario-pre-deployment-validation","title":"Real-World Scenario: Pre-deployment Validation","text":"<p>Scenario: CI pipeline validates configuration before deployment.</p> <p>Without CI-safe mode: - Must provide cloud credentials - Security risk - Slow (network calls)</p> <p>With CI-safe mode: - No cloud credentials needed - Fast validation - Validates local sources only</p> <p>Our choice: CI-safe mode for validation, full mode for runtime.</p> <pre><code># CI: validate without cloud\nenvloader validate --ci --required API_KEY PORT\n\n# Runtime: full validation with cloud\nconfig = load_env(providers=[azure_provider])\n</code></pre> <p>Why: CI should validate what it can, without security risks. Runtime can use full validation.</p>"},{"location":"enterprise/tradeoffs/#encrypted-configs-security-vs-complexity","title":"Encrypted Configs: Security vs Complexity","text":""},{"location":"enterprise/tradeoffs/#the-tradeoff_6","title":"The Tradeoff","text":"<p>Encrypted configs (security) vs plaintext configs (simplicity).</p>"},{"location":"enterprise/tradeoffs/#real-world-scenario-developer-laptop","title":"Real-World Scenario: Developer Laptop","text":"<p>Scenario: Developer laptop stolen. <code>.env</code> file contains production secrets.</p> <p>With plaintext: - Secrets exposed - Must rotate all secrets - Security incident</p> <p>With encrypted: - Secrets encrypted - Need key to decrypt - Reduced risk</p> <p>Our choice: Support encrypted configs, but don't require them.</p> <pre><code># Encrypt for version control\nenvloader encrypt .env --method age\n\n# Can commit encrypted file\ngit add .env.enc\n</code></pre> <p>Why: Security should be opt-in, not forced. Teams can choose based on their needs.</p>"},{"location":"enterprise/tradeoffs/#backward-compatibility-stability-vs-clean-api","title":"Backward Compatibility: Stability vs Clean API","text":""},{"location":"enterprise/tradeoffs/#the-tradeoff_7","title":"The Tradeoff","text":"<p>Backward compatibility (stability) vs clean API (simplicity).</p>"},{"location":"enterprise/tradeoffs/#real-world-scenario-library-upgrade","title":"Real-World Scenario: Library Upgrade","text":"<p>Scenario: Upgrading env-loader-pro in production application.</p> <p>With breaking changes: - Must rewrite code - Risk of bugs - Deployment complexity</p> <p>With backward compatibility: - Existing code works - Can adopt new features gradually - Low-risk upgrade</p> <p>Our choice: Full backward compatibility, new features are additive.</p> <pre><code># Old code still works\nconfig = load_env(required=[\"API_KEY\"])\n\n# Can adopt new features gradually\nconfig, audit = load_env(required=[\"API_KEY\"], audit=True)\n</code></pre> <p>Why: Stability is more important than API purity. Breaking changes hurt adoption.</p>"},{"location":"enterprise/tradeoffs/#performance-guarantees-slas-vs-flexibility","title":"Performance Guarantees: SLAs vs Flexibility","text":""},{"location":"enterprise/tradeoffs/#the-tradeoff_8","title":"The Tradeoff","text":"<p>Performance SLAs (predictability) vs no guarantees (flexibility).</p>"},{"location":"enterprise/tradeoffs/#real-world-scenario-cold-start","title":"Real-World Scenario: Cold Start","text":"<p>Scenario: Application cold start in serverless function.</p> <p>Without SLAs: - Unpredictable performance - Might timeout - Hard to debug</p> <p>With SLAs: - Documented performance targets - Warnings if breached - Predictable behavior</p> <p>Our choice: Performance SLAs with monitoring.</p> <pre><code>sla = PerformanceSLA(\n    cold_start_ms=500,\n    warm_load_ms=50,\n    cached_ms=5\n)\n\nconfig = load_env(performance_sla=sla)\n# Warns if SLA breached\n</code></pre> <p>Why: Predictable performance is important. SLAs help identify performance issues early.</p>"},{"location":"enterprise/tradeoffs/#summary-our-tradeoffs","title":"Summary: Our Tradeoffs","text":"Decision Tradeoff Our Choice Why Precedence Security vs Flexibility Fixed, security-first Production safety Audit Trail Performance vs Compliance Per-variable audit Compliance required Cloud SDKs Optional vs Required Optional CI/CD friendly Failure Policies Explicit vs Implicit Explicit Clarity Caching Performance vs Freshness Caching with TTL Performance matters CI-Safe Mode Validation vs Completeness CI-safe validation Security Encrypted Configs Security vs Complexity Optional encryption Flexibility Backward Compatibility Stability vs Clean API Full compatibility Adoption Performance SLAs Predictability vs Flexibility SLAs with monitoring Predictability <p>Philosophy: Security, predictability, and stability over flexibility and API purity.</p>"},{"location":"getting-started/basic-usage/","title":"Basic usage","text":""},{"location":"getting-started/basic-usage/#basic-usage","title":"Basic Usage","text":"<p>Learn the fundamentals of using env-loader-pro with detailed examples and edge cases.</p>"},{"location":"getting-started/basic-usage/#loading-configuration","title":"Loading Configuration","text":""},{"location":"getting-started/basic-usage/#simple-load","title":"Simple Load","text":"<p>The most basic usage loads configuration from a <code>.env</code> file:</p> <pre><code>from env_loader_pro import load_env\n\n# Load from .env file (default path)\nconfig = load_env()\n\n# Access values as strings\nport = config[\"PORT\"]  # String: \"8080\"\n</code></pre> <p>Default Behavior</p> <p>By default, <code>load_env()</code>: - Loads from <code>.env</code> in the current directory - Treats all values as strings - Expands <code>${VAR}</code> syntax - Masks secrets in <code>safe_repr()</code></p>"},{"location":"getting-started/basic-usage/#with-type-casting","title":"With Type Casting","text":"<p>Specify types to automatically cast string values:</p> <pre><code>config = load_env(\n    types={\n        \"PORT\": int,\n        \"DEBUG\": bool,\n        \"TIMEOUT\": float\n    }\n)\n\nport = config[\"PORT\"]      # int: 8080\ndebug = config[\"DEBUG\"]     # bool: True\ntimeout = config[\"TIMEOUT\"] # float: 30.5\n</code></pre> <p>Type Casting Errors</p> <p>If a value cannot be cast to the specified type, <code>EnvLoaderError</code> is raised: <pre><code># .env: PORT=not-a-number\nconfig = load_env(types={\"PORT\": int})\n# Raises: EnvLoaderError: Failed to cast env value 'not-a-number' to int\n</code></pre></p>"},{"location":"getting-started/basic-usage/#with-required-variables","title":"With Required Variables","text":"<p>Ensure critical variables are present:</p> <pre><code>config = load_env(\n    required=[\"API_KEY\", \"DB_URI\", \"PORT\"]\n)\n# Raises EnvLoaderError if any required variable is missing\n</code></pre> <p>Required vs Optional</p> <ul> <li><code>required</code>: Variables that must exist (raises error if missing)</li> <li><code>optional</code>: Variables that may exist (for documentation only, no validation)</li> </ul>"},{"location":"getting-started/basic-usage/#with-default-values","title":"With Default Values","text":"<p>Provide fallback values for missing variables:</p> <pre><code>config = load_env(\n    defaults={\n        \"PORT\": 8080,\n        \"DEBUG\": False,\n        \"TIMEOUT\": 30\n    }\n)\n# Uses defaults if variables not set in .env or system\n</code></pre> <p>Default Priority</p> <p>Defaults have the lowest priority in the precedence order. They are only used if: 1. Variable is not in cloud providers 2. Variable is not in system environment 3. Variable is not in Docker/K8s secrets 4. Variable is not in .env files</p>"},{"location":"getting-started/basic-usage/#environment-specific-files","title":"Environment-Specific Files","text":"<p>Use different configuration files per environment:</p> <pre><code># File structure\n.env          # Base configuration (shared)\n.env.dev      # Development overrides\n.env.prod     # Production overrides\n.env.staging  # Staging overrides\n</code></pre> <pre><code># Load production config\nconfig = load_env(env=\"prod\")\n# Loads .env.prod first, then merges with .env\n# .env.prod values override .env values\n</code></pre>"},{"location":"getting-started/basic-usage/#how-environment-files-work","title":"How Environment Files Work","text":"<ol> <li>Base <code>.env</code> is loaded first (if exists)</li> <li><code>.env.{env}</code> is loaded second (if exists)</li> <li><code>.env.{env}</code> values override base <code>.env</code> values</li> <li>System environment overrides both</li> <li>Cloud providers override everything</li> </ol> <pre><code># .env\nPORT=8080\nDEBUG=false\nLOG_LEVEL=info\n\n# .env.prod\nPORT=9000\nDEBUG=false\n</code></pre> <pre><code>config = load_env(env=\"prod\")\nprint(config[\"PORT\"])      # 9000 (from .env.prod)\nprint(config[\"DEBUG\"])     # false (from .env.prod)\nprint(config[\"LOG_LEVEL\"]) # info (from .env, .env.prod doesn't override)\n</code></pre>"},{"location":"getting-started/basic-usage/#variable-expansion","title":"Variable Expansion","text":"<p>Expand variables using <code>${VAR}</code> syntax:</p> <pre><code># .env file\nBASE_URL=https://example.com\nAPI_ENDPOINT=${BASE_URL}/api\nFULL_URL=${API_ENDPOINT}/v1\n</code></pre> <pre><code>config = load_env()\n\nprint(config[\"FULL_URL\"])\n# Output: https://example.com/api/v1\n</code></pre>"},{"location":"getting-started/basic-usage/#nested-expansion","title":"Nested Expansion","text":"<p>Variables can reference other variables:</p> <pre><code># .env\nDOMAIN=example.com\nPROTOCOL=https\nBASE_URL=${PROTOCOL}://${DOMAIN}\nAPI_URL=${BASE_URL}/api\n</code></pre> <pre><code>config = load_env()\nprint(config[\"API_URL\"])  # https://example.com/api\n</code></pre>"},{"location":"getting-started/basic-usage/#cycle-detection","title":"Cycle Detection","text":"<p>Circular references are detected and raise an error:</p> <pre><code># .env\nVAR_A=${VAR_B}\nVAR_B=${VAR_A}\n</code></pre> <pre><code>config = load_env()\n# Raises: EnvLoaderError: Circular reference detected for variable: VAR_A\n</code></pre> <p>Expansion Order</p> <p>Variable expansion happens after all sources are merged. This means: - System environment variables can be referenced - Cloud provider values can be referenced - Expansion happens in a single pass with cycle detection</p>"},{"location":"getting-started/basic-usage/#disabling-expansion","title":"Disabling Expansion","text":"<p>Disable variable expansion if needed:</p> <pre><code>config = load_env(expand_vars=False)\n# ${VAR} syntax is treated as literal text\n</code></pre>"},{"location":"getting-started/basic-usage/#list-parsing","title":"List Parsing","text":"<p>Two formats are supported for lists:</p>"},{"location":"getting-started/basic-usage/#json-arrays","title":"JSON Arrays","text":"<pre><code># .env\nDOMAINS=[\"a.com\",\"b.com\",\"c.com\"]\nNUMBERS=[1,2,3,4,5]\n</code></pre> <pre><code>config = load_env(types={\"DOMAINS\": list, \"NUMBERS\": list})\nprint(config[\"DOMAINS\"])   # [\"a.com\", \"b.com\", \"c.com\"]\nprint(config[\"NUMBERS\"])   # [\"1\", \"2\", \"3\", \"4\", \"5\"] (still strings)\n</code></pre> <p>JSON List Parsing</p> <ul> <li>Must start with <code>[</code> and end with <code>]</code></li> <li>Valid JSON syntax required</li> <li>Falls back to comma-separated if JSON parsing fails</li> </ul>"},{"location":"getting-started/basic-usage/#comma-separated","title":"Comma-Separated","text":"<pre><code># .env\nLIMITS=10,20,400\nHOSTS=192.168.1.1,10.0.0.1,172.16.0.1\n</code></pre> <pre><code>config = load_env(types={\"LIMITS\": list, \"HOSTS\": list})\nprint(config[\"LIMITS\"])  # [\"10\", \"20\", \"400\"]\nprint(config[\"HOSTS\"])   # [\"192.168.1.1\", \"10.0.0.1\", \"172.16.0.1\"]\n</code></pre> <p>List Type Handling</p> <ul> <li>JSON arrays are parsed as-is (preserves types if valid JSON)</li> <li>Comma-separated values are always strings</li> <li>Empty lists: <code>[]</code> or empty string <code>\"\"</code> both result in <code>[]</code></li> </ul>"},{"location":"getting-started/basic-usage/#validation-rules","title":"Validation Rules","text":"<p>Add custom validation logic:</p> <pre><code>config = load_env(\n    types={\"PORT\": int},\n    rules={\n        \"PORT\": lambda v: 1024 &lt; v &lt; 65535,\n        \"TIMEOUT\": lambda v: v &gt; 0,\n        \"ALLOWED_HOSTS\": lambda hosts: len(hosts) &gt; 0\n    }\n)\n# Raises ValidationError if any rule fails\n</code></pre>"},{"location":"getting-started/basic-usage/#rule-function-signature","title":"Rule Function Signature","text":"<p>Validation rules receive the typed value (after casting):</p> <pre><code>rules = {\n    \"PORT\": lambda v: isinstance(v, int) and 1024 &lt; v &lt; 65535,\n    \"EMAIL\": lambda v: \"@\" in v and \".\" in v.split(\"@\")[1],\n    \"HOSTS\": lambda hosts: isinstance(hosts, list) and len(hosts) &gt; 0\n}\n</code></pre> <p>Rule Execution Order</p> <p>Rules are executed after type casting. If type casting fails, rules are not executed.</p>"},{"location":"getting-started/basic-usage/#strict-mode","title":"Strict Mode","text":"<p>Enable strict mode to catch unknown variables:</p> <pre><code>config = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int},\n    strict=True\n)\n# Warns about variables in .env not in required/types/defaults\n</code></pre> <p>Strict Mode Behavior</p> <ul> <li>Warns (does not fail) about unknown variables</li> <li>Useful for catching typos in variable names</li> <li>Recommended for production environments</li> </ul>"},{"location":"getting-started/basic-usage/#safe-representation","title":"Safe Representation","text":"<p>Get a safe representation with masked secrets:</p> <pre><code>config = load_env()\n\n# Safe for logging (secrets masked)\nsafe = config.safe_repr()\nprint(safe)\n# {\n#   \"API_KEY\": \"****1234\",\n#   \"PORT\": 8080,\n#   \"DB_PASSWORD\": \"****\"\n# }\n\n# Full access (use with caution)\nvalue = config[\"API_KEY\"]  # Full value, not masked\n</code></pre> <p>Never Log Full Config</p> <p>Always use <code>safe_repr()</code> for logging: <pre><code># \u274c BAD\nlogging.info(f\"Config: {config}\")\n\n# \u2705 GOOD\nlogging.info(f\"Config: {config.safe_repr()}\")\n</code></pre></p>"},{"location":"getting-started/basic-usage/#export-configuration","title":"Export Configuration","text":"<p>Export configuration to files:</p> <pre><code>config = load_env()\n\n# Export to JSON (secrets masked by default)\nconfig.save(\"config.json\", format=\"json\")\n\n# Export to YAML\nconfig.save(\"config.yaml\", format=\"yaml\")\n\n# Export with unmasked values (dangerous!)\nconfig.save(\"config.json\", format=\"json\", safe=False)\n</code></pre> <p>Export Safety</p> <p>By default, <code>save()</code> uses <code>safe_repr()</code> which masks secrets. Only use <code>safe=False</code> if you're certain the output is secure.</p>"},{"location":"getting-started/basic-usage/#common-patterns","title":"Common Patterns","text":""},{"location":"getting-started/basic-usage/#development-vs-production","title":"Development vs Production","text":"<pre><code>import os\n\nenv = os.getenv(\"ENVIRONMENT\", \"dev\")\nconfig = load_env(\n    env=env,\n    required=[\"API_KEY\"] if env == \"prod\" else [],\n    strict=env == \"prod\"\n)\n</code></pre>"},{"location":"getting-started/basic-usage/#configuration-with-fallbacks","title":"Configuration with Fallbacks","text":"<pre><code>config = load_env(\n    defaults={\n        \"PORT\": 8080,\n        \"DEBUG\": False\n    },\n    types={\n        \"PORT\": int,\n        \"DEBUG\": bool\n    }\n)\n# Uses defaults if not set, but still validates types\n</code></pre>"},{"location":"getting-started/basic-usage/#required-variables-with-types","title":"Required Variables with Types","text":"<pre><code>config = load_env(\n    required=[\"API_KEY\", \"DB_URI\"],\n    types={\n        \"PORT\": int,\n        \"TIMEOUT\": float,\n        \"DEBUG\": bool\n    }\n)\n# Ensures API_KEY and DB_URI exist\n# Casts PORT, TIMEOUT, DEBUG to their types\n</code></pre>"},{"location":"getting-started/basic-usage/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Type Casting - Detailed type casting rules</li> <li>Explore Validation - Advanced validation</li> <li>Set up Schema Support - Type-safe schemas</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#installation","title":"Installation","text":""},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.8 or higher</li> <li>pip (Python package manager)</li> </ul>"},{"location":"getting-started/installation/#basic-installation","title":"Basic Installation","text":"<pre><code>pip install env-loader-pro\n</code></pre>"},{"location":"getting-started/installation/#optional-dependencies","title":"Optional Dependencies","text":"<p>Install additional features as needed:</p> <pre><code># For Pydantic schema support\npip install env-loader-pro[pydantic]\n\n# For Azure Key Vault integration\npip install env-loader-pro[azure]\n\n# For AWS Secrets Manager integration\npip install env-loader-pro[aws]\n\n# For YAML export support\npip install env-loader-pro[yaml]\n\n# For live reloading (watchdog)\npip install env-loader-pro[watch]\n\n# For FastAPI integration\npip install env-loader-pro[fastapi]\n\n# Install everything\npip install env-loader-pro[all]\n</code></pre>"},{"location":"getting-started/installation/#development-installation","title":"Development Installation","text":"<p>For contributing or development:</p> <pre><code># Clone repository\ngit clone https://github.com/shanen28/env-loader-pro.git\ncd env-loader-pro\n\n# Install in editable mode with test dependencies\npip install -e \".[test,all]\"\n\n# Run tests\npytest tests/ -v\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code># Check version\npython -c \"from env_loader_pro import __version__; print(__version__)\"\n\n# Test CLI\nenvloader --help\n\n# Test import\npython -c \"from env_loader_pro import load_env; print('\u2713 Installation successful')\"\n</code></pre>"},{"location":"getting-started/installation/#upgrade","title":"Upgrade","text":"<pre><code>pip install --upgrade env-loader-pro\n</code></pre>"},{"location":"getting-started/quickstart/","title":"Quickstart","text":""},{"location":"getting-started/quickstart/#quick-start","title":"Quick Start","text":"<p>Get started with env-loader-pro in 5 minutes.</p>"},{"location":"getting-started/quickstart/#basic-example","title":"Basic Example","text":"<pre><code>from env_loader_pro import load_env\n\n# Load configuration\nconfig = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int, \"DEBUG\": bool},\n    defaults={\"PORT\": 8080}\n)\n\n# Use configuration\nprint(config[\"PORT\"])   # 8080 (int)\nprint(config[\"DEBUG\"])  # True (bool)\nprint(config[\"API_KEY\"]) # Your API key\n</code></pre>"},{"location":"getting-started/quickstart/#create-env-file","title":"Create .env File","text":"<p>Create a <code>.env</code> file in your project root:</p> <pre><code># .env\nPORT=8080\nDEBUG=true\nAPI_KEY=your-secret-key-here\n</code></pre>"},{"location":"getting-started/quickstart/#load-and-use","title":"Load and Use","text":"<pre><code>from env_loader_pro import load_env\n\nconfig = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int, \"DEBUG\": bool}\n)\n\n# Access values\nport = config[\"PORT\"]      # Already an int!\ndebug = config[\"DEBUG\"]    # Already a bool!\napi_key = config[\"API_KEY\"] # String\n</code></pre>"},{"location":"getting-started/quickstart/#with-cloud-secrets-azure","title":"With Cloud Secrets (Azure)","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\n# Create provider\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\"\n)\n\n# Load with provider\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider]\n)\n\n# Secrets from Azure Key Vault override local .env\nprint(config[\"DB_PASSWORD\"])  # From Azure\n</code></pre>"},{"location":"getting-started/quickstart/#with-cloud-secrets-aws","title":"With Cloud Secrets (AWS)","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AWSSecretsManagerProvider\n\n# Create provider\nprovider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/prod\",\n    region=\"us-east-1\"\n)\n\n# Load with provider\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider]\n)\n</code></pre>"},{"location":"getting-started/quickstart/#with-schema-validation","title":"With Schema Validation","text":"<pre><code>from env_loader_pro import load_with_schema\nfrom pydantic import BaseModel\n\n# Define schema\nclass Config(BaseModel):\n    port: int = 8080\n    debug: bool = False\n    api_key: str  # Required\n\n# Load and validate\nconfig = load_with_schema(Config, env=\"prod\")\n\n# Typed access\nprint(config.port)    # int\nprint(config.debug)   # bool\nprint(config.api_key) # str\n</code></pre>"},{"location":"getting-started/quickstart/#cli-usage","title":"CLI Usage","text":"<pre><code># Show configuration\nenvloader show\n\n# Validate\nenvloader validate --required API_KEY PORT\n\n# Export to JSON\nenvloader export --output config.json\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Configuration Precedence</li> <li>Explore Type Casting</li> <li>Set up Cloud Providers</li> <li>Enable Audit Trail</li> </ul>"},{"location":"providers/aws/","title":"Aws","text":""},{"location":"providers/aws/#aws-providers","title":"AWS Providers","text":"<p>Load secrets from AWS Secrets Manager or AWS Systems Manager Parameter Store.</p>"},{"location":"providers/aws/#installation","title":"Installation","text":"<pre><code>pip install env-loader-pro[aws]\n</code></pre>"},{"location":"providers/aws/#aws-secrets-manager","title":"AWS Secrets Manager","text":""},{"location":"providers/aws/#basic-usage","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AWSSecretsManagerProvider\n\n# Create provider\nprovider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/prod\",\n    region=\"us-east-1\"\n)\n\n# Load configuration\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider]\n)\n</code></pre>"},{"location":"providers/aws/#json-secrets","title":"JSON Secrets","text":"<p>If secret is JSON, extracts individual fields:</p> <pre><code># AWS Secret: {\"DB_PASSWORD\": \"secret\", \"API_KEY\": \"key\"}\nprovider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/prod\"\n)\n\nconfig = load_env(providers=[provider])\n# config[\"DB_PASSWORD\"] = \"secret\"\n# config[\"API_KEY\"] = \"key\"\n</code></pre>"},{"location":"providers/aws/#plain-text-secrets","title":"Plain Text Secrets","text":"<pre><code># AWS Secret: plain text value\nprovider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/api-key\"  # Secret name\n)\n\nconfig = load_env(providers=[provider])\n# config[\"myapp/api-key\"] = \"value\"\n</code></pre>"},{"location":"providers/aws/#aws-ssm-parameter-store","title":"AWS SSM Parameter Store","text":""},{"location":"providers/aws/#basic-usage_1","title":"Basic Usage","text":"<pre><code>from env_loader_pro.providers import AWSSSMProvider\n\n# Create provider\nprovider = AWSSSMProvider(\n    prefix=\"/myapp/prod/\",\n    region=\"us-east-1\"\n)\n\n# Load configuration\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"providers/aws/#parameter-names","title":"Parameter Names","text":"<pre><code># SSM Parameters:\n# /myapp/prod/DB_PASSWORD\n# /myapp/prod/API_KEY\n\nprovider = AWSSSMProvider(prefix=\"/myapp/prod/\")\n\nconfig = load_env(providers=[provider])\n# config[\"DB_PASSWORD\"] = value from /myapp/prod/DB_PASSWORD\n# config[\"API_KEY\"] = value from /myapp/prod/API_KEY\n</code></pre>"},{"location":"providers/aws/#get-all-parameters","title":"Get All Parameters","text":"<pre><code>provider = AWSSSMProvider(prefix=\"/myapp/prod/\")\n\n# Automatically loads all parameters under prefix\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"providers/aws/#authentication","title":"Authentication","text":"<p>Uses boto3 default credential chain:</p> <ol> <li>IAM Role - EC2, ECS, Lambda (recommended)</li> <li>Environment Variables - AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY</li> <li>AWS Credentials File - <code>~/.aws/credentials</code></li> <li>IAM Instance Profile - EC2 instance profile</li> </ol>"},{"location":"providers/aws/#caching","title":"Caching","text":"<pre><code>provider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/prod\",\n    cache=True,\n    cache_ttl=3600\n)\n</code></pre>"},{"location":"providers/aws/#failure-policy","title":"Failure Policy","text":"<pre><code>config = load_env(\n    providers=[aws_provider],\n    failure_policy={\n        \"aws\": \"fallback\"  # Continue if AWS unavailable\n    }\n)\n</code></pre>"},{"location":"providers/aws/#example","title":"Example","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import (\n    AWSSecretsManagerProvider,\n    AWSSSMProvider\n)\n\n# Use both providers\nsecrets_provider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/secrets\",\n    region=\"us-east-1\"\n)\n\nssm_provider = AWSSSMProvider(\n    prefix=\"/myapp/config/\",\n    region=\"us-east-1\"\n)\n\nconfig = load_env(\n    env=\"prod\",\n    providers=[secrets_provider, ssm_provider],\n    audit=True\n)\n</code></pre>"},{"location":"providers/aws/#best-practices","title":"Best Practices","text":"<ol> <li>Use IAM roles in production (no static credentials)</li> <li>Enable caching to reduce API calls</li> <li>Use prefixes for SSM parameters</li> <li>Set failure policy based on environment</li> <li>Enable audit for compliance</li> </ol>"},{"location":"providers/aws/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Failure Policies</li> </ul>"},{"location":"providers/azure/","title":"Azure","text":""},{"location":"providers/azure/#azure-key-vault-provider","title":"Azure Key Vault Provider","text":"<p>Load secrets from Azure Key Vault with automatic authentication.</p>"},{"location":"providers/azure/#installation","title":"Installation","text":"<pre><code>pip install env-loader-pro[azure]\n</code></pre>"},{"location":"providers/azure/#basic-usage","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\n# Create provider\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\"\n)\n\n# Load configuration\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider]\n)\n</code></pre>"},{"location":"providers/azure/#authentication","title":"Authentication","text":"<p>Uses <code>DefaultAzureCredential</code> which supports:</p> <ul> <li>Managed Identity - Azure VMs, App Service, Functions</li> <li>Service Principal - Client ID/Secret</li> <li>Azure CLI - Local development</li> <li>Environment Variables - Client credentials</li> </ul>"},{"location":"providers/azure/#custom-credential","title":"Custom Credential","text":"<pre><code>from azure.identity import ClientSecretCredential\n\ncredential = ClientSecretCredential(\n    tenant_id=\"...\",\n    client_id=\"...\",\n    client_secret=\"...\"\n)\n\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\",\n    credential=credential\n)\n</code></pre>"},{"location":"providers/azure/#caching","title":"Caching","text":"<p>Enable caching to reduce API calls:</p> <pre><code>provider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\",\n    cache=True,\n    cache_ttl=3600  # 1 hour\n)\n</code></pre>"},{"location":"providers/azure/#failure-policy","title":"Failure Policy","text":"<pre><code>config = load_env(\n    providers=[provider],\n    failure_policy={\n        \"azure\": \"fail\"  # Raise error if Azure unavailable\n    }\n)\n</code></pre>"},{"location":"providers/azure/#example","title":"Example","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\n# Production setup\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://prod-vault.vault.azure.net\"\n)\n\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider],\n    audit=True,  # Track provenance\n    cache=True,\n    cache_ttl=3600\n)\n\n# Secrets from Azure override local .env\ndb_password = config[\"DB_PASSWORD\"]  # From Azure Key Vault\n</code></pre>"},{"location":"providers/azure/#capabilities","title":"Capabilities","text":"<pre><code>provider = AzureKeyVaultProvider(...)\nprint(provider.capabilities.to_dict())\n\n# {\n#   \"batch\": True,\n#   \"cacheable\": True,\n#   \"rotatable\": True,\n#   \"watchable\": False,\n#   \"metadata\": True\n# }\n</code></pre>"},{"location":"providers/azure/#best-practices","title":"Best Practices","text":"<ol> <li>Use Managed Identity in production</li> <li>Enable caching to reduce API calls</li> <li>Set failure policy to \"fail\" in production</li> <li>Enable audit to track secret access</li> <li>Use environment-specific vaults per environment</li> </ol>"},{"location":"providers/azure/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Failure Policies</li> <li>Audit Trail</li> </ul>"},{"location":"providers/custom/","title":"Custom","text":""},{"location":"providers/custom/#custom-providers","title":"Custom Providers","text":"<p>Create your own provider to load configuration from any source.</p>"},{"location":"providers/custom/#provider-interface","title":"Provider Interface","text":"<p>All providers inherit from <code>BaseProvider</code>:</p> <pre><code>from env_loader_pro.providers import BaseProvider\nfrom typing import Dict, Optional\n\nclass CustomProvider(BaseProvider):\n    def get(self, key: str) -&gt; Optional[str]:\n        \"\"\"Get single value.\"\"\"\n        pass\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        \"\"\"Get multiple values.\"\"\"\n        pass\n\n    def get_all(self) -&gt; Dict[str, str]:\n        \"\"\"Get all values (optional, for efficiency).\"\"\"\n        pass\n</code></pre>"},{"location":"providers/custom/#example-database-provider","title":"Example: Database Provider","text":"<pre><code>from env_loader_pro.providers import BaseProvider\nfrom env_loader_pro.exceptions import ProviderError\nfrom typing import Dict, Optional\nimport sqlite3\n\nclass DatabaseProvider(BaseProvider):\n    def __init__(self, db_path: str):\n        self.db_path = db_path\n\n    def get(self, key: str) -&gt; Optional[str]:\n        \"\"\"Get value from database.\"\"\"\n        try:\n            conn = sqlite3.connect(self.db_path)\n            cursor = conn.cursor()\n            cursor.execute(\"SELECT value FROM config WHERE key = ?\", (key,))\n            row = cursor.fetchone()\n            conn.close()\n            return row[0] if row else None\n        except Exception as e:\n            raise ProviderError(f\"Failed to get {key} from database: {e}\")\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        \"\"\"Get multiple values.\"\"\"\n        result = {}\n        for key in keys:\n            value = self.get(key)\n            if value:\n                result[key] = value\n        return result\n\n    def get_all(self) -&gt; Dict[str, str]:\n        \"\"\"Get all values from database.\"\"\"\n        try:\n            conn = sqlite3.connect(self.db_path)\n            cursor = conn.cursor()\n            cursor.execute(\"SELECT key, value FROM config\")\n            rows = cursor.fetchall()\n            conn.close()\n            return {row[0]: row[1] for row in rows}\n        except Exception as e:\n            raise ProviderError(f\"Failed to get all from database: {e}\")\n\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if database is available.\"\"\"\n        import os\n        return os.path.exists(self.db_path)\n</code></pre>"},{"location":"providers/custom/#example-http-api-provider","title":"Example: HTTP API Provider","text":"<pre><code>import requests\nfrom env_loader_pro.providers import BaseProvider\nfrom env_loader_pro.exceptions import ProviderError\n\nclass HTTPProvider(BaseProvider):\n    def __init__(self, api_url: str, api_key: str):\n        self.api_url = api_url\n        self.api_key = api_key\n\n    def get(self, key: str) -&gt; Optional[str]:\n        \"\"\"Get value from HTTP API.\"\"\"\n        try:\n            response = requests.get(\n                f\"{self.api_url}/config/{key}\",\n                headers={\"Authorization\": f\"Bearer {self.api_key}\"}\n            )\n            response.raise_for_status()\n            return response.json().get(\"value\")\n        except Exception as e:\n            raise ProviderError(f\"Failed to get {key} from API: {e}\")\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        \"\"\"Get multiple values.\"\"\"\n        result = {}\n        for key in keys:\n            value = self.get(key)\n            if value:\n                result[key] = value\n        return result\n\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if API is available.\"\"\"\n        try:\n            response = requests.get(f\"{self.api_url}/health\", timeout=2)\n            return response.status_code == 200\n        except:\n            return False\n</code></pre>"},{"location":"providers/custom/#using-custom-provider","title":"Using Custom Provider","text":"<pre><code>from env_loader_pro import load_env\n\n# Create custom provider\ncustom_provider = CustomProvider(config=\"...\")\n\n# Use with load_env\nconfig = load_env(\n    env=\"prod\",\n    providers=[custom_provider],\n    audit=True\n)\n</code></pre>"},{"location":"providers/custom/#provider-capabilities","title":"Provider Capabilities","text":"<p>Override capabilities if needed:</p> <pre><code>class CustomProvider(BaseProvider):\n    def __init__(self):\n        super().__init__()\n        # Customize capabilities\n        self._capabilities.batch = True\n        self._capabilities.cacheable = True\n        self._capabilities.rotatable = False\n</code></pre>"},{"location":"providers/custom/#secret-metadata","title":"Secret Metadata","text":"<p>Optionally provide secret metadata:</p> <pre><code>from env_loader_pro.providers import SecretMetadata\n\nclass CustomProvider(BaseProvider):\n    def get_metadata(self, key: str) -&gt; Optional[SecretMetadata]:\n        \"\"\"Get metadata for secret.\"\"\"\n        return SecretMetadata(\n            ttl=3600,\n            rotatable=True,\n            expires_at=\"2024-12-31T23:59:59Z\"\n        )\n</code></pre>"},{"location":"providers/custom/#best-practices","title":"Best Practices","text":"<ol> <li>Handle errors gracefully - Raise <code>ProviderError</code> on failure</li> <li>Implement <code>is_available()</code> - Check if provider is accessible</li> <li>Support <code>get_all()</code> - More efficient than multiple <code>get()</code> calls</li> <li>Set capabilities - Help loader optimize behavior</li> <li>Enable caching - If provider supports it</li> </ol>"},{"location":"providers/custom/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Failure Policies</li> </ul>"},{"location":"providers/docker-k8s/","title":"Docker k8s","text":""},{"location":"providers/docker-k8s/#docker-kubernetes-providers","title":"Docker &amp; Kubernetes Providers","text":"<p>Load secrets from Docker and Kubernetes mounted volumes.</p>"},{"location":"providers/docker-k8s/#docker-secrets","title":"Docker Secrets","text":"<p>Docker Swarm mounts secrets at <code>/run/secrets/</code>.</p>"},{"location":"providers/docker-k8s/#basic-usage","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import DockerSecretsProvider\n\n# Create provider (defaults to /run/secrets)\nprovider = DockerSecretsProvider()\n\n# Or custom path\nprovider = DockerSecretsProvider(secrets_path=\"/custom/secrets\")\n\n# Load configuration\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"providers/docker-k8s/#auto-detection","title":"Auto-Detection","text":"<p>Docker secrets are automatically detected if available:</p> <pre><code># Automatically loads from /run/secrets if available\nconfig = load_env(env=\"prod\")\n</code></pre>"},{"location":"providers/docker-k8s/#kubernetes-secrets","title":"Kubernetes Secrets","text":"<p>Kubernetes mounts secrets and configmaps as files.</p>"},{"location":"providers/docker-k8s/#basic-usage_1","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import KubernetesSecretsProvider\n\n# Create provider\nprovider = KubernetesSecretsProvider(\n    secrets_path=\"/etc/secrets\",      # K8s secrets mount\n    config_map_path=\"/etc/config\"    # K8s configmap mount\n)\n\n# Load configuration\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"providers/docker-k8s/#auto-detection_1","title":"Auto-Detection","text":"<p>Kubernetes secrets are automatically detected if available:</p> <pre><code># Automatically loads from /etc/secrets and /etc/config if available\nconfig = load_env(env=\"prod\")\n</code></pre>"},{"location":"providers/docker-k8s/#filesystem-provider","title":"Filesystem Provider","text":"<p>Generic filesystem-mounted configuration:</p> <pre><code>from env_loader_pro.providers import FilesystemProvider\n\nprovider = FilesystemProvider(\n    secrets_path=\"/etc/secrets\",\n    config_map_path=\"/etc/config\"\n)\n\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"providers/docker-k8s/#kubernetes-deployment-example","title":"Kubernetes Deployment Example","text":""},{"location":"providers/docker-k8s/#secret-definition","title":"Secret Definition","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: app-secrets\ntype: Opaque\ndata:\n  DB_PASSWORD: &lt;base64-encoded&gt;\n  API_KEY: &lt;base64-encoded&gt;\n</code></pre>"},{"location":"providers/docker-k8s/#pod-mount","title":"Pod Mount","text":"<pre><code>apiVersion: v1\nkind: Pod\nspec:\n  containers:\n  - name: app\n    volumeMounts:\n    - name: secrets\n      mountPath: /etc/secrets\n      readOnly: true\n  volumes:\n  - name: secrets\n    secret:\n      secretName: app-secrets\n</code></pre>"},{"location":"providers/docker-k8s/#application-code","title":"Application Code","text":"<pre><code>from env_loader_pro import load_env\n\n# Automatically loads from /etc/secrets\nconfig = load_env(env=\"prod\")\ndb_password = config[\"DB_PASSWORD\"]  # From mounted secret\n</code></pre>"},{"location":"providers/docker-k8s/#priority","title":"Priority","text":"<p>Docker/K8s secrets have priority 3 (after cloud providers and system env):</p> <ol> <li>Cloud providers</li> <li>System environment</li> <li>Docker/K8s secrets \u2190 Here</li> <li>.env files</li> <li>Schema defaults</li> </ol>"},{"location":"providers/docker-k8s/#best-practices","title":"Best Practices","text":"<ol> <li>Use K8s secrets for sensitive data</li> <li>Use configmaps for non-sensitive config</li> <li>Mount read-only volumes</li> <li>Enable audit to track sources</li> <li>Test locally with Docker secrets</li> </ol>"},{"location":"providers/docker-k8s/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Configuration Precedence</li> </ul>"},{"location":"providers/overview/","title":"Overview","text":""},{"location":"providers/overview/#providers-overview","title":"Providers Overview","text":"<p>Providers allow loading configuration from external sources like cloud secret managers, filesystems, and custom backends. This document explains the provider system, how it works, and how to use it.</p>"},{"location":"providers/overview/#what-are-providers","title":"What Are Providers?","text":"<p>Providers are pluggable backends that fetch configuration values from external sources. They abstract away the complexity of different secret management systems, providing a unified interface for loading configuration.</p>"},{"location":"providers/overview/#why-providers","title":"Why Providers?","text":"<p>Problem: Configuration can come from many sources: - Azure Key Vault - AWS Secrets Manager - Kubernetes secrets - Docker secrets - Local <code>.env</code> files - System environment variables</p> <p>Solution: Provider abstraction that: - Unifies different sources - Handles authentication automatically - Supports caching and error handling - Provides consistent interface</p>"},{"location":"providers/overview/#supported-providers","title":"Supported Providers","text":""},{"location":"providers/overview/#cloud-providers","title":"Cloud Providers","text":"<ul> <li>Azure Key Vault - Azure cloud secrets (<code>env-loader-pro[azure]</code>)</li> <li>AWS Secrets Manager - AWS cloud secrets (<code>env-loader-pro[aws]</code>)</li> <li>AWS SSM Parameter Store - AWS parameter store (<code>env-loader-pro[aws]</code>)</li> </ul>"},{"location":"providers/overview/#container-providers","title":"Container Providers","text":"<ul> <li>Docker Secrets - Docker mounted secrets (<code>/run/secrets/*</code>)</li> <li>Kubernetes Secrets - K8s mounted secrets/configmaps (<code>/var/run/secrets/kubernetes.io/serviceaccount/*</code>)</li> </ul>"},{"location":"providers/overview/#filesystem-providers","title":"Filesystem Providers","text":"<ul> <li>Filesystem - Filesystem-mounted configs (automatic)</li> </ul>"},{"location":"providers/overview/#custom-providers","title":"Custom Providers","text":"<ul> <li>Custom - Build your own provider (see Custom Providers)</li> </ul>"},{"location":"providers/overview/#provider-priority","title":"Provider Priority","text":"<p>Providers have the highest priority in configuration precedence:</p> <ol> <li>Cloud providers (Azure, AWS) - Highest priority</li> <li>System environment variables</li> <li>Docker/K8s secrets</li> <li><code>.env.{env}</code> files (environment-specific)</li> <li>Base <code>.env</code> file</li> <li>Schema defaults - Lowest priority</li> </ol> <p>Why this order? - Security: Cloud secrets should always win (secrets win) - Predictability: Fixed order, no ambiguity - Production-first: Production secrets override local files</p>"},{"location":"providers/overview/#basic-usage","title":"Basic Usage","text":""},{"location":"providers/overview/#single-provider","title":"Single Provider","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\n# Create provider\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\"\n)\n\n# Use with load_env\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider]\n)\n\n# Secrets from Azure override .env files\ndb_password = config[\"DB_PASSWORD\"]  # From Azure\n</code></pre>"},{"location":"providers/overview/#multiple-providers","title":"Multiple Providers","text":"<pre><code>from env_loader_pro.providers import (\n    AzureKeyVaultProvider,\n    AWSSecretsManagerProvider\n)\n\n# Use multiple providers\nconfig = load_env(\n    providers=[\n        AzureKeyVaultProvider(...),      # Loaded first\n        AWSSecretsManagerProvider(...)   # Overrides Azure if same key\n    ]\n)\n# Later providers override earlier ones\n</code></pre> <p>Use case: Use Azure for secrets, AWS for configuration.</p>"},{"location":"providers/overview/#provider-interface","title":"Provider Interface","text":"<p>All providers implement the <code>BaseProvider</code> interface:</p> <pre><code>from env_loader_pro.providers import BaseProvider\n\nclass CustomProvider(BaseProvider):\n    def get(self, key: str) -&gt; Optional[str]:\n        \"\"\"Get single value.\"\"\"\n        pass\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        \"\"\"Get multiple values (batch operation).\"\"\"\n        pass\n\n    def get_all(self) -&gt; Dict[str, str]:\n        \"\"\"Get all values (optional, for efficiency).\"\"\"\n        pass\n</code></pre>"},{"location":"providers/overview/#required-methods","title":"Required Methods","text":"<ul> <li><code>get(key: str) -&gt; Optional[str]</code> - Get single value</li> <li><code>get_many(keys: list[str]) -&gt; Dict[str, str]</code> - Get multiple values (if <code>capabilities.batch</code> is True)</li> </ul>"},{"location":"providers/overview/#optional-methods","title":"Optional Methods","text":"<ul> <li><code>get_all() -&gt; Dict[str, str]</code> - Get all values (for efficiency)</li> </ul>"},{"location":"providers/overview/#provider-capabilities","title":"Provider Capabilities","text":"<p>Each provider exposes capabilities that describe what it can do:</p> <pre><code>provider = AzureKeyVaultProvider(...)\ncapabilities = provider.capabilities\n\n# {\n#   \"batch\": True,        # Supports get_many (batch operations)\n#   \"cacheable\": True,    # Values can be cached\n#   \"rotatable\": False,   # Supports secret rotation\n#   \"watchable\": False,   # Supports watching for changes\n#   \"metadata\": True      # Provides secret metadata (TTL, etc.)\n# }\n</code></pre>"},{"location":"providers/overview/#capability-flags","title":"Capability Flags","text":"<ul> <li><code>batch</code>: Provider supports batch operations (<code>get_many</code>)</li> <li><code>cacheable</code>: Values can be cached (safe to cache)</li> <li><code>rotatable</code>: Provider supports secret rotation</li> <li><code>watchable</code>: Provider supports watching for changes</li> <li><code>metadata</code>: Provider provides metadata (TTL, rotation status, etc.)</li> </ul>"},{"location":"providers/overview/#using-capabilities","title":"Using Capabilities","text":"<pre><code>provider = AzureKeyVaultProvider(...)\n\nif provider.capabilities.batch:\n    # Use batch operation for efficiency\n    values = provider.get_many([\"KEY1\", \"KEY2\", \"KEY3\"])\nelse:\n    # Fall back to individual calls\n    values = {k: provider.get(k) for k in [\"KEY1\", \"KEY2\", \"KEY3\"]}\n</code></pre>"},{"location":"providers/overview/#failure-policies","title":"Failure Policies","text":"<p>Control how provider errors are handled:</p> <pre><code>config = load_env(\n    providers=[azure_provider],\n    failure_policy={\n        \"azure\": \"fail\",      # Raise error (production)\n        \"aws\": \"fallback\",    # Silently continue (optional)\n        \"filesystem\": \"warn\"  # Log warning (development)\n    }\n)\n</code></pre> <p>Policies: - <code>fail</code> - Raise error immediately (production) - <code>warn</code> - Log warning and continue (development) - <code>fallback</code> - Silently continue (resilient)</p> <p>See Failure Policies for details.</p>"},{"location":"providers/overview/#caching","title":"Caching","text":"<p>Providers support caching to reduce API calls:</p> <pre><code>config = load_env(\n    providers=[azure_provider],\n    cache=True,\n    cache_ttl=3600  # 1 hour\n)\n</code></pre> <p>Benefits: - Reduced API calls (cost savings) - Faster loading (cached values) - Rate limit protection</p> <p>Tradeoffs: - Stale values (if secrets rotate) - Memory usage (cached values)</p> <p>Best practice: Use caching with appropriate TTL based on secret rotation frequency.</p>"},{"location":"providers/overview/#availability-check","title":"Availability Check","text":"<p>Check if provider is available before using:</p> <pre><code>provider = AzureKeyVaultProvider(...)\n\nif provider.is_available():\n    # Provider is accessible\n    config = load_env(providers=[provider])\nelse:\n    # Fallback to local config\n    config = load_env()\n</code></pre> <p>Use case: Graceful degradation when cloud providers are unavailable.</p>"},{"location":"providers/overview/#authentication","title":"Authentication","text":""},{"location":"providers/overview/#azure-key-vault","title":"Azure Key Vault","text":"<p>Uses <code>DefaultAzureCredential</code> which supports: - Managed Identity (Azure VMs, App Service, Functions) - Service Principal (Client ID/Secret) - Azure CLI (local development) - Environment Variables (Client credentials)</p>"},{"location":"providers/overview/#aws-providers","title":"AWS Providers","text":"<p>Uses boto3 default credential chain: - IAM Role (EC2, ECS, Lambda) - Environment Variables (<code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code>) - AWS Credentials File (<code>~/.aws/credentials</code>) - IAM Instance Profile (EC2)</p>"},{"location":"providers/overview/#dockerkubernetes","title":"Docker/Kubernetes","text":"<p>Uses filesystem mounts (no authentication needed): - Docker: <code>/run/secrets/*</code> - Kubernetes: <code>/var/run/secrets/kubernetes.io/serviceaccount/*</code></p>"},{"location":"providers/overview/#provider-lifecycle","title":"Provider Lifecycle","text":""},{"location":"providers/overview/#initialization","title":"Initialization","text":"<pre><code># Provider created\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\"\n)\n# No network calls yet\n</code></pre>"},{"location":"providers/overview/#loading","title":"Loading","text":"<pre><code># Provider used in load_env\nconfig = load_env(providers=[provider])\n# Network calls happen here\n# Values cached if cache=True\n</code></pre>"},{"location":"providers/overview/#caching_1","title":"Caching","text":"<pre><code># Subsequent loads use cache\nconfig = load_env(providers=[provider], cache=True)\n# Uses cached values if TTL not expired\n</code></pre>"},{"location":"providers/overview/#error-handling","title":"Error Handling","text":""},{"location":"providers/overview/#network-errors","title":"Network Errors","text":"<pre><code>try:\n    config = load_env(providers=[azure_provider])\nexcept ProviderError as e:\n    # Handle provider error\n    logger.error(f\"Provider error: {e}\")\n    # Fallback to local config\n    config = load_env()\n</code></pre>"},{"location":"providers/overview/#authentication-errors","title":"Authentication Errors","text":"<pre><code>try:\n    config = load_env(providers=[azure_provider])\nexcept AuthenticationError as e:\n    # Handle authentication error\n    logger.error(f\"Authentication failed: {e}\")\n    sys.exit(1)\n</code></pre>"},{"location":"providers/overview/#rate-limit-errors","title":"Rate Limit Errors","text":"<pre><code>try:\n    config = load_env(providers=[azure_provider])\nexcept RateLimitError as e:\n    # Handle rate limit\n    logger.warning(f\"Rate limit: {e}\")\n    # Use cached values or retry\n    time.sleep(60)\n    config = load_env(providers=[azure_provider])\n</code></pre>"},{"location":"providers/overview/#best-practices","title":"Best Practices","text":""},{"location":"providers/overview/#1-use-cloud-providers-for-secrets","title":"1. Use Cloud Providers for Secrets","text":"<pre><code># \u2705 GOOD: Secrets from cloud\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}\n)\n\n# \u274c BAD: Secrets in .env files\n# .env: DB_PASSWORD=secret123  # Don't do this!\n</code></pre>"},{"location":"providers/overview/#2-set-failure-policies","title":"2. Set Failure Policies","text":"<pre><code># \u2705 GOOD: Explicit failure policy\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}  # Explicit\n)\n\n# \u274c BAD: Default behavior (might not be what you want)\nconfig = load_env(providers=[azure_provider])  # Uses defaults\n</code></pre>"},{"location":"providers/overview/#3-enable-caching","title":"3. Enable Caching","text":"<pre><code># \u2705 GOOD: Caching enabled\nconfig = load_env(\n    providers=[azure_provider],\n    cache=True,\n    cache_ttl=3600\n)\n\n# \u274c BAD: No caching (expensive)\nconfig = load_env(providers=[azure_provider])  # No cache\n</code></pre>"},{"location":"providers/overview/#4-use-batch-operations","title":"4. Use Batch Operations","text":"<pre><code># \u2705 GOOD: Batch operation\nif provider.capabilities.batch:\n    values = provider.get_many([\"KEY1\", \"KEY2\", \"KEY3\"])\n\n# \u274c BAD: Individual calls\nvalues = {k: provider.get(k) for k in [\"KEY1\", \"KEY2\", \"KEY3\"]}\n</code></pre>"},{"location":"providers/overview/#5-handle-errors-gracefully","title":"5. Handle Errors Gracefully","text":"<pre><code># \u2705 GOOD: Error handling\ntry:\n    config = load_env(providers=[azure_provider])\nexcept ProviderError:\n    config = load_env()  # Fallback\n\n# \u274c BAD: No error handling\nconfig = load_env(providers=[azure_provider])  # Might crash\n</code></pre>"},{"location":"providers/overview/#common-mistakes","title":"Common Mistakes","text":""},{"location":"providers/overview/#mistake-1-not-setting-failure-policies","title":"Mistake 1: Not Setting Failure Policies","text":"<pre><code># \u274c WRONG: Uses defaults, might not be what you want\nconfig = load_env(providers=[azure_provider])\n\n# \u2705 CORRECT: Explicit failure policy\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}\n)\n</code></pre>"},{"location":"providers/overview/#mistake-2-not-using-caching","title":"Mistake 2: Not Using Caching","text":"<pre><code># \u274c WRONG: No caching (expensive API calls)\nconfig = load_env(providers=[azure_provider])\n\n# \u2705 CORRECT: Caching enabled\nconfig = load_env(\n    providers=[azure_provider],\n    cache=True,\n    cache_ttl=3600\n)\n</code></pre>"},{"location":"providers/overview/#mistake-3-not-handling-errors","title":"Mistake 3: Not Handling Errors","text":"<pre><code># \u274c WRONG: No error handling\nconfig = load_env(providers=[azure_provider])\n\n# \u2705 CORRECT: Error handling\ntry:\n    config = load_env(providers=[azure_provider])\nexcept ProviderError:\n    config = load_env()  # Fallback\n</code></pre>"},{"location":"providers/overview/#related-topics","title":"Related Topics","text":"<ul> <li>Azure Key Vault - Azure integration</li> <li>AWS Secrets Manager - AWS integration</li> <li>Docker &amp; Kubernetes - Container secrets</li> <li>Custom Providers - Build your own</li> <li>Failure Policies - Error handling</li> <li>Provider System - Architecture details</li> </ul>"},{"location":"security/ci-safety/","title":"Ci safety","text":""},{"location":"security/ci-safety/#cicd-safety","title":"CI/CD Safety","text":"<p>All CLI commands work without cloud credentials, perfect for CI pipelines.</p>"},{"location":"security/ci-safety/#ci-safe-commands","title":"CI-Safe Commands","text":"<p>All commands support <code>--ci</code> flag:</p> <pre><code># Validate (no cloud access)\nenvloader validate --ci --required API_KEY PORT\n\n# Audit (no cloud access)\nenvloader audit --ci --json\n\n# Diff (no cloud access)\nenvloader diff --ci --deny-secret-changes\n\n# Explain (no cloud access)\nenvloader explain --ci\n</code></pre>"},{"location":"security/ci-safety/#guarantees","title":"Guarantees","text":"<p>When using <code>--ci</code> flag:</p> <ul> <li>\u2705 No network calls to cloud providers</li> <li>\u2705 No credentials required</li> <li>\u2705 Deterministic behavior</li> <li>\u2705 Proper exit codes (0 = success, non-zero = failure)</li> </ul>"},{"location":"security/ci-safety/#ci-pipeline-example","title":"CI Pipeline Example","text":""},{"location":"security/ci-safety/#github-actions","title":"GitHub Actions","text":"<pre><code>name: Validate Config\n\non: [push, pull_request]\n\njobs:\n  validate:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - uses: actions/setup-python@v2\n        with:\n          python-version: '3.8'\n      - run: pip install env-loader-pro\n      - run: envloader validate --ci --required API_KEY PORT\n      - run: envloader audit --ci --json &gt; audit.json\n      - run: envloader diff --ci --deny-secret-changes\n</code></pre>"},{"location":"security/ci-safety/#gitlab-ci","title":"GitLab CI","text":"<pre><code>validate:\n  image: python:3.8\n  script:\n    - pip install env-loader-pro\n    - envloader validate --ci --required API_KEY PORT\n    - envloader audit --ci --json\n</code></pre>"},{"location":"security/ci-safety/#validation-in-ci","title":"Validation in CI","text":""},{"location":"security/ci-safety/#schema-validation","title":"Schema Validation","text":"<pre><code># Validate schema without cloud access\nenvloader validate --ci --schema config.yaml\n</code></pre>"},{"location":"security/ci-safety/#required-variables","title":"Required Variables","text":"<pre><code># Check required variables exist\nenvloader validate --ci --required API_KEY DB_PASSWORD\n</code></pre>"},{"location":"security/ci-safety/#audit-in-ci","title":"Audit in CI","text":""},{"location":"security/ci-safety/#export-audit","title":"Export Audit","text":"<pre><code># Export audit for compliance\nenvloader audit --ci --json &gt; audit.json\n\n# Upload to artifact storage\n</code></pre>"},{"location":"security/ci-safety/#diff-in-ci","title":"Diff in CI","text":""},{"location":"security/ci-safety/#prevent-secret-changes","title":"Prevent Secret Changes","text":"<pre><code># Fail if secrets changed\nenvloader diff --ci --deny-secret-changes --baseline .env.baseline\n</code></pre>"},{"location":"security/ci-safety/#prevent-added-secrets","title":"Prevent Added Secrets","text":"<pre><code># Fail if new secrets added\nenvloader diff --ci --deny-added-secrets --baseline .env.baseline\n</code></pre>"},{"location":"security/ci-safety/#best-practices","title":"Best Practices","text":"<ol> <li>Always use <code>--ci</code> flag in CI pipelines</li> <li>Validate early in pipeline</li> <li>Export audit logs for compliance</li> <li>Check for secret changes before deployment</li> <li>Use exit codes for pipeline control</li> </ol>"},{"location":"security/ci-safety/#related-topics","title":"Related Topics","text":"<ul> <li>Security Model</li> <li>Configuration Diff</li> </ul>"},{"location":"security/encryption/","title":"Encryption","text":""},{"location":"security/encryption/#encrypted-files","title":"Encrypted Files","text":"<p>Support for encrypted .env files using age, GPG, or OpenSSL.</p>"},{"location":"security/encryption/#supported-methods","title":"Supported Methods","text":"<ul> <li>age - Modern encryption tool (recommended)</li> <li>GPG - GNU Privacy Guard</li> <li>openssl - OpenSSL encryption</li> </ul>"},{"location":"security/encryption/#encrypting-files","title":"Encrypting Files","text":""},{"location":"security/encryption/#cli","title":"CLI","text":"<pre><code># Encrypt with age (default)\nenvloader encrypt .env\n\n# Encrypt with specific method\nenvloader encrypt .env --method gpg\nenvloader encrypt .env --method openssl\n\n# Specify output file\nenvloader encrypt .env --output .env.enc\n\n# Specify key\nenvloader encrypt .env --key /path/to/key\n</code></pre>"},{"location":"security/encryption/#python-api","title":"Python API","text":"<pre><code>from env_loader_pro.crypto import encrypt_file\n\nencrypt_file(\n    input_path=\".env\",\n    output_path=\".env.enc\",\n    method=\"age\",\n    key=\"/path/to/key\"\n)\n</code></pre>"},{"location":"security/encryption/#decrypting-files","title":"Decrypting Files","text":""},{"location":"security/encryption/#cli_1","title":"CLI","text":"<pre><code># Decrypt\nenvloader decrypt .env.enc\n\n# Specify output\nenvloader decrypt .env.enc --output .env\n\n# Specify key\nenvloader decrypt .env.enc --key /path/to/key\n</code></pre>"},{"location":"security/encryption/#python-api_1","title":"Python API","text":"<pre><code>from env_loader_pro.crypto import decrypt_file\n\ndecrypted_content = decrypt_file(\n    input_path=\".env.enc\",\n    output_path=\".env\",\n    method=\"age\",\n    key=\"/path/to/key\"\n)\n</code></pre>"},{"location":"security/encryption/#loading-encrypted-files","title":"Loading Encrypted Files","text":""},{"location":"security/encryption/#direct-load","title":"Direct Load","text":"<pre><code>from env_loader_pro import load_env\n\nconfig = load_env(\n    path=\".env.enc\",\n    encrypted=True,\n    encryption_key=\"/path/to/key\"\n)\n</code></pre>"},{"location":"security/encryption/#auto-detection","title":"Auto-Detection","text":"<pre><code># Automatically detects .env.enc\nconfig = load_env(path=\".env.enc\")\n</code></pre>"},{"location":"security/encryption/#re-encryption","title":"Re-Encryption","text":"<p>Change encryption method or key:</p> <pre><code>from env_loader_pro.crypto import re_encrypt_file\n\nre_encrypt_file(\n    input_path=\".env.enc\",\n    output_path=\".env.enc.new\",\n    old_method=\"age\",\n    new_method=\"gpg\",\n    old_key=\"/path/to/old/key\",\n    new_key=\"/path/to/new/key\"\n)\n</code></pre> <p>Guarantee: Plaintext is never persisted to disk during re-encryption.</p>"},{"location":"security/encryption/#best-practices","title":"Best Practices","text":"<ol> <li>Use age for modern encryption</li> <li>Store keys securely (not in repo)</li> <li>Rotate keys regularly</li> <li>Use different keys per environment</li> <li>Never commit encrypted files with keys</li> </ol>"},{"location":"security/encryption/#related-topics","title":"Related Topics","text":"<ul> <li>Security Model</li> <li>CI/CD Safety</li> </ul>"},{"location":"security/masking/","title":"Masking","text":""},{"location":"security/masking/#secret-masking","title":"Secret Masking","text":"<p>Automatic detection and masking of secret values.</p>"},{"location":"security/masking/#automatic-detection","title":"Automatic Detection","text":"<p>Secrets are automatically detected for keys containing: - <code>secret</code> - <code>key</code> - <code>token</code> - <code>password</code> - <code>pwd</code> - <code>credential</code> - <code>auth</code> - <code>api[_-]?key</code></p>"},{"location":"security/masking/#masking-behavior","title":"Masking Behavior","text":""},{"location":"security/masking/#safe-representation","title":"Safe Representation","text":"<pre><code>config = load_env()\n\n# Safe for logging (secrets masked)\nsafe = config.safe_repr()\nprint(safe)\n# {\"API_KEY\": \"****1234\", \"PORT\": 8080, \"DB_PASSWORD\": \"****\"}\n</code></pre>"},{"location":"security/masking/#masking-format","title":"Masking Format","text":"<ul> <li>Values \u2264 4 chars: Fully masked (<code>****</code>)</li> <li>Values &gt; 4 chars: Last 4 visible (<code>****1234</code>)</li> </ul>"},{"location":"security/masking/#full-access","title":"Full Access","text":"<pre><code># Full access (use with caution)\nvalue = config[\"API_KEY\"]  # Full value, not masked\n</code></pre>"},{"location":"security/masking/#custom-secret-patterns","title":"Custom Secret Patterns","text":""},{"location":"security/masking/#mark-as-secret","title":"Mark as Secret","text":"<pre><code>from env_loader_pro.utils import mark_as_secret\n\nconfig = load_env(\n    custom_secrets=[mark_as_secret(\"CUSTOM_SECRET\")]\n)\n</code></pre>"},{"location":"security/masking/#custom-patterns","title":"Custom Patterns","text":"<pre><code>from env_loader_pro.utils import is_secret_key\n\n# Check if key is secret\nif is_secret_key(\"MY_API_KEY\"):\n    print(\"This is a secret\")\n</code></pre>"},{"location":"security/masking/#export-safety","title":"Export Safety","text":""},{"location":"security/masking/#json-export","title":"JSON Export","text":"<pre><code>config = load_env()\n\n# Safe export (secrets masked)\nconfig.save(\"config.json\", format=\"json\", safe=True)\n</code></pre>"},{"location":"security/masking/#yaml-export","title":"YAML Export","text":"<pre><code># Safe export (secrets masked)\nconfig.save(\"config.yaml\", format=\"yaml\", safe=True)\n</code></pre>"},{"location":"security/masking/#logging-safety","title":"Logging Safety","text":""},{"location":"security/masking/#safe-logging","title":"Safe Logging","text":"<pre><code>import logging\n\nconfig = load_env()\n\n# Safe for logging\nlogging.info(f\"Config: {config.safe_repr()}\")\n# Secrets are masked\n</code></pre>"},{"location":"security/masking/#unsafe-logging","title":"Unsafe Logging","text":"<pre><code># NEVER do this:\nlogging.info(f\"API Key: {config['API_KEY']}\")  # \u274c Exposes secret\n</code></pre>"},{"location":"security/masking/#best-practices","title":"Best Practices","text":"<ol> <li>Always use <code>safe_repr()</code> for logging</li> <li>Never log secrets directly</li> <li>Use custom patterns for project-specific secrets</li> <li>Enable audit trail to track secret access</li> <li>Review logs to ensure no secrets leaked</li> </ol>"},{"location":"security/masking/#related-topics","title":"Related Topics","text":"<ul> <li>Security Model</li> <li>Audit Trail</li> </ul>"},{"location":"security/model/","title":"Model","text":""},{"location":"security/model/#security-model","title":"Security Model","text":"<p>Complete security guarantees and secret handling for env-loader-pro. This document explains the security model, guarantees, and how secrets are protected throughout the configuration lifecycle.</p>"},{"location":"security/model/#security-guarantees","title":"Security Guarantees","text":"<p>env-loader-pro is designed with security as a first-class concern. These guarantees are non-negotiable and enforced at every level:</p> <ul> <li>\u2705 No secrets in logs - All secret values are automatically masked</li> <li>\u2705 No secrets in exports - Safe representation used for JSON/YAML export</li> <li>\u2705 Audit trail - Complete provenance tracking without exposing values</li> <li>\u2705 Policy enforcement - Prevent accidental secret exposure</li> <li>\u2705 Encrypted lifecycle - Support for encrypted .env files</li> <li>\u2705 CI/CD safe - Validation works without cloud credentials</li> <li>\u2705 Memory safety - Secrets never persisted to disk unnecessarily</li> </ul>"},{"location":"security/model/#secret-handling","title":"Secret Handling","text":""},{"location":"security/model/#automatic-detection","title":"Automatic Detection","text":"<p>Secrets are automatically detected and masked for keys matching these patterns (case-insensitive):</p> <ul> <li><code>secret</code> - Any key containing \"secret\"</li> <li><code>key</code> - Any key containing \"key\"</li> <li><code>token</code> - Any key containing \"token\"</li> <li><code>password</code> - Any key containing \"password\"</li> <li><code>pwd</code> - Any key containing \"pwd\"</li> <li><code>credential</code> - Any key containing \"credential\"</li> <li><code>auth</code> - Any key containing \"auth\"</li> <li><code>api[_-]?key</code> - API key patterns (e.g., <code>API_KEY</code>, <code>API-KEY</code>)</li> </ul> <p>Examples: <pre><code># These are automatically detected as secrets:\nAPI_KEY=secret123          # \u2705 Detected (contains \"key\")\nDB_PASSWORD=pass123        # \u2705 Detected (contains \"password\")\nAUTH_TOKEN=token123       # \u2705 Detected (contains \"token\")\nSECRET_VALUE=value123     # \u2705 Detected (contains \"secret\")\n\n# These are NOT detected:\nPORT=8080                 # \u274c Not a secret\nDEBUG=true                 # \u274c Not a secret\nHOST=localhost             # \u274c Not a secret\n</code></pre></p>"},{"location":"security/model/#masking-behavior","title":"Masking Behavior","text":"<pre><code>config = load_env()\n\n# Safe representation (masked)\nsafe = config.safe_repr()\n# {\"API_KEY\": \"****1234\", \"PORT\": 8080, \"DB_PASSWORD\": \"****\"}\n\n# Full access (unmasked, use with caution)\nvalue = config[\"API_KEY\"]  # Full value\n</code></pre> <p>Masking Format: - Values \u2264 4 chars: Fully masked (<code>****</code>) - Values &gt; 4 chars: Last 4 visible (<code>****1234</code>)</p> <p>Rationale: - Short values fully masked (no information leakage) - Long values show last 4 chars (helps debugging without exposing full secret) - Consistent format across all outputs</p>"},{"location":"security/model/#custom-secret-patterns","title":"Custom Secret Patterns","text":"<p>Mark additional keys as secrets:</p> <pre><code>from env_loader_pro.utils import mark_as_secret\n\nconfig = load_env(\n    custom_secrets=[\n        mark_as_secret(\"CUSTOM_SECRET\"),\n        mark_as_secret(\"INTERNAL_TOKEN\")\n    ]\n)\n</code></pre>"},{"location":"security/model/#pattern-matching","title":"Pattern Matching","text":"<p>Check if a key is treated as a secret:</p> <pre><code>from env_loader_pro.utils import is_secret_key\n\nif is_secret_key(\"MY_API_KEY\"):\n    print(\"This is a secret\")\n</code></pre>"},{"location":"security/model/#audit-trail-security","title":"Audit Trail Security","text":""},{"location":"security/model/#what-is-tracked","title":"What is Tracked","text":"<p>For each configuration variable, the audit trail records: - Source: Where the value came from (azure, aws, system, file, etc.) - Provider: Provider name (if from cloud provider) - Masked: Whether value is treated as secret - Timestamp: When variable was loaded</p>"},{"location":"security/model/#what-is-not-tracked","title":"What is NOT Tracked","text":"<p>Critical security guarantee: - \u274c Never stores actual secret values - \u274c Never logs secrets in plaintext - \u274c Never exports secrets in audit JSON - \u274c Never includes secrets in audit summaries</p> <p>Example audit entry: <pre><code>{\n  \"API_KEY\": {\n    \"key\": \"API_KEY\",\n    \"source\": \"azure\",\n    \"provider\": \"AzureKeyVaultProvider\",\n    \"masked\": true,\n    \"timestamp\": \"2024-01-15T10:30:00Z\"\n  }\n}\n</code></pre></p> <p>Note: The actual value of <code>API_KEY</code> is never in the audit trail.</p>"},{"location":"security/model/#encrypted-env-files","title":"Encrypted .env Files","text":""},{"location":"security/model/#supported-methods","title":"Supported Methods","text":"<ul> <li>age - Modern encryption tool (recommended)</li> <li>GPG - GNU Privacy Guard (widely supported)</li> <li>openssl - OpenSSL encryption (universal)</li> </ul>"},{"location":"security/model/#lifecycle","title":"Lifecycle","text":"<pre><code># Encrypt\nenvloader encrypt .env --method age\n\n# Decrypt (never stores plaintext on disk)\nenvloader decrypt .env.enc\n\n# Load encrypted\nconfig = load_env(path=\".env.enc\", encrypted=True)\n</code></pre> <p>Guarantee: Plaintext is never persisted to disk during encrypt/decrypt operations.</p> <p>Security properties: - Encryption happens in memory - Plaintext never written to disk - Decryption happens at load time - Keys managed separately</p>"},{"location":"security/model/#policy-enforcement","title":"Policy Enforcement","text":""},{"location":"security/model/#policy-as-code","title":"Policy-as-Code","text":"<p>Enforce security policies via JSON/YAML:</p> <pre><code># policy.yaml\nsecurity:\n  require_cloud_secrets: true\n  forbid_local_secrets: [\"DB_PASSWORD\", \"API_KEY\"]\n  require_encryption: true\n</code></pre> <p>Enforcement: - Policies checked at load time - Violations raise <code>PolicyError</code> - Can be enforced in CI/CD</p>"},{"location":"security/model/#strict-mode","title":"Strict Mode","text":"<p>Prevent accidental loading of unknown variables:</p> <pre><code>config = load_env(\n    strict=True  # Fails if unknown variables found\n)\n</code></pre> <p>Security benefit: Prevents loading of potentially malicious or misconfigured variables.</p>"},{"location":"security/model/#memory-safety","title":"Memory Safety","text":""},{"location":"security/model/#secrets-in-memory","title":"Secrets in Memory","text":"<p>Guarantee: Secrets are only in memory during application runtime.</p> <ul> <li>Secrets loaded into memory at startup</li> <li>Never persisted to disk (unless explicitly encrypted)</li> <li>Memory cleared when process exits</li> <li>No swap file exposure (OS-level concern)</li> </ul>"},{"location":"security/model/#safe-exports","title":"Safe Exports","text":"<pre><code>config = load_env()\n\n# Safe export (secrets masked)\nconfig.save(\"config.json\", format=\"json\", safe=True)\n\n# Unsafe export (secrets exposed) - NOT RECOMMENDED\nconfig.save(\"config.json\", format=\"json\", safe=False)  # \u26a0\ufe0f Dangerous\n</code></pre>"},{"location":"security/model/#logging-safety","title":"Logging Safety","text":""},{"location":"security/model/#safe-logging","title":"Safe Logging","text":"<pre><code>import logging\n\nconfig = load_env()\n\n# \u2705 SAFE: Secrets masked\nlogging.info(f\"Config: {config.safe_repr()}\")\n# Output: Config: {\"API_KEY\": \"****1234\", \"PORT\": 8080}\n\n# \u274c UNSAFE: Secrets exposed\nlogging.info(f\"API Key: {config['API_KEY']}\")  # Never do this!\n</code></pre>"},{"location":"security/model/#best-practices","title":"Best Practices","text":"<ol> <li>Always use <code>safe_repr()</code> for logging</li> <li>Never log secrets directly</li> <li>Review logs to ensure no secrets leaked</li> <li>Use structured logging with safe serialization</li> <li>Enable audit trail to track secret access</li> </ol>"},{"location":"security/model/#cicd-safety","title":"CI/CD Safety","text":""},{"location":"security/model/#no-cloud-credentials-needed","title":"No Cloud Credentials Needed","text":"<p>CI pipelines can validate configuration without cloud credentials:</p> <pre><code># CI validation (no cloud access)\nenvloader validate --ci --required API_KEY PORT\n</code></pre> <p>Security benefits: - No production credentials in CI - Fast validation (no network calls) - Deterministic behavior - Proper exit codes</p>"},{"location":"security/model/#ci-safe-mode","title":"CI-Safe Mode","text":"<pre><code># CI-safe mode disables cloud providers\nconfig = load_env(\n    providers=[],  # No cloud providers in CI\n    env=\"ci\"\n)\n</code></pre>"},{"location":"security/model/#threat-model","title":"Threat Model","text":""},{"location":"security/model/#what-env-loader-pro-protects-against","title":"What env-loader-pro Protects Against","text":"<p>\u2705 Secret leakage in logs - Automatic masking \u2705 Accidental secret commits - Encrypted configs \u2705 Unauthorized configuration - Strict mode \u2705 Configuration drift - Audit trail \u2705 Cloud provider failures - Failure policies</p>"},{"location":"security/model/#what-env-loader-pro-does-not-protect-against","title":"What env-loader-pro Does NOT Protect Against","text":"<p>\u274c Memory dumps - OS-level concern \u274c Swap file exposure - OS-level concern \u274c Process inspection - OS-level concern \u274c Network interception - Transport-level concern \u274c Cloud provider breaches - Provider-level concern</p> <p>Rationale: env-loader-pro focuses on application-level security. OS-level and transport-level security are separate concerns.</p>"},{"location":"security/model/#compliance","title":"Compliance","text":""},{"location":"security/model/#soc-2","title":"SOC 2","text":"<ul> <li>\u2705 Audit trail - Complete provenance tracking</li> <li>\u2705 Access control - Policy enforcement</li> <li>\u2705 Encryption - Encrypted config support</li> <li>\u2705 Logging - Safe logging practices</li> </ul>"},{"location":"security/model/#hipaa","title":"HIPAA","text":"<ul> <li>\u2705 Secret masking - No secrets in logs</li> <li>\u2705 Audit trail - Complete access tracking</li> <li>\u2705 Encryption - Encrypted config support</li> </ul>"},{"location":"security/model/#gdpr","title":"GDPR","text":"<ul> <li>\u2705 Data minimization - Only load what's needed</li> <li>\u2705 Audit trail - Track data access</li> <li>\u2705 Encryption - Encrypted config support</li> </ul>"},{"location":"security/model/#security-best-practices","title":"Security Best Practices","text":""},{"location":"security/model/#1-use-cloud-providers-for-secrets","title":"1. Use Cloud Providers for Secrets","text":"<pre><code># \u2705 GOOD: Secrets from cloud\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}  # Fail if unavailable\n)\n\n# \u274c BAD: Secrets in .env files\n# .env: API_KEY=secret123  # Don't do this!\n</code></pre>"},{"location":"security/model/#2-enable-audit-trail","title":"2. Enable Audit Trail","text":"<pre><code># \u2705 GOOD: Track secret access\nconfig, audit = load_env(audit=True)\n\n# \u274c BAD: No audit trail\nconfig = load_env()  # No tracking\n</code></pre>"},{"location":"security/model/#3-use-strict-mode","title":"3. Use Strict Mode","text":"<pre><code># \u2705 GOOD: Prevent unknown variables\nconfig = load_env(strict=True)\n\n# \u274c BAD: Allow unknown variables\nconfig = load_env(strict=False)  # Might load malicious config\n</code></pre>"},{"location":"security/model/#4-encrypt-sensitive-configs","title":"4. Encrypt Sensitive Configs","text":"<pre><code># \u2705 GOOD: Encrypted configs\nenvloader encrypt .env --method age\n\n# \u274c BAD: Plaintext configs\n# .env: API_KEY=secret123  # Plaintext on disk\n</code></pre>"},{"location":"security/model/#5-use-ci-safe-validation","title":"5. Use CI-Safe Validation","text":"<pre><code># \u2705 GOOD: CI validation without credentials\nenvloader validate --ci --required API_KEY\n\n# \u274c BAD: CI with cloud credentials\nenvloader validate --required API_KEY  # Needs cloud access\n</code></pre>"},{"location":"security/model/#related-topics","title":"Related Topics","text":"<ul> <li>Secret Masking - Detailed masking behavior</li> <li>Encrypted Files - Encryption lifecycle</li> <li>CI/CD Safety - CI/CD security</li> <li>Audit Trail - Audit trail details</li> </ul>"}]}