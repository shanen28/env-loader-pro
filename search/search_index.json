{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"env-loader-pro","text":"<p>Enterprise-grade typed, validated, and secure environment variable loader for Python with automatic type casting, validation, secret masking, cloud secrets integration, and full observability.</p>"},{"location":"#what-problem-does-this-solve","title":"\ud83c\udfaf What Problem Does This Solve?","text":"<p>Traditional <code>.env</code> loaders are basic and unsafe. env-loader-pro provides:</p> <ul> <li>Type safety - Automatic casting to int, bool, list, etc.</li> <li>Cloud secrets - Azure Key Vault, AWS Secrets Manager integration</li> <li>Audit trail - Complete provenance tracking for compliance</li> <li>Policy enforcement - Policy-as-code for configuration governance</li> <li>CI/CD safe - All commands work without cloud credentials</li> <li>Secret security - Automatic masking, never logs secrets</li> </ul>"},{"location":"#quick-start","title":"\ud83d\ude80 Quick Start","text":"<pre><code>pip install env-loader-pro\n</code></pre> <pre><code>from env_loader_pro import load_env\n\nconfig = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int, \"DEBUG\": bool},\n    defaults={\"PORT\": 8080}\n)\n\nprint(config[\"PORT\"])  # 8080 (int)\nprint(config[\"DEBUG\"])  # True (bool)\n</code></pre>"},{"location":"#key-features","title":"\u2728 Key Features","text":"<ul> <li> <p>:material-shield-check:{ .lg .middle } Security First</p> <p>Automatic secret masking, audit trail, policy enforcement, encrypted file support</p> <p>:octicons-arrow-right-24: Security Model</p> </li> <li> <p>:material-cloud:{ .lg .middle } Cloud Secrets</p> <p>Azure Key Vault, AWS Secrets Manager, AWS SSM Parameter Store integration</p> <p>:octicons-arrow-right-24: Providers</p> </li> <li> <p>:material-file-document-multiple:{ .lg .middle } Audit Trail</p> <p>Complete provenance tracking for compliance and debugging</p> <p>:octicons-arrow-right-24: Audit System</p> </li> <li> <p>:material-code-json:{ .lg .middle } Policy-as-Code</p> <p>JSON/YAML policy files for configuration governance</p> <p>:octicons-arrow-right-24: Policy Guide</p> </li> <li> <p>:material-git:{ .lg .middle } CI/CD Safe</p> <p>All commands work without cloud credentials, perfect for CI pipelines</p> <p>:octicons-arrow-right-24: CI/CD Guide</p> </li> <li> <p>:material-speedometer:{ .lg .middle } Performance</p> <p>Caching, circuit breakers, performance monitoring with SLAs</p> <p>:octicons-arrow-right-24: Performance</p> </li> </ul>"},{"location":"#configuration-precedence","title":"\ud83d\udcca Configuration Precedence","text":"<p>Deterministic priority order (highest to lowest):</p> <ol> <li>Cloud providers (Azure Key Vault, AWS Secrets Manager)</li> <li>System environment variables</li> <li>Docker/K8s mounted secrets</li> <li><code>.env.{env}</code> (environment-specific)</li> <li>Base <code>.env</code> file</li> <li>Schema defaults</li> </ol> <p>See Configuration Precedence for details.</p>"},{"location":"#documentation","title":"\ud83d\udcda Documentation","text":"<ul> <li>Getting Started - Installation and quick start</li> <li>Core Concepts - How it works</li> <li>Providers - Cloud secrets integration</li> <li>Enterprise Features - Audit, policies, monitoring</li> <li>Security - Security model and guarantees</li> <li>Architecture - Technical design</li> <li>API Reference - Complete API documentation</li> </ul>"},{"location":"#security-guarantees","title":"\ud83d\udd12 Security Guarantees","text":"<ul> <li>\u2705 No secrets in logs - Automatic masking</li> <li>\u2705 Audit trail - Complete provenance tracking</li> <li>\u2705 Policy enforcement - Require/forbid variables</li> <li>\u2705 Secret change detection - Prevent accidental exposure</li> <li>\u2705 CI/CD safe - No cloud access required</li> </ul>"},{"location":"#cli-tool","title":"\ud83d\udee0\ufe0f CLI Tool","text":"<pre><code># Validate configuration\nenvloader validate --ci --required API_KEY PORT\n\n# Show audit trail\nenvloader audit --json\n\n# Explain precedence\nenvloader explain\n\n# Configuration diff\nenvloader diff --ci --deny-secret-changes\n</code></pre>"},{"location":"#installation","title":"\ud83d\udce6 Installation","text":"<pre><code>pip install env-loader-pro\n</code></pre>"},{"location":"#optional-dependencies","title":"Optional Dependencies","text":"<pre><code># For Azure Key Vault\npip install env-loader-pro[azure]\n\n# For AWS Secrets Manager\npip install env-loader-pro[aws]\n\n# For Pydantic schema support\npip install env-loader-pro[pydantic]\n\n# For everything\npip install env-loader-pro[all]\n</code></pre>"},{"location":"#contributing","title":"\ud83e\udd1d Contributing","text":"<p>Contributions welcome! See Contributing Guide for details.</p>"},{"location":"#license","title":"\ud83d\udcdd License","text":"<p>Apache License 2.0 - See LICENSE file for details.</p>"},{"location":"#links","title":"\ud83d\udd17 Links","text":"<ul> <li>GitHub: shanen28/env-loader-pro</li> <li>PyPI: env-loader-pro</li> <li>Issues: GitHub Issues</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing! This document provides guidelines for contributing to the project.</p>"},{"location":"contributing/#getting-started","title":"Getting Started","text":""},{"location":"contributing/#development-setup","title":"Development Setup","text":"<pre><code># Clone the repository\ngit clone https://github.com/shanen28/env-loader-pro.git\ncd env-loader-pro\n\n# Install in development mode\npip install -e \".[test,all]\"\n\n# Run tests\npytest tests/ -v\n</code></pre>"},{"location":"contributing/#project-structure","title":"Project Structure","text":"<pre><code>env_loader_pro/\n\u251c\u2500\u2500 core/           # Core functionality\n\u251c\u2500\u2500 providers/      # Configuration providers\n\u251c\u2500\u2500 crypto/         # Encryption support\n\u251c\u2500\u2500 exporters/      # Configuration exporters\n\u2514\u2500\u2500 utils/          # Utilities\n\ntests/              # Test suite\n</code></pre>"},{"location":"contributing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest tests/ -v\n\n# Run specific test file\npytest tests/test_loader.py -v\n\n# Run with coverage\npytest tests/ --cov=src/env_loader_pro --cov-report=html\n</code></pre>"},{"location":"contributing/#coding-standards","title":"Coding Standards","text":""},{"location":"contributing/#type-hints","title":"Type Hints","text":"<p>All functions must have type hints:</p> <pre><code>def load_env(\n    env: Optional[str] = None,\n    path: str = \".env\",\n    strict: bool = False,\n) -&gt; Dict[str, Any]:\n    ...\n</code></pre>"},{"location":"contributing/#docstrings","title":"Docstrings","text":"<p>Use Google-style docstrings:</p> <pre><code>def my_function(param: str) -&gt; int:\n    \"\"\"Brief description.\n\n    Args:\n        param: Parameter description\n\n    Returns:\n        Return value description\n\n    Raises:\n        ValueError: When parameter is invalid\n    \"\"\"\n    ...\n</code></pre>"},{"location":"contributing/#error-handling","title":"Error Handling","text":"<p>Use custom exceptions from <code>exceptions.py</code>:</p> <pre><code>from env_loader_pro.exceptions import EnvLoaderError, ValidationError\n\nif not value:\n    raise ValidationError(f\"Invalid value: {value}\")\n</code></pre>"},{"location":"contributing/#secret-safety","title":"Secret Safety","text":"<p>Never: - Log secret values - Include secrets in error messages - Store secrets in plaintext - Commit secrets to git</p> <p>Always: - Use <code>safe_repr()</code> for logging - Mask secrets in outputs - Use audit trail for tracking</p>"},{"location":"contributing/#adding-a-new-provider","title":"Adding a New Provider","text":""},{"location":"contributing/#1-create-provider-class","title":"1. Create Provider Class","text":"<pre><code>from env_loader_pro.providers import BaseProvider\nfrom env_loader_pro.exceptions import ProviderError\n\nclass MyProvider(BaseProvider):\n    def __init__(self, config: str):\n        self.config = config\n\n    def get(self, key: str) -&gt; Optional[str]:\n        \"\"\"Get single value.\"\"\"\n        try:\n            return fetch_from_source(key)\n        except Exception as e:\n            raise ProviderError(f\"Failed to get {key}: {e}\")\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        \"\"\"Get multiple values.\"\"\"\n        result = {}\n        for key in keys:\n            value = self.get(key)\n            if value:\n                result[key] = value\n        return result\n\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if provider is available.\"\"\"\n        return check_availability()\n</code></pre>"},{"location":"contributing/#2-register-provider","title":"2. Register Provider","text":"<p>Add to <code>src/env_loader_pro/providers/__init__.py</code>:</p> <pre><code>try:\n    from .my_provider import MyProvider\nexcept ImportError:\n    MyProvider = None\n</code></pre>"},{"location":"contributing/#3-add-tests","title":"3. Add Tests","text":"<p>Create <code>tests/test_my_provider.py</code>:</p> <pre><code>def test_my_provider():\n    provider = MyProvider(config=\"test\")\n    assert provider.is_available()\n    value = provider.get(\"TEST_KEY\")\n    assert value is not None\n</code></pre>"},{"location":"contributing/#4-update-documentation","title":"4. Update Documentation","text":"<p>Add provider to documentation.</p>"},{"location":"contributing/#reporting-bugs","title":"Reporting Bugs","text":""},{"location":"contributing/#before-reporting","title":"Before Reporting","text":"<ol> <li>Check existing issues</li> <li>Verify bug with latest version</li> <li>Test with minimal example</li> </ol>"},{"location":"contributing/#bug-report-template","title":"Bug Report Template","text":"<p><pre><code>**Description**\nClear description of the bug\n\n**Steps to Reproduce**\n1. Step one\n2. Step two\n3. See error\n\n**Expected Behavior**\nWhat should happen\n\n**Actual Behavior**\nWhat actually happens\n\n**Environment**\n- Python version\n- OS\n- env-loader-pro version\n\n**Minimal Example**\n```python\n# Minimal code to reproduce\n</code></pre> <pre><code>## Feature Requests\n\n### Before Requesting\n\n1. Check existing issues\n2. Verify feature doesn't exist\n3. Consider use case\n\n### Feature Request Template\n\n```markdown\n**Use Case**\nWhy is this feature needed?\n\n**Proposed Solution**\nHow should it work?\n\n**Alternatives**\nOther approaches considered\n\n**Additional Context**\nAny other relevant information\n</code></pre></p>"},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":""},{"location":"contributing/#before-submitting","title":"Before Submitting","text":"<ol> <li>Update tests - Add tests for new features</li> <li>Update docs - Update documentation if needed</li> <li>Run tests - Ensure all tests pass</li> <li>Check linting - No linter errors</li> </ol>"},{"location":"contributing/#pr-checklist","title":"PR Checklist","text":"<ul> <li>[ ] Tests added/updated</li> <li>[ ] Documentation updated</li> <li>[ ] Type hints added</li> <li>[ ] Docstrings added</li> <li>[ ] No secrets in code</li> <li>[ ] Backward compatible (if applicable)</li> <li>[ ] All tests passing</li> </ul>"},{"location":"contributing/#pr-title-format","title":"PR Title Format","text":"<pre><code>feat: Add new provider for X\nfix: Resolve issue with Y\ndocs: Update documentation for Z\n</code></pre>"},{"location":"contributing/#security","title":"Security","text":""},{"location":"contributing/#security-issues","title":"Security Issues","text":"<p>Do NOT open public issues for security vulnerabilities. Email: shanen.j.thomas@gmail.com</p>"},{"location":"contributing/#security-checklist","title":"Security Checklist","text":"<ul> <li>[ ] No secrets in code</li> <li>[ ] No secrets in tests</li> <li>[ ] Proper error handling</li> <li>[ ] Input validation</li> <li>[ ] Secret masking in place</li> </ul>"},{"location":"contributing/#development-priorities","title":"Development Priorities","text":"<ol> <li>Security - Never compromise on security</li> <li>Backward Compatibility - Don't break existing code</li> <li>Performance - Maintain performance guarantees</li> <li>Documentation - Keep docs accurate</li> <li>Testing - Maintain test coverage</li> </ol>"},{"location":"contributing/#questions","title":"Questions?","text":"<ul> <li>Open an issue for questions</li> <li>Check existing documentation</li> <li>Review code examples</li> </ul> <p>Thank you for contributing! \ud83c\udf89</p>"},{"location":"api/exporters/","title":"Exporters API","text":"<p>Export configuration to various formats.</p>"},{"location":"api/exporters/#export-to-json","title":"Export to JSON","text":"<pre><code>config = load_env()\nconfig.save(\"config.json\", format=\"json\")\n</code></pre>"},{"location":"api/exporters/#export-to-yaml","title":"Export to YAML","text":"<pre><code>config = load_env()\nconfig.save(\"config.yaml\", format=\"yaml\")\n</code></pre>"},{"location":"api/exporters/#export-to-kubernetes","title":"Export to Kubernetes","text":"<pre><code>from env_loader_pro.exporters import export_kubernetes\n\nconfig = load_env()\nexport_kubernetes(config, output_path=\"k8s-config\")\n</code></pre>"},{"location":"api/exporters/#export-to-terraform","title":"Export to Terraform","text":"<pre><code>from env_loader_pro.exporters import export_tfvars\n\nconfig = load_env()\nexport_tfvars(config, output_path=\"terraform.tfvars\")\n</code></pre>"},{"location":"api/exporters/#generate-envexample","title":"Generate .env.example","text":"<pre><code>from env_loader_pro.exporters import generate_env_example\n\ngenerate_env_example(\n    required=[\"API_KEY\", \"PORT\"],\n    optional=[\"DEBUG\"],\n    output_path=\".env.example\"\n)\n</code></pre>"},{"location":"api/exporters/#related-topics","title":"Related Topics","text":"<ul> <li>CLI Commands</li> </ul>"},{"location":"api/load-env/","title":"load_env","text":"<p>Main function for loading environment configuration.</p>"},{"location":"api/load-env/#signature","title":"Signature","text":"<pre><code>def load_env(\n    env: Optional[str] = None,\n    path: str = \".env\",\n    strict: bool = False,\n    trace: bool = False,\n    providers: Optional[List[BaseProvider]] = None,\n    cache: bool = True,\n    cache_ttl: int = 3600,\n    watch: bool = False,\n    audit: bool = False,\n    failure_policy: Optional[Dict[str, Union[str, FailurePolicy]]] = None,\n    performance_sla: Optional[PerformanceSLA] = None,\n    policy_file: Optional[str] = None,\n    required: Optional[List[str]] = None,\n    types: Optional[Dict[str, Type]] = None,\n    defaults: Optional[Dict[str, Any]] = None,\n    rules: Optional[Dict[str, Callable]] = None,\n    priority: str = \"system\",\n    encrypted: bool = False,\n    encryption_key: Optional[str] = None,\n) -&gt; Union[ConfigDict, Tuple[ConfigDict, ConfigAudit]]:\n</code></pre>"},{"location":"api/load-env/#parameters","title":"Parameters","text":"<ul> <li><code>env</code> - Environment name (e.g., \"prod\", \"dev\")</li> <li><code>path</code> - Path to .env file</li> <li><code>strict</code> - Enable strict mode</li> <li><code>trace</code> - Enable origin tracking</li> <li><code>providers</code> - List of configuration providers</li> <li><code>cache</code> - Enable caching</li> <li><code>cache_ttl</code> - Cache TTL in seconds</li> <li><code>watch</code> - Enable file watching</li> <li><code>audit</code> - Enable audit trail</li> <li><code>failure_policy</code> - Per-provider failure policies</li> <li><code>performance_sla</code> - Performance SLA</li> <li><code>policy_file</code> - Policy-as-code file path</li> <li><code>required</code> - Required variables</li> <li><code>types</code> - Type casting</li> <li><code>defaults</code> - Default values</li> <li><code>rules</code> - Validation rules</li> <li><code>priority</code> - Priority mode</li> <li><code>encrypted</code> - Load encrypted file</li> <li><code>encryption_key</code> - Encryption key path</li> </ul>"},{"location":"api/load-env/#returns","title":"Returns","text":"<ul> <li><code>ConfigDict</code> - Configuration dictionary</li> <li><code>Tuple[ConfigDict, ConfigAudit]</code> - If <code>audit=True</code></li> </ul>"},{"location":"api/load-env/#examples","title":"Examples","text":""},{"location":"api/load-env/#basic","title":"Basic","text":"<pre><code>config = load_env()\n</code></pre>"},{"location":"api/load-env/#with-types","title":"With Types","text":"<pre><code>config = load_env(types={\"PORT\": int, \"DEBUG\": bool})\n</code></pre>"},{"location":"api/load-env/#with-audit","title":"With Audit","text":"<pre><code>config, audit = load_env(audit=True)\n</code></pre>"},{"location":"api/load-env/#related-topics","title":"Related Topics","text":"<ul> <li>Getting Started</li> <li>Core Concepts</li> </ul>"},{"location":"api/load-with-schema/","title":"load_with_schema","text":"<p>Load configuration with Pydantic or dataclass schema validation.</p>"},{"location":"api/load-with-schema/#signature","title":"Signature","text":"<pre><code>def load_with_schema(\n    schema: Union[Type[BaseModel], Type],\n    env: Optional[str] = None,\n    path: str = \".env\",\n    strict: bool = False,\n    trace: bool = False,\n    providers: Optional[List[BaseProvider]] = None,\n    cache: bool = True,\n    cache_ttl: int = 3600,\n    audit: bool = False,\n    failure_policy: Optional[Dict[str, Union[str, FailurePolicy]]] = None,\n    policy_file: Optional[str] = None,\n) -&gt; Union[BaseModel, Any]:\n</code></pre>"},{"location":"api/load-with-schema/#parameters","title":"Parameters","text":"<ul> <li><code>schema</code> - Pydantic model or dataclass</li> <li><code>env</code> - Environment name</li> <li><code>path</code> - Path to .env file</li> <li><code>strict</code> - Enable strict mode</li> <li><code>trace</code> - Enable origin tracking</li> <li><code>providers</code> - List of providers</li> <li><code>cache</code> - Enable caching</li> <li><code>cache_ttl</code> - Cache TTL</li> <li><code>audit</code> - Enable audit trail</li> <li><code>failure_policy</code> - Failure policies</li> <li><code>policy_file</code> - Policy file</li> </ul>"},{"location":"api/load-with-schema/#returns","title":"Returns","text":"<ul> <li>Schema instance with loaded values</li> </ul>"},{"location":"api/load-with-schema/#examples","title":"Examples","text":""},{"location":"api/load-with-schema/#pydantic","title":"Pydantic","text":"<pre><code>from pydantic import BaseModel\n\nclass Config(BaseModel):\n    port: int = 8080\n    debug: bool = False\n    api_key: str\n\nconfig = load_with_schema(Config)\n</code></pre>"},{"location":"api/load-with-schema/#dataclass","title":"Dataclass","text":"<pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Config:\n    port: int = 8080\n    debug: bool = False\n    api_key: str\n\nconfig = load_with_schema(Config)\n</code></pre>"},{"location":"api/load-with-schema/#related-topics","title":"Related Topics","text":"<ul> <li>Schema Support</li> </ul>"},{"location":"api/providers/","title":"Providers API","text":"<p>Provider classes and interfaces.</p>"},{"location":"api/providers/#baseprovider","title":"BaseProvider","text":"<p>Abstract base class for all providers.</p> <pre><code>from env_loader_pro.providers import BaseProvider\n\nclass CustomProvider(BaseProvider):\n    def get(self, key: str) -&gt; Optional[str]:\n        pass\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        pass\n</code></pre>"},{"location":"api/providers/#azurekeyvaultprovider","title":"AzureKeyVaultProvider","text":"<pre><code>from env_loader_pro.providers import AzureKeyVaultProvider\n\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\",\n    credential=None,  # Uses DefaultAzureCredential\n    cache=True,\n    cache_ttl=3600\n)\n</code></pre>"},{"location":"api/providers/#awssecretsmanagerprovider","title":"AWSSecretsManagerProvider","text":"<pre><code>from env_loader_pro.providers import AWSSecretsManagerProvider\n\nprovider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/prod\",\n    region=\"us-east-1\",\n    cache=True,\n    cache_ttl=3600\n)\n</code></pre>"},{"location":"api/providers/#awsssmprovider","title":"AWSSSMProvider","text":"<pre><code>from env_loader_pro.providers import AWSSSMProvider\n\nprovider = AWSSSMProvider(\n    prefix=\"/myapp/prod/\",\n    region=\"us-east-1\"\n)\n</code></pre>"},{"location":"api/providers/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> </ul>"},{"location":"architecture/overview/","title":"Architecture Overview","text":"<p>High-level architecture and design principles.</p>"},{"location":"architecture/overview/#directory-structure","title":"Directory Structure","text":"<pre><code>env_loader_pro/\n\u251c\u2500\u2500 core/                    # Core functionality\n\u2502   \u251c\u2500\u2500 loader.py           # Unified load_env API\n\u2502   \u251c\u2500\u2500 merger.py           # Source priority resolution\n\u2502   \u251c\u2500\u2500 schema.py           # Enhanced schema validation\n\u2502   \u251c\u2500\u2500 tracing.py          # Origin tracking &amp; observability\n\u2502   \u251c\u2500\u2500 cache.py            # TTL-based caching\n\u2502   \u251c\u2500\u2500 audit.py            # Audit trail system\n\u2502   \u251c\u2500\u2500 policy.py           # Failure policy control\n\u2502   \u251c\u2500\u2500 policy_code.py     # Policy-as-code enforcement\n\u2502   \u251c\u2500\u2500 diff.py             # Configuration drift detection\n\u2502   \u2514\u2500\u2500 performance.py      # Performance monitoring\n\u2502\n\u251c\u2500\u2500 providers/              # Configuration source providers\n\u2502   \u251c\u2500\u2500 base.py             # Abstract provider interface\n\u2502   \u251c\u2500\u2500 azure.py            # Azure Key Vault\n\u2502   \u251c\u2500\u2500 aws.py              # AWS Secrets Manager &amp; SSM\n\u2502   \u251c\u2500\u2500 docker.py           # Docker/K8s secrets\n\u2502   \u2514\u2500\u2500 filesystem.py       # Filesystem-mounted configs\n\u2502\n\u251c\u2500\u2500 crypto/                 # Encryption support\n\u2502   \u251c\u2500\u2500 decryptor.py        # Generic decrypt interface\n\u2502   \u251c\u2500\u2500 age.py              # age encryption\n\u2502   \u251c\u2500\u2500 gpg.py              # GPG encryption\n\u2502   \u2514\u2500\u2500 lifecycle.py        # Encrypted file lifecycle\n\u2502\n\u251c\u2500\u2500 watch/                  # Live reloading\n\u2502   \u2514\u2500\u2500 reloader.py         # File watching &amp; reload\n\u2502\n\u251c\u2500\u2500 exporters/              # Configuration exporters\n\u2502   \u251c\u2500\u2500 env_example.py      # Generate .env.example\n\u2502   \u251c\u2500\u2500 kubernetes.py       # K8s ConfigMap/Secret YAML\n\u2502   \u2514\u2500\u2500 terraform.py        # Terraform .tfvars\n\u2502\n\u2514\u2500\u2500 utils/                  # Utility modules\n    \u251c\u2500\u2500 masking.py          # Secret masking\n    \u251c\u2500\u2500 autodetect.py       # Runtime environment detection\n    \u2514\u2500\u2500 logging.py           # Structured logging\n</code></pre>"},{"location":"architecture/overview/#core-principles","title":"Core Principles","text":""},{"location":"architecture/overview/#1-security-first","title":"1. Security First","text":"<ul> <li>Automatic secret masking in logs and safe_repr()</li> <li>No secrets in plaintext unless explicitly requested</li> <li>Cloud providers override local config by default (secrets win)</li> <li>Full audit trail for compliance</li> </ul>"},{"location":"architecture/overview/#2-cloud-agnostic-core","title":"2. Cloud-Agnostic Core","text":"<ul> <li>Azure and AWS integrations are optional plugins</li> <li>Core library works without cloud SDKs</li> <li>Graceful degradation if providers unavailable</li> </ul>"},{"location":"architecture/overview/#3-deterministic-configuration-precedence","title":"3. Deterministic Configuration Precedence","text":"<p>Priority Order (highest to lowest): 1. Cloud providers (Azure Key Vault, AWS Secrets Manager) 2. System environment variables 3. Docker/K8s mounted secrets 4. .env.{env} (environment-specific) 5. Base .env file 6. Schema defaults</p>"},{"location":"architecture/overview/#4-enterprise-defaults","title":"4. Enterprise Defaults","text":"<ul> <li>Validation enabled by default</li> <li>Tracing available for observability</li> <li>Caching enabled for performance</li> <li>Strict mode available for production</li> </ul>"},{"location":"architecture/overview/#load-flow","title":"Load Flow","text":"<pre><code>1. Load from providers (Azure, AWS) \u2192 highest priority\n2. Merge system environment variables\n3. Merge Docker/K8s mounted secrets\n4. Load .env.{env} (environment-specific)\n5. Load base .env file\n6. Apply schema defaults \u2192 lowest priority\n7. Type casting\n8. Validation (required, rules, policy)\n9. Return ConfigDict with metadata\n</code></pre>"},{"location":"architecture/overview/#related-topics","title":"Related Topics","text":"<ul> <li>Design Principles</li> <li>Provider System</li> </ul>"},{"location":"architecture/principles/","title":"Design Principles","text":"<p>Core design principles and philosophy.</p>"},{"location":"architecture/principles/#security-first","title":"Security First","text":"<ul> <li>Automatic secret masking in logs and safe_repr()</li> <li>No secrets in plaintext unless explicitly requested</li> <li>Cloud providers override local config by default (secrets win)</li> <li>Full audit trail for compliance</li> </ul>"},{"location":"architecture/principles/#cloud-agnostic-core","title":"Cloud-Agnostic Core","text":"<ul> <li>Azure and AWS integrations are optional plugins</li> <li>Core library works without cloud SDKs</li> <li>Graceful degradation if providers unavailable</li> </ul>"},{"location":"architecture/principles/#deterministic-precedence","title":"Deterministic Precedence","text":"<p>Configuration precedence is fixed and documented - no ambiguity.</p>"},{"location":"architecture/principles/#enterprise-defaults","title":"Enterprise Defaults","text":"<ul> <li>Validation enabled by default</li> <li>Tracing available for observability</li> <li>Caching enabled for performance</li> <li>Strict mode available for production</li> </ul>"},{"location":"architecture/principles/#backward-compatibility","title":"Backward Compatibility","text":"<ul> <li>Old API is fully supported</li> <li>New features are additive</li> <li>No breaking changes</li> </ul>"},{"location":"architecture/principles/#performance","title":"Performance","text":"<ul> <li>Caching to reduce API calls</li> <li>Circuit breakers for resilience</li> <li>Performance monitoring with SLAs</li> </ul>"},{"location":"architecture/principles/#related-topics","title":"Related Topics","text":"<ul> <li>Architecture Overview</li> <li>Provider System</li> </ul>"},{"location":"architecture/providers/","title":"Provider System","text":"<p>How the provider plugin system works.</p>"},{"location":"architecture/providers/#provider-interface","title":"Provider Interface","text":"<p>All providers inherit from <code>BaseProvider</code>:</p> <pre><code>from env_loader_pro.providers import BaseProvider\n\nclass CustomProvider(BaseProvider):\n    def get(self, key: str) -&gt; Optional[str]:\n        \"\"\"Get single value.\"\"\"\n        pass\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        \"\"\"Get multiple values.\"\"\"\n        pass\n\n    def get_all(self) -&gt; Dict[str, str]:\n        \"\"\"Get all values (optional, for efficiency).\"\"\"\n        pass\n</code></pre>"},{"location":"architecture/providers/#provider-capabilities","title":"Provider Capabilities","text":"<p>Each provider exposes capabilities:</p> <pre><code>provider = AzureKeyVaultProvider(...)\ncapabilities = provider.capabilities\n\n# {\n#   \"batch\": True,        # Supports get_many\n#   \"cacheable\": True,    # Values can be cached\n#   \"rotatable\": False,   # Supports secret rotation\n#   \"watchable\": False,   # Supports watching\n#   \"metadata\": True      # Provides secret metadata\n# }\n</code></pre>"},{"location":"architecture/providers/#provider-priority","title":"Provider Priority","text":"<p>Providers have the highest priority in configuration precedence.</p>"},{"location":"architecture/providers/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Custom Providers</li> </ul>"},{"location":"cli/commands/","title":"CLI Commands","text":"<p>Complete reference for the <code>envloader</code> command-line tool.</p>"},{"location":"cli/commands/#commands","title":"Commands","text":""},{"location":"cli/commands/#show","title":"show","text":"<p>Display environment variables.</p> <pre><code>envloader show [--env ENV] [--path PATH]\n</code></pre> <p>Options: - <code>--env ENV</code> - Environment name (e.g., prod, dev) - <code>--path PATH</code> - Path to .env file (default: .env)</p> <p>Example: <pre><code>envloader show --env prod\n</code></pre></p>"},{"location":"cli/commands/#validate","title":"validate","text":"<p>Validate configuration.</p> <pre><code>envloader validate [--env ENV] [--path PATH] [--required VAR ...] [--ci]\n</code></pre> <p>Options: - <code>--env ENV</code> - Environment name - <code>--path PATH</code> - Path to .env file - <code>--required VAR</code> - Required variables (can specify multiple) - <code>--ci</code> - CI-safe mode (no cloud access)</p> <p>Example: <pre><code>envloader validate --ci --required API_KEY PORT\n</code></pre></p>"},{"location":"cli/commands/#audit","title":"audit","text":"<p>Show audit trail.</p> <pre><code>envloader audit [--env ENV] [--path PATH] [--json] [--ci]\n</code></pre> <p>Options: - <code>--env ENV</code> - Environment name - <code>--path PATH</code> - Path to .env file - <code>--json</code> - Output as JSON - <code>--ci</code> - CI-safe mode</p> <p>Example: <pre><code>envloader audit --json\n</code></pre></p>"},{"location":"cli/commands/#diff","title":"diff","text":"<p>Compare configurations.</p> <pre><code>envloader diff [--env ENV] [--path PATH] [--baseline PATH] [--deny-secret-changes] [--deny-added-secrets] [--ci]\n</code></pre> <p>Options: - <code>--env ENV</code> - Environment name - <code>--path PATH</code> - Path to .env file - <code>--baseline PATH</code> - Baseline configuration file - <code>--deny-secret-changes</code> - Fail if secrets changed - <code>--deny-added-secrets</code> - Fail if new secrets added - <code>--ci</code> - CI-safe mode</p> <p>Example: <pre><code>envloader diff --ci --deny-secret-changes --baseline .env.baseline\n</code></pre></p>"},{"location":"cli/commands/#explain","title":"explain","text":"<p>Explain configuration precedence.</p> <pre><code>envloader explain [--env ENV] [--path PATH] [--json] [--policy-file PATH]\n</code></pre> <p>Options: - <code>--env ENV</code> - Environment name - <code>--path PATH</code> - Path to .env file - <code>--json</code> - Output as JSON - <code>--policy-file PATH</code> - Policy file path</p> <p>Example: <pre><code>envloader explain\n</code></pre></p>"},{"location":"cli/commands/#export","title":"export","text":"<p>Export configuration.</p> <pre><code>envloader export [--env ENV] [--path PATH] [--output PATH] [--format FORMAT]\n</code></pre> <p>Options: - <code>--env ENV</code> - Environment name - <code>--path PATH</code> - Path to .env file - <code>--output PATH</code> - Output file path - <code>--format FORMAT</code> - Output format (json, yaml)</p> <p>Example: <pre><code>envloader export --output config.json --format json\n</code></pre></p>"},{"location":"cli/commands/#generate-example","title":"generate-example","text":"<p>Generate .env.example file.</p> <pre><code>envloader generate-example [--required VAR ...] [--optional VAR ...] [--output PATH]\n</code></pre> <p>Options: - <code>--required VAR</code> - Required variables - <code>--optional VAR</code> - Optional variables - <code>--output PATH</code> - Output file path</p> <p>Example: <pre><code>envloader generate-example --required API_KEY PORT --optional DEBUG\n</code></pre></p>"},{"location":"cli/commands/#encrypt","title":"encrypt","text":"<p>Encrypt .env file.</p> <pre><code>envloader encrypt INPUT [OUTPUT] [--key PATH] [--method METHOD]\n</code></pre> <p>Options: - <code>INPUT</code> - Input file path - <code>OUTPUT</code> - Output file path (optional) - <code>--key PATH</code> - Encryption key path - <code>--method METHOD</code> - Encryption method (age, gpg, openssl)</p> <p>Example: <pre><code>envloader encrypt .env --method age\n</code></pre></p>"},{"location":"cli/commands/#decrypt","title":"decrypt","text":"<p>Decrypt encrypted .env file.</p> <pre><code>envloader decrypt INPUT [OUTPUT] [--key PATH] [--method METHOD]\n</code></pre> <p>Options: - <code>INPUT</code> - Input file path - <code>OUTPUT</code> - Output file path (optional) - <code>--key PATH</code> - Decryption key path - <code>--method METHOD</code> - Decryption method (age, gpg, openssl)</p> <p>Example: <pre><code>envloader decrypt .env.enc\n</code></pre></p>"},{"location":"cli/commands/#exit-codes","title":"Exit Codes","text":"<ul> <li><code>0</code> - Success</li> <li><code>1</code> - General error</li> <li><code>2</code> - Validation error</li> <li><code>3</code> - Policy violation</li> </ul>"},{"location":"cli/commands/#related-topics","title":"Related Topics","text":"<ul> <li>CLI Examples</li> </ul>"},{"location":"cli/examples/","title":"CLI Examples","text":"<p>Common use cases and examples.</p>"},{"location":"cli/examples/#development","title":"Development","text":""},{"location":"cli/examples/#show-configuration","title":"Show Configuration","text":"<pre><code># Show current config\nenvloader show\n\n# Show production config\nenvloader show --env prod\n</code></pre>"},{"location":"cli/examples/#validate-configuration","title":"Validate Configuration","text":"<pre><code># Validate required variables\nenvloader validate --required API_KEY PORT\n\n# Validate with schema\nenvloader validate --schema config.yaml\n</code></pre>"},{"location":"cli/examples/#production","title":"Production","text":""},{"location":"cli/examples/#audit-trail","title":"Audit Trail","text":"<pre><code># Show audit trail\nenvloader audit\n\n# Export as JSON\nenvloader audit --json &gt; audit.json\n</code></pre>"},{"location":"cli/examples/#configuration-diff","title":"Configuration Diff","text":"<pre><code># Compare with baseline\nenvloader diff --baseline .env.baseline\n\n# Fail on secret changes\nenvloader diff --deny-secret-changes --baseline .env.baseline\n</code></pre>"},{"location":"cli/examples/#cicd","title":"CI/CD","text":""},{"location":"cli/examples/#validation","title":"Validation","text":"<pre><code># CI-safe validation\nenvloader validate --ci --required API_KEY PORT\n</code></pre>"},{"location":"cli/examples/#audit","title":"Audit","text":"<pre><code># CI-safe audit\nenvloader audit --ci --json &gt; audit.json\n</code></pre>"},{"location":"cli/examples/#diff","title":"Diff","text":"<pre><code># CI-safe diff\nenvloader diff --ci --deny-secret-changes --baseline .env.baseline\n</code></pre>"},{"location":"cli/examples/#encryption","title":"Encryption","text":""},{"location":"cli/examples/#encrypt","title":"Encrypt","text":"<pre><code># Encrypt .env file\nenvloader encrypt .env\n\n# Encrypt with specific method\nenvloader encrypt .env --method gpg\n</code></pre>"},{"location":"cli/examples/#decrypt","title":"Decrypt","text":"<pre><code># Decrypt .env.enc\nenvloader decrypt .env.enc\n</code></pre>"},{"location":"cli/examples/#export","title":"Export","text":""},{"location":"cli/examples/#export-to-json","title":"Export to JSON","text":"<pre><code>envloader export --output config.json --format json\n</code></pre>"},{"location":"cli/examples/#export-to-yaml","title":"Export to YAML","text":"<pre><code>envloader export --output config.yaml --format yaml\n</code></pre>"},{"location":"cli/examples/#generate-example","title":"Generate Example","text":"<pre><code># Generate .env.example\nenvloader generate-example --required API_KEY PORT --optional DEBUG\n</code></pre>"},{"location":"cli/examples/#related-topics","title":"Related Topics","text":"<ul> <li>CLI Commands</li> </ul>"},{"location":"core-concepts/precedence/","title":"Configuration Precedence","text":"<p>env-loader-pro uses a deterministic precedence order for resolving configuration values. This ensures predictable behavior across all environments.</p>"},{"location":"core-concepts/precedence/#priority-order","title":"Priority Order","text":"<p>Configuration sources are merged in the following order (highest to lowest priority):</p> <ol> <li>Cloud providers (Azure Key Vault, AWS Secrets Manager)</li> <li>System environment variables</li> <li>Docker/K8s mounted secrets</li> <li><code>.env.{env}</code> (environment-specific file)</li> <li>Base <code>.env</code> file</li> <li>Schema defaults</li> </ol> <p>Rule: Higher priority sources override lower priority ones.</p>"},{"location":"core-concepts/precedence/#visual-flow","title":"Visual Flow","text":"<pre><code>graph TD\n    A[Schema Defaults] --&gt; B[Base .env]\n    B --&gt; C[.env.prod]\n    C --&gt; D[Docker/K8s Secrets]\n    D --&gt; E[System Environment]\n    E --&gt; F[Cloud Providers]\n    F --&gt; G[Final Config]\n\n    style A fill:#e1f5ff\n    style B fill:#e1f5ff\n    style C fill:#e1f5ff\n    style D fill:#fff4e1\n    style E fill:#fff4e1\n    style F fill:#ffe1e1\n    style G fill:#e1ffe1</code></pre>"},{"location":"core-concepts/precedence/#example","title":"Example","text":""},{"location":"core-concepts/precedence/#configuration-sources","title":"Configuration Sources","text":"<pre><code># .env (base)\nPORT=8080\nDEBUG=false\n\n# .env.prod (environment-specific)\nPORT=9000\nDEBUG=false\n\n# System environment\nexport API_KEY=system-key\n\n# Azure Key Vault\nDB_PASSWORD=azure-secret-password\n</code></pre>"},{"location":"core-concepts/precedence/#result","title":"Result","text":"<pre><code>config = load_env(env=\"prod\", providers=[azure_provider])\n\n# Final values:\nconfig[\"PORT\"]          # 9000 (from .env.prod, overrides .env)\nconfig[\"DEBUG\"]         # false (from .env.prod)\nconfig[\"API_KEY\"]       # system-key (from system env)\nconfig[\"DB_PASSWORD\"]   # azure-secret-password (from Azure, highest priority)\n</code></pre>"},{"location":"core-concepts/precedence/#why-this-order","title":"Why This Order?","text":""},{"location":"core-concepts/precedence/#cloud-providers-highest-priority","title":"Cloud Providers (Highest Priority)","text":"<ul> <li>Security: Secrets should come from secure vaults</li> <li>Override: Production secrets must override local config</li> <li>Compliance: Audit trail for secret access</li> </ul>"},{"location":"core-concepts/precedence/#system-environment","title":"System Environment","text":"<ul> <li>Container-friendly: Works with Docker/Kubernetes</li> <li>CI/CD: Easy to set in pipelines</li> <li>Runtime: Can be set at runtime</li> </ul>"},{"location":"core-concepts/precedence/#dockerk8s-secrets","title":"Docker/K8s Secrets","text":"<ul> <li>Container-native: Standard container secret mounting</li> <li>Secure: Managed by orchestration platform</li> <li>Scalable: Works across pods</li> </ul>"},{"location":"core-concepts/precedence/#environment-specific-files","title":"Environment-Specific Files","text":"<ul> <li>Flexibility: Different configs per environment</li> <li>Override: Environment-specific overrides base</li> <li>Version control: Can be tracked in git (without secrets)</li> </ul>"},{"location":"core-concepts/precedence/#base-env-file","title":"Base .env File","text":"<ul> <li>Development: Local development defaults</li> <li>Documentation: Shows required variables</li> <li>Fallback: Base configuration</li> </ul>"},{"location":"core-concepts/precedence/#schema-defaults-lowest-priority","title":"Schema Defaults (Lowest Priority)","text":"<ul> <li>Last resort: Only used if not set elsewhere</li> <li>Type safety: Provides typed defaults</li> <li>Documentation: Shows expected values</li> </ul>"},{"location":"core-concepts/precedence/#cli-explanation","title":"CLI Explanation","text":"<p>Use the CLI to see precedence for your configuration:</p> <pre><code>envloader explain\n</code></pre> <p>Output: <pre><code>Resolution order:\n1. Cloud providers (Azure Key Vault, AWS Secrets Manager)\n2. System environment variables\n3. Docker/K8s mounted secrets\n4. .env.prod (environment-specific file)\n5. Base .env file\n6. Schema default values\n</code></pre></p>"},{"location":"core-concepts/precedence/#best-practices","title":"Best Practices","text":"<ol> <li>Use cloud providers for secrets in production</li> <li>Use .env files for defaults in development</li> <li>Use system env in CI/CD for pipeline-specific values</li> <li>Use schema defaults for documentation and type hints</li> <li>Enable audit trail to see where values come from</li> </ol>"},{"location":"core-concepts/precedence/#tracing-origins","title":"Tracing Origins","text":"<pre><code>config = load_env(trace=True)\n\n# Get origin of a variable\norigin = config.trace(\"API_KEY\")\n# Returns: \"azure\", \"aws\", \"system\", \"file\", etc.\n\n# Get all origins\norigins = config.get_origins()\n# {\"API_KEY\": \"azure\", \"PORT\": \"file\", ...}\n</code></pre>"},{"location":"core-concepts/precedence/#related-topics","title":"Related Topics","text":"<ul> <li>Audit Trail - Track variable provenance</li> <li>Providers - Cloud secrets integration</li> <li>Security Model - Security guarantees</li> </ul>"},{"location":"core-concepts/schema/","title":"Schema Support","text":"<p>Use Pydantic models or Python dataclasses for type-safe configuration with automatic validation.</p>"},{"location":"core-concepts/schema/#pydantic-models","title":"Pydantic Models","text":""},{"location":"core-concepts/schema/#basic-example","title":"Basic Example","text":"<pre><code>from env_loader_pro import load_with_schema\nfrom pydantic import BaseModel\n\nclass Config(BaseModel):\n    port: int\n    debug: bool\n    api_key: str\n\nconfig = load_with_schema(Config)\nprint(config.port)    # Typed access\nprint(config.debug)   # bool\nprint(config.api_key) # str\n</code></pre>"},{"location":"core-concepts/schema/#with-defaults","title":"With Defaults","text":"<pre><code>class Config(BaseModel):\n    port: int = 8080\n    debug: bool = False\n    api_key: str  # Required (no default)\n\nconfig = load_with_schema(Config)\n# port defaults to 8080 if not set\n# debug defaults to False if not set\n# api_key is required\n</code></pre>"},{"location":"core-concepts/schema/#with-validators","title":"With Validators","text":"<pre><code>from pydantic import BaseModel, validator\n\nclass Config(BaseModel):\n    port: int = 8080\n    email: str\n\n    @validator('port')\n    def validate_port(cls, v):\n        if not 1024 &lt; v &lt; 65535:\n            raise ValueError('Port must be between 1024 and 65535')\n        return v\n\nconfig = load_with_schema(Config)\n</code></pre>"},{"location":"core-concepts/schema/#dataclasses","title":"Dataclasses","text":""},{"location":"core-concepts/schema/#basic-example_1","title":"Basic Example","text":"<pre><code>from env_loader_pro import load_with_schema\nfrom dataclasses import dataclass\n\n@dataclass\nclass Config:\n    port: int\n    debug: bool\n    api_key: str\n\nconfig = load_with_schema(Config)\nprint(config.port)  # Typed access\n</code></pre>"},{"location":"core-concepts/schema/#with-defaults_1","title":"With Defaults","text":"<pre><code>@dataclass\nclass Config:\n    port: int = 8080\n    debug: bool = False\n    api_key: str = \"\"  # Optional with default\n\nconfig = load_with_schema(Config)\n</code></pre>"},{"location":"core-concepts/schema/#case-insensitive-matching","title":"Case-Insensitive Matching","text":"<p>Environment variables are typically <code>UPPERCASE</code>, but schema fields can be <code>lowercase</code>:</p> <pre><code># .env\nAPI_KEY=secret123\nPORT=8080\n</code></pre> <pre><code>class Config(BaseModel):\n    api_key: str  # lowercase\n    port: int     # lowercase\n\nconfig = load_with_schema(Config)\n# Automatically matches UPPERCASE env vars\n</code></pre>"},{"location":"core-concepts/schema/#environment-specific-loading","title":"Environment-Specific Loading","text":"<pre><code>config = load_with_schema(Config, env=\"prod\")\n# Loads from .env.prod\n</code></pre>"},{"location":"core-concepts/schema/#advanced-features","title":"Advanced Features","text":""},{"location":"core-concepts/schema/#optional-fields","title":"Optional Fields","text":"<pre><code>from typing import Optional\n\nclass Config(BaseModel):\n    port: int = 8080\n    api_key: str\n    optional_field: Optional[str] = None\n</code></pre>"},{"location":"core-concepts/schema/#nested-models","title":"Nested Models","text":"<pre><code>class DatabaseConfig(BaseModel):\n    host: str\n    port: int\n\nclass Config(BaseModel):\n    database: DatabaseConfig\n    api_key: str\n\n# Use nested keys in .env:\n# DATABASE__HOST=localhost\n# DATABASE__PORT=5432\n</code></pre>"},{"location":"core-concepts/schema/#benefits","title":"Benefits","text":"<ol> <li>Type Safety - IDE autocomplete and type checking</li> <li>Automatic Validation - Pydantic validates types</li> <li>Self-Documenting - Schema shows expected structure</li> <li>Default Values - Defined in schema</li> <li>Case-Insensitive - Works with UPPERCASE env vars</li> </ol>"},{"location":"core-concepts/schema/#comparison","title":"Comparison","text":""},{"location":"core-concepts/schema/#without-schema","title":"Without Schema","text":"<pre><code>config = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int, \"DEBUG\": bool},\n    defaults={\"PORT\": 8080, \"DEBUG\": False}\n)\nport = config[\"PORT\"]  # Dict access, no autocomplete\n</code></pre>"},{"location":"core-concepts/schema/#with-schema","title":"With Schema","text":"<pre><code>config = load_with_schema(Config)\nport = config.port  # Typed access with autocomplete\n</code></pre>"},{"location":"core-concepts/schema/#related-topics","title":"Related Topics","text":"<ul> <li>Type Casting - Automatic type conversion</li> <li>Validation - Validation rules</li> </ul>"},{"location":"core-concepts/type-casting/","title":"Type Casting","text":"<p>env-loader-pro automatically casts environment variable strings to their specified types.</p>"},{"location":"core-concepts/type-casting/#supported-types","title":"Supported Types","text":""},{"location":"core-concepts/type-casting/#integer","title":"Integer","text":"<pre><code>config = load_env(types={\"PORT\": int})\n\nport = config[\"PORT\"]  # int, not string\n</code></pre>"},{"location":"core-concepts/type-casting/#boolean","title":"Boolean","text":"<p>Supports multiple boolean formats:</p> <pre><code>config = load_env(types={\"DEBUG\": bool})\n\n# All evaluate to True:\n# \"true\", \"1\", \"yes\", \"y\", \"t\"\n\n# All evaluate to False:\n# \"false\", \"0\", \"no\", \"n\", \"f\"\n</code></pre>"},{"location":"core-concepts/type-casting/#float","title":"Float","text":"<pre><code>config = load_env(types={\"RATE\": float})\n\nrate = config[\"RATE\"]  # float\n</code></pre>"},{"location":"core-concepts/type-casting/#list","title":"List","text":"<p>Two formats supported:</p>"},{"location":"core-concepts/type-casting/#json-arrays","title":"JSON Arrays","text":"<pre><code># .env\nDOMAINS=[\"a.com\",\"b.com\",\"c.com\"]\n</code></pre> <pre><code>config = load_env(types={\"DOMAINS\": list})\nprint(config[\"DOMAINS\"])\n# [\"a.com\", \"b.com\", \"c.com\"]\n</code></pre>"},{"location":"core-concepts/type-casting/#comma-separated","title":"Comma-Separated","text":"<pre><code># .env\nLIMITS=10,20,400\n</code></pre> <pre><code>config = load_env(types={\"LIMITS\": list})\nprint(config[\"LIMITS\"])\n# [\"10\", \"20\", \"400\"]\n</code></pre>"},{"location":"core-concepts/type-casting/#string-default","title":"String (Default)","text":"<p>If no type specified, values remain strings:</p> <pre><code>config = load_env()\n# All values are strings\n</code></pre>"},{"location":"core-concepts/type-casting/#type-casting-examples","title":"Type Casting Examples","text":""},{"location":"core-concepts/type-casting/#complete-example","title":"Complete Example","text":"<pre><code># .env\nPORT=8080\nDEBUG=true\nTIMEOUT=30.5\nDOMAINS=[\"api.example.com\",\"web.example.com\"]\nALLOWED_IPS=192.168.1.1,10.0.0.1\n</code></pre> <pre><code>config = load_env(\n    types={\n        \"PORT\": int,\n        \"DEBUG\": bool,\n        \"TIMEOUT\": float,\n        \"DOMAINS\": list,\n        \"ALLOWED_IPS\": list\n    }\n)\n\nprint(type(config[\"PORT\"]))        # &lt;class 'int'&gt;\nprint(type(config[\"DEBUG\"]))       # &lt;class 'bool'&gt;\nprint(type(config[\"TIMEOUT\"]))     # &lt;class 'float'&gt;\nprint(type(config[\"DOMAINS\"]))     # &lt;class 'list'&gt;\nprint(type(config[\"ALLOWED_IPS\"])) # &lt;class 'list'&gt;\n</code></pre>"},{"location":"core-concepts/type-casting/#error-handling","title":"Error Handling","text":""},{"location":"core-concepts/type-casting/#invalid-type-conversion","title":"Invalid Type Conversion","text":"<pre><code>config = load_env(types={\"PORT\": int})\n\n# If .env has: PORT=not-a-number\n# Raises EnvLoaderError: Failed to cast env value 'not-a-number' to int\n</code></pre>"},{"location":"core-concepts/type-casting/#invalid-boolean","title":"Invalid Boolean","text":"<pre><code>config = load_env(types={\"DEBUG\": bool})\n\n# If .env has: DEBUG=maybe\n# Raises EnvLoaderError: Cannot cast 'maybe' to bool\n</code></pre>"},{"location":"core-concepts/type-casting/#type-safety-with-schemas","title":"Type Safety with Schemas","text":"<p>For better type safety, use schema validation:</p> <pre><code>from env_loader_pro import load_with_schema\nfrom pydantic import BaseModel\n\nclass Config(BaseModel):\n    port: int\n    debug: bool\n    timeout: float\n    domains: list[str]\n\nconfig = load_with_schema(Config)\n# All types validated and enforced\n</code></pre>"},{"location":"core-concepts/type-casting/#best-practices","title":"Best Practices","text":"<ol> <li>Always specify types for non-string values</li> <li>Use schemas for complex configurations</li> <li>Validate types with rules if needed</li> <li>Handle errors gracefully in production</li> </ol>"},{"location":"core-concepts/type-casting/#related-topics","title":"Related Topics","text":"<ul> <li>Validation - Validate values</li> <li>Schema Support - Type-safe schemas</li> </ul>"},{"location":"core-concepts/validation/","title":"Validation","text":"<p>env-loader-pro provides multiple validation mechanisms to ensure configuration correctness.</p>"},{"location":"core-concepts/validation/#required-variables","title":"Required Variables","text":"<p>Ensure critical variables are present:</p> <pre><code>config = load_env(\n    required=[\"API_KEY\", \"DB_URI\", \"PORT\"]\n)\n# Raises EnvLoaderError if any required variable is missing\n</code></pre>"},{"location":"core-concepts/validation/#validation-rules","title":"Validation Rules","text":"<p>Add custom validation logic:</p> <pre><code>config = load_env(\n    types={\"PORT\": int},\n    rules={\n        \"PORT\": lambda v: 1024 &lt; v &lt; 65535,\n        \"TIMEOUT\": lambda v: v &gt; 0,\n        \"ALLOWED_HOSTS\": lambda hosts: len(hosts) &gt; 0\n    }\n)\n# Raises EnvLoaderError if validation fails\n</code></pre>"},{"location":"core-concepts/validation/#rule-examples","title":"Rule Examples","text":"<pre><code># Port range validation\nrules={\"PORT\": lambda v: 1024 &lt; v &lt; 65535}\n\n# Positive number\nrules={\"TIMEOUT\": lambda v: v &gt; 0}\n\n# Non-empty list\nrules={\"HOSTS\": lambda hosts: len(hosts) &gt; 0}\n\n# String length\nrules={\"API_KEY\": lambda key: len(key) &gt;= 32}\n\n# Regex pattern (using re module)\nimport re\nrules={\"EMAIL\": lambda email: re.match(r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$', email)}\n</code></pre>"},{"location":"core-concepts/validation/#strict-mode","title":"Strict Mode","text":"<p>Warn about unknown variables:</p> <pre><code>config = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int},\n    strict=True\n)\n# Warns if .env contains variables not in schema\n</code></pre>"},{"location":"core-concepts/validation/#regex-validators","title":"Regex Validators","text":"<p>Validate format with regex:</p> <pre><code>import re\n\nconfig = load_env(\n    regex_validators={\n        \"EMAIL\": r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$',\n        \"VERSION\": r'^\\d+\\.\\d+\\.\\d+$'\n    }\n)\n</code></pre>"},{"location":"core-concepts/validation/#schema-validation","title":"Schema Validation","text":"<p>Use Pydantic or dataclass for comprehensive validation:</p> <pre><code>from env_loader_pro import load_with_schema\nfrom pydantic import BaseModel, validator\n\nclass Config(BaseModel):\n    port: int\n    email: str\n\n    @validator('port')\n    def validate_port(cls, v):\n        if not 1024 &lt; v &lt; 65535:\n            raise ValueError('Port must be between 1024 and 65535')\n        return v\n\n    @validator('email')\n    def validate_email(cls, v):\n        if '@' not in v:\n            raise ValueError('Invalid email')\n        return v\n\nconfig = load_with_schema(Config)\n</code></pre>"},{"location":"core-concepts/validation/#policy-as-code-validation","title":"Policy-as-Code Validation","text":"<p>Enforce policies via JSON/YAML:</p> <pre><code># policy.yaml\nrequire:\n  - API_KEY\n  - DB_PASSWORD\nforbid:\n  - DEBUG\n</code></pre> <pre><code>config = load_env(policy=\"policy.yaml\")\n# Fails if policy violated\n</code></pre>"},{"location":"core-concepts/validation/#validation-error-messages","title":"Validation Error Messages","text":"<p>Clear error messages help debugging:</p> <pre><code>try:\n    config = load_env(required=[\"API_KEY\"])\nexcept EnvLoaderError as e:\n    print(e)\n    # \"Missing required environment variables: API_KEY\"\n</code></pre>"},{"location":"core-concepts/validation/#best-practices","title":"Best Practices","text":"<ol> <li>Validate early - Check required variables at startup</li> <li>Use strict mode in production to catch typos</li> <li>Add rules for business logic validation</li> <li>Use schemas for complex validation</li> <li>Enable audit to track validation sources</li> </ol>"},{"location":"core-concepts/validation/#related-topics","title":"Related Topics","text":"<ul> <li>Schema Support - Type-safe validation</li> <li>Policy-as-Code - Policy enforcement</li> <li>Security Model - Security validation</li> </ul>"},{"location":"enterprise/audit/","title":"Audit Trail","text":"<p>Complete provenance tracking for compliance and debugging.</p>"},{"location":"enterprise/audit/#overview","title":"Overview","text":"<p>The audit trail tracks where each configuration variable came from, without storing secret values.</p>"},{"location":"enterprise/audit/#enable-audit-trail","title":"Enable Audit Trail","text":"<pre><code>from env_loader_pro import load_env\n\n# Enable audit\nconfig, audit = load_env(audit=True)\n\n# Use configuration\nport = config[\"PORT\"]\n\n# Access audit log\nprint(audit.to_json())\n</code></pre>"},{"location":"enterprise/audit/#what-is-tracked","title":"What is Tracked","text":"<p>For each variable, the audit trail records:</p> <ul> <li>Source: Where value came from (azure, aws, system, file, etc.)</li> <li>Provider: Provider name (if from cloud provider)</li> <li>Masked: Whether value is treated as secret</li> <li>Timestamp: When variable was loaded</li> <li>Metadata: Additional metadata (TTL, rotation, etc.)</li> </ul>"},{"location":"enterprise/audit/#what-is-not-tracked","title":"What is NOT Tracked","text":"<ul> <li>\u274c Never stores actual secret values</li> <li>\u274c Never logs secrets in plaintext</li> <li>\u274c Never exports secrets in audit JSON</li> </ul>"},{"location":"enterprise/audit/#accessing-audit-data","title":"Accessing Audit Data","text":""},{"location":"enterprise/audit/#get-entry-for-variable","title":"Get Entry for Variable","text":"<pre><code>config, audit = load_env(audit=True)\n\nentry = audit.get(\"API_KEY\")\nprint(f\"Source: {entry.source}\")\nprint(f\"Provider: {entry.provider}\")\nprint(f\"Masked: {entry.masked}\")\nprint(f\"Timestamp: {entry.timestamp}\")\n</code></pre>"},{"location":"enterprise/audit/#export-as-json","title":"Export as JSON","text":"<pre><code>audit_json = audit.to_json()\nprint(audit_json)\n\n# Or with indentation\naudit_json = audit.to_json(indent=2)\n</code></pre>"},{"location":"enterprise/audit/#get-summary","title":"Get Summary","text":"<pre><code>summary = audit.get_summary()\nprint(summary)\n\n# {\n#   \"total_variables\": 10,\n#   \"masked_variables\": 3,\n#   \"sources\": {\"azure\": 2, \"file\": 8},\n#   \"providers\": {\"AzureKeyVaultProvider\": 2}\n# }\n</code></pre>"},{"location":"enterprise/audit/#cli-usage","title":"CLI Usage","text":"<pre><code># Show audit trail\nenvloader audit\n\n# Export as JSON\nenvloader audit --json\n\n# CI-safe mode (no cloud access)\nenvloader audit --ci --json\n</code></pre>"},{"location":"enterprise/audit/#use-cases","title":"Use Cases","text":""},{"location":"enterprise/audit/#compliance","title":"Compliance","text":"<pre><code>config, audit = load_env(audit=True)\n\n# Export for compliance systems\nwith open(\"audit.json\", \"w\") as f:\n    f.write(audit.to_json())\n</code></pre>"},{"location":"enterprise/audit/#debugging","title":"Debugging","text":"<pre><code>config, audit = load_env(audit=True)\n\n# Find where a variable came from\nentry = audit.get(\"DB_PASSWORD\")\nprint(f\"DB_PASSWORD came from: {entry.source}\")\n</code></pre>"},{"location":"enterprise/audit/#security-audits","title":"Security Audits","text":"<pre><code>config, audit = load_env(audit=True)\n\n# Check if secrets are from secure sources\nfor key, entry in audit.entries.items():\n    if entry.masked and entry.source not in [\"azure\", \"aws\"]:\n        print(f\"Warning: Secret {key} not from secure source\")\n</code></pre>"},{"location":"enterprise/audit/#best-practices","title":"Best Practices","text":"<ol> <li>Enable audit in production for compliance</li> <li>Export regularly for audit logs</li> <li>Review sources to ensure secrets from secure providers</li> <li>Use CI-safe mode in pipelines</li> <li>Store audit logs separately from application logs</li> </ol>"},{"location":"enterprise/audit/#related-topics","title":"Related Topics","text":"<ul> <li>Security Model</li> <li>Configuration Precedence</li> </ul>"},{"location":"enterprise/diff/","title":"Configuration Diff","text":"<p>Compare configurations to detect drift and changes.</p>"},{"location":"enterprise/diff/#overview","title":"Overview","text":"<p>Configuration diff allows you to:</p> <ul> <li>Compare current vs. baseline config</li> <li>Detect added/removed variables</li> <li>Detect secret changes</li> <li>Prevent accidental exposure</li> </ul>"},{"location":"enterprise/diff/#basic-usage","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env, diff_configs\n\n# Load current config\ncurrent = load_env(env=\"prod\")\n\n# Load baseline (from file or previous run)\nbaseline = load_env(path=\".env.baseline\")\n\n# Compare\ndiff = diff_configs(current, baseline)\n\n# Check for changes\nif diff.has_changes():\n    print(\"Configuration changed!\")\n    print(f\"Added: {diff.added}\")\n    print(f\"Removed: {diff.removed}\")\n    print(f\"Changed: {diff.changed}\")\n</code></pre>"},{"location":"enterprise/diff/#diff-results","title":"Diff Results","text":""},{"location":"enterprise/diff/#added-variables","title":"Added Variables","text":"<pre><code>diff = diff_configs(current, baseline)\n\nif diff.added:\n    print(f\"New variables: {diff.added}\")\n    # {\"NEW_VAR\": \"value\"}\n</code></pre>"},{"location":"enterprise/diff/#removed-variables","title":"Removed Variables","text":"<pre><code>if diff.removed:\n    print(f\"Removed variables: {diff.removed}\")\n    # {\"OLD_VAR\": \"value\"}\n</code></pre>"},{"location":"enterprise/diff/#changed-variables","title":"Changed Variables","text":"<pre><code>if diff.changed:\n    print(f\"Changed variables: {diff.changed}\")\n    # {\"VAR\": {\"old\": \"old_value\", \"new\": \"new_value\"}}\n</code></pre>"},{"location":"enterprise/diff/#secret-changes","title":"Secret Changes","text":"<pre><code>if diff.has_secret_changes():\n    print(f\"Secret changes detected!\")\n    print(f\"Added secrets: {diff.added_secrets}\")\n    print(f\"Removed secrets: {diff.removed_secrets}\")\n    print(f\"Changed secrets: {diff.changed_secrets}\")\n</code></pre>"},{"location":"enterprise/diff/#cli-usage","title":"CLI Usage","text":""},{"location":"enterprise/diff/#basic-diff","title":"Basic Diff","text":"<pre><code># Compare current vs. baseline\nenvloader diff --baseline .env.baseline\n</code></pre>"},{"location":"enterprise/diff/#ci-safe-diff","title":"CI-Safe Diff","text":"<pre><code># No cloud access required\nenvloader diff --ci --baseline .env.baseline\n</code></pre>"},{"location":"enterprise/diff/#deny-secret-changes","title":"Deny Secret Changes","text":"<pre><code># Fail if secrets added/removed\nenvloader diff --ci --deny-secret-changes --baseline .env.baseline\n</code></pre>"},{"location":"enterprise/diff/#deny-added-secrets","title":"Deny Added Secrets","text":"<pre><code># Fail if new secrets added\nenvloader diff --ci --deny-added-secrets --baseline .env.baseline\n</code></pre>"},{"location":"enterprise/diff/#use-cases","title":"Use Cases","text":""},{"location":"enterprise/diff/#prevent-secret-exposure","title":"Prevent Secret Exposure","text":"<pre><code># In CI/CD pipeline\nenvloader diff --ci --deny-secret-changes --baseline .env.baseline\n\n# Fails if secrets added/removed/changed\n</code></pre>"},{"location":"enterprise/diff/#configuration-drift-detection","title":"Configuration Drift Detection","text":"<pre><code># Load baseline from previous deployment\nbaseline = load_env(path=\".env.prod.baseline\")\n\n# Load current\ncurrent = load_env(env=\"prod\")\n\n# Compare\ndiff = diff_configs(current, baseline)\n\nif diff.has_changes():\n    # Alert on drift\n    send_alert(f\"Configuration drift detected: {diff.changed}\")\n</code></pre>"},{"location":"enterprise/diff/#audit-configuration-changes","title":"Audit Configuration Changes","text":"<pre><code># Save baseline\nbaseline = load_env(env=\"prod\")\nbaseline.save(\".env.prod.baseline\", format=\"json\")\n\n# Later, compare\ncurrent = load_env(env=\"prod\")\ndiff = diff_configs(current, baseline)\n\n# Log changes\nlog_audit(diff.to_dict())\n</code></pre>"},{"location":"enterprise/diff/#best-practices","title":"Best Practices","text":"<ol> <li>Store baselines for each environment</li> <li>Use in CI/CD to prevent accidental changes</li> <li>Deny secret changes in production</li> <li>Alert on drift for critical configs</li> <li>Review changes before deployment</li> </ol>"},{"location":"enterprise/diff/#related-topics","title":"Related Topics","text":"<ul> <li>Security Model</li> <li>Audit Trail</li> </ul>"},{"location":"enterprise/performance/","title":"Performance","text":"<p>Performance monitoring, SLAs, and optimization.</p>"},{"location":"enterprise/performance/#performance-slas","title":"Performance SLAs","text":"<p>env-loader-pro maintains performance guarantees:</p> <ul> <li>Cold start: &lt; 500ms</li> <li>Warm load: &lt; 50ms</li> <li>Cached: &lt; 5ms</li> </ul>"},{"location":"enterprise/performance/#performance-monitoring","title":"Performance Monitoring","text":""},{"location":"enterprise/performance/#enable-monitoring","title":"Enable Monitoring","text":"<pre><code>from env_loader_pro import load_env, PerformanceSLA\n\n# Define SLA\nsla = PerformanceSLA(\n    cold_start_ms=500,\n    warm_load_ms=50,\n    cached_ms=5\n)\n\n# Load with monitoring\nconfig = load_env(\n    env=\"prod\",\n    performance_sla=sla,\n    trace=True\n)\n\n# Access metrics\nmetrics = config.performance_metrics\nprint(f\"Total load time: {metrics.total_load_time_ms}ms\")\nprint(f\"Source times: {metrics.source_load_times_ms}\")\n</code></pre>"},{"location":"enterprise/performance/#caching","title":"Caching","text":""},{"location":"enterprise/performance/#enable-caching","title":"Enable Caching","text":"<pre><code>config = load_env(\n    env=\"prod\",\n    cache=True,\n    cache_ttl=3600  # 1 hour\n)\n</code></pre>"},{"location":"enterprise/performance/#provider-caching","title":"Provider Caching","text":"<pre><code>from env_loader_pro.providers import AzureKeyVaultProvider\n\nprovider = AzureKeyVaultProvider(\n    vault_url=\"...\",\n    cache=True,\n    cache_ttl=3600\n)\n\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"enterprise/performance/#circuit-breaker","title":"Circuit Breaker","text":"<p>Prevent cascading failures:</p> <pre><code>from env_loader_pro.core import CircuitBreaker\n\nbreaker = CircuitBreaker(\n    failure_threshold=5,\n    timeout_seconds=60\n)\n\nif breaker.should_attempt():\n    try:\n        value = provider.get(\"KEY\")\n        breaker.record_success()\n    except Exception as e:\n        breaker.record_failure()\n</code></pre>"},{"location":"enterprise/performance/#performance-best-practices","title":"Performance Best Practices","text":"<ol> <li>Enable caching for cloud providers</li> <li>Set appropriate TTL based on secret rotation</li> <li>Use circuit breakers for resilience</li> <li>Monitor performance in production</li> <li>Optimize provider calls with batch operations</li> </ol>"},{"location":"enterprise/performance/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Caching</li> </ul>"},{"location":"enterprise/policies/","title":"Failure Policies","text":"<p>Control how the loader handles errors from different configuration sources.</p>"},{"location":"enterprise/policies/#overview","title":"Overview","text":"<p>Failure policies allow you to specify how to handle errors from each provider:</p> <ul> <li>fail - Raise error immediately (production)</li> <li>warn - Log warning and continue (development)</li> <li>fallback - Silently continue (resilient)</li> </ul>"},{"location":"enterprise/policies/#basic-usage","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\nprovider = AzureKeyVaultProvider(...)\n\nconfig = load_env(\n    providers=[provider],\n    failure_policy={\n        \"azure\": \"fail\"  # Raise error if Azure unavailable\n    }\n)\n</code></pre>"},{"location":"enterprise/policies/#policy-options","title":"Policy Options","text":""},{"location":"enterprise/policies/#fail-production","title":"Fail (Production)","text":"<pre><code>failure_policy={\"azure\": \"fail\"}\n</code></pre> <ul> <li>Raises <code>ProviderError</code> immediately</li> <li>Use in production when provider is critical</li> <li>Ensures configuration is correct</li> </ul>"},{"location":"enterprise/policies/#warn-development","title":"Warn (Development)","text":"<pre><code>failure_policy={\"azure\": \"warn\"}\n</code></pre> <ul> <li>Logs warning message</li> <li>Continues loading from other sources</li> <li>Use in development when provider may be unavailable</li> </ul>"},{"location":"enterprise/policies/#fallback-resilient","title":"Fallback (Resilient)","text":"<pre><code>failure_policy={\"azure\": \"fallback\"}\n</code></pre> <ul> <li>Silently continues</li> <li>No error or warning</li> <li>Use when provider is optional</li> </ul>"},{"location":"enterprise/policies/#multiple-providers","title":"Multiple Providers","text":"<pre><code>config = load_env(\n    providers=[azure_provider, aws_provider],\n    failure_policy={\n        \"azure\": \"fail\",      # Critical in production\n        \"aws\": \"fallback\",    # Optional\n        \"filesystem\": \"warn\"  # Development only\n    }\n)\n</code></pre>"},{"location":"enterprise/policies/#default-policies","title":"Default Policies","text":"<p>If no policy specified, defaults to:</p> <ul> <li>Cloud providers: <code>fail</code> (production)</li> <li>Filesystem: <code>warn</code> (development)</li> <li>System env: <code>fallback</code> (always available)</li> </ul>"},{"location":"enterprise/policies/#example-scenarios","title":"Example Scenarios","text":""},{"location":"enterprise/policies/#production","title":"Production","text":"<pre><code># Production: Fail on critical provider errors\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"fail\"}\n)\n</code></pre>"},{"location":"enterprise/policies/#development","title":"Development","text":"<pre><code># Development: Warn but continue\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"warn\"}\n)\n</code></pre>"},{"location":"enterprise/policies/#resilient","title":"Resilient","text":"<pre><code># Resilient: Continue even if providers unavailable\nconfig = load_env(\n    providers=[azure_provider, aws_provider],\n    failure_policy={\n        \"azure\": \"fallback\",\n        \"aws\": \"fallback\"\n    }\n)\n</code></pre>"},{"location":"enterprise/policies/#error-handling","title":"Error Handling","text":""},{"location":"enterprise/policies/#fail-policy","title":"Fail Policy","text":"<pre><code>try:\n    config = load_env(\n        providers=[azure_provider],\n        failure_policy={\"azure\": \"fail\"}\n    )\nexcept ProviderError as e:\n    print(f\"Provider error: {e}\")\n    # Handle error\n</code></pre>"},{"location":"enterprise/policies/#warn-policy","title":"Warn Policy","text":"<pre><code># Warning logged, but continues\nconfig = load_env(\n    providers=[azure_provider],\n    failure_policy={\"azure\": \"warn\"}\n)\n# No exception raised\n</code></pre>"},{"location":"enterprise/policies/#best-practices","title":"Best Practices","text":"<ol> <li>Use \"fail\" in production for critical providers</li> <li>Use \"warn\" in development for optional providers</li> <li>Use \"fallback\" for resilience when provider is optional</li> <li>Set per-provider policies based on importance</li> <li>Document policies in your deployment docs</li> </ol>"},{"location":"enterprise/policies/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Policy-as-Code</li> </ul>"},{"location":"enterprise/policy-as-code/","title":"Policy-as-Code","text":"<p>Enforce configuration policies via JSON/YAML files.</p>"},{"location":"enterprise/policy-as-code/#overview","title":"Overview","text":"<p>Policy-as-code allows you to define and enforce configuration rules:</p> <ul> <li>Require specific variables</li> <li>Forbid certain variables</li> <li>Enforce source requirements</li> <li>Set TTL requirements</li> </ul>"},{"location":"enterprise/policy-as-code/#policy-file-format","title":"Policy File Format","text":""},{"location":"enterprise/policy-as-code/#yaml","title":"YAML","text":"<pre><code># policy.yaml\nrequire:\n  - API_KEY\n  - DB_PASSWORD\n  - PORT\n\nforbid:\n  - DEBUG\n  - TEST_MODE\n\nsources:\n  API_KEY: azure\n  DB_PASSWORD: azure\n\nttl:\n  API_KEY: 3600\n  DB_PASSWORD: 7200\n\nprovider_failure_policy:\n  azure: fail\n  aws: fallback\n</code></pre>"},{"location":"enterprise/policy-as-code/#json","title":"JSON","text":"<pre><code>{\n  \"require\": [\"API_KEY\", \"DB_PASSWORD\", \"PORT\"],\n  \"forbid\": [\"DEBUG\", \"TEST_MODE\"],\n  \"sources\": {\n    \"API_KEY\": \"azure\",\n    \"DB_PASSWORD\": \"azure\"\n  },\n  \"ttl\": {\n    \"API_KEY\": 3600,\n    \"DB_PASSWORD\": 7200\n  },\n  \"provider_failure_policy\": {\n    \"azure\": \"fail\",\n    \"aws\": \"fallback\"\n  }\n}\n</code></pre>"},{"location":"enterprise/policy-as-code/#using-policies","title":"Using Policies","text":""},{"location":"enterprise/policy-as-code/#load-with-policy","title":"Load with Policy","text":"<pre><code>from env_loader_pro import load_env\n\nconfig = load_env(\n    env=\"prod\",\n    policy=\"policy.yaml\"  # Enforces policy\n)\n# Fails if policy violated\n</code></pre>"},{"location":"enterprise/policy-as-code/#policy-rules","title":"Policy Rules","text":""},{"location":"enterprise/policy-as-code/#require-variables","title":"Require Variables","text":"<pre><code>require:\n  - API_KEY\n  - DB_PASSWORD\n</code></pre> <p>Fails if any required variable is missing.</p>"},{"location":"enterprise/policy-as-code/#forbid-variables","title":"Forbid Variables","text":"<pre><code>forbid:\n  - DEBUG\n  - TEST_MODE\n</code></pre> <p>Fails if any forbidden variable is present.</p>"},{"location":"enterprise/policy-as-code/#source-requirements","title":"Source Requirements","text":"<pre><code>sources:\n  API_KEY: azure\n  DB_PASSWORD: azure\n</code></pre> <p>Requires variables to come from specific sources.</p>"},{"location":"enterprise/policy-as-code/#ttl-requirements","title":"TTL Requirements","text":"<pre><code>ttl:\n  API_KEY: 3600\n  DB_PASSWORD: 7200\n</code></pre> <p>Requires secrets to have TTL less than specified (in seconds).</p>"},{"location":"enterprise/policy-as-code/#failure-policies","title":"Failure Policies","text":"<pre><code>provider_failure_policy:\n  azure: fail\n  aws: fallback\n</code></pre> <p>Sets failure policies per provider.</p>"},{"location":"enterprise/policy-as-code/#policy-validation","title":"Policy Validation","text":""},{"location":"enterprise/policy-as-code/#missing-required-variable","title":"Missing Required Variable","text":"<pre><code># policy.yaml requires API_KEY\n# But API_KEY not in config\n\nconfig = load_env(policy=\"policy.yaml\")\n# Raises PolicyError: Missing required variable: API_KEY\n</code></pre>"},{"location":"enterprise/policy-as-code/#forbidden-variable-present","title":"Forbidden Variable Present","text":"<pre><code># policy.yaml forbids DEBUG\n# But DEBUG in config\n\nconfig = load_env(policy=\"policy.yaml\")\n# Raises PolicyError: Forbidden variable present: DEBUG\n</code></pre>"},{"location":"enterprise/policy-as-code/#source-mismatch","title":"Source Mismatch","text":"<pre><code># policy.yaml requires API_KEY from azure\n# But API_KEY comes from file\n\nconfig = load_env(policy=\"policy.yaml\")\n# Raises PolicyError: API_KEY must come from azure, got file\n</code></pre>"},{"location":"enterprise/policy-as-code/#example-production-policy","title":"Example: Production Policy","text":"<pre><code># policy.prod.yaml\nrequire:\n  - API_KEY\n  - DB_PASSWORD\n  - DB_HOST\n\nforbid:\n  - DEBUG\n  - TEST_MODE\n  - DEV_MODE\n\nsources:\n  API_KEY: azure\n  DB_PASSWORD: azure\n\nprovider_failure_policy:\n  azure: fail\n</code></pre> <pre><code>config = load_env(\n    env=\"prod\",\n    policy=\"policy.prod.yaml\"\n)\n</code></pre>"},{"location":"enterprise/policy-as-code/#example-development-policy","title":"Example: Development Policy","text":"<pre><code># policy.dev.yaml\nrequire:\n  - API_KEY\n\nforbid: []  # Allow anything\n\nprovider_failure_policy:\n  azure: warn  # Warn but continue\n</code></pre> <pre><code>config = load_env(\n    env=\"dev\",\n    policy=\"policy.dev.yaml\"\n)\n</code></pre>"},{"location":"enterprise/policy-as-code/#best-practices","title":"Best Practices","text":"<ol> <li>Use different policies per environment</li> <li>Require secrets from secure sources in production</li> <li>Forbid debug flags in production</li> <li>Set TTL requirements for secrets</li> <li>Version control policies (without secrets)</li> </ol>"},{"location":"enterprise/policy-as-code/#related-topics","title":"Related Topics","text":"<ul> <li>Failure Policies</li> <li>Security Model</li> </ul>"},{"location":"getting-started/basic-usage/","title":"Basic Usage","text":"<p>Learn the fundamentals of using env-loader-pro.</p>"},{"location":"getting-started/basic-usage/#loading-configuration","title":"Loading Configuration","text":""},{"location":"getting-started/basic-usage/#simple-load","title":"Simple Load","text":"<pre><code>from env_loader_pro import load_env\n\n# Load from .env file\nconfig = load_env()\n\n# Access values\nport = config[\"PORT\"]\n</code></pre>"},{"location":"getting-started/basic-usage/#with-type-casting","title":"With Type Casting","text":"<pre><code>config = load_env(\n    types={\n        \"PORT\": int,\n        \"DEBUG\": bool,\n        \"TIMEOUT\": float\n    }\n)\n\nport = config[\"PORT\"]      # int\ndebug = config[\"DEBUG\"]    # bool\ntimeout = config[\"TIMEOUT\"] # float\n</code></pre>"},{"location":"getting-started/basic-usage/#with-required-variables","title":"With Required Variables","text":"<pre><code>config = load_env(\n    required=[\"API_KEY\", \"DB_URI\"]\n)\n# Raises EnvLoaderError if API_KEY or DB_URI missing\n</code></pre>"},{"location":"getting-started/basic-usage/#with-default-values","title":"With Default Values","text":"<pre><code>config = load_env(\n    defaults={\n        \"PORT\": 8080,\n        \"DEBUG\": False,\n        \"TIMEOUT\": 30\n    }\n)\n# Uses defaults if variables not set\n</code></pre>"},{"location":"getting-started/basic-usage/#environment-specific-files","title":"Environment-Specific Files","text":"<pre><code># File structure\n.env          # Base configuration\n.env.dev      # Development overrides\n.env.prod     # Production overrides\n</code></pre> <pre><code># Load production config\nconfig = load_env(env=\"prod\")\n# Loads .env.prod first, then merges with .env\n</code></pre>"},{"location":"getting-started/basic-usage/#variable-expansion","title":"Variable Expansion","text":"<pre><code># .env file\nBASE_URL=https://example.com\nAPI_ENDPOINT=${BASE_URL}/api\nFULL_URL=${API_ENDPOINT}/v1\n</code></pre> <pre><code>config = load_env()\n\nprint(config[\"FULL_URL\"])\n# Output: https://example.com/api/v1\n</code></pre>"},{"location":"getting-started/basic-usage/#list-parsing","title":"List Parsing","text":""},{"location":"getting-started/basic-usage/#json-arrays","title":"JSON Arrays","text":"<pre><code># .env\nDOMAINS=[\"a.com\",\"b.com\",\"c.com\"]\n</code></pre> <pre><code>config = load_env(types={\"DOMAINS\": list})\nprint(config[\"DOMAINS\"])\n# Output: [\"a.com\", \"b.com\", \"c.com\"]\n</code></pre>"},{"location":"getting-started/basic-usage/#comma-separated","title":"Comma-Separated","text":"<pre><code># .env\nLIMITS=10,20,400\n</code></pre> <pre><code>config = load_env(types={\"LIMITS\": list})\nprint(config[\"LIMITS\"])\n# Output: [\"10\", \"20\", \"400\"]\n</code></pre>"},{"location":"getting-started/basic-usage/#validation-rules","title":"Validation Rules","text":"<pre><code>config = load_env(\n    types={\"PORT\": int},\n    rules={\n        \"PORT\": lambda v: 1024 &lt; v &lt; 65535\n    }\n)\n# Raises error if PORT not in valid range\n</code></pre>"},{"location":"getting-started/basic-usage/#strict-mode","title":"Strict Mode","text":"<pre><code>config = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int},\n    strict=True\n)\n# Warns about unknown variables not in schema\n</code></pre>"},{"location":"getting-started/basic-usage/#safe-representation","title":"Safe Representation","text":"<pre><code>config = load_env()\n\n# Safe for logging (secrets masked)\nsafe = config.safe_repr()\nprint(safe)\n# {\"API_KEY\": \"****1234\", \"PORT\": 8080}\n\n# Full access (use with caution)\nvalue = config[\"API_KEY\"]  # Full value\n</code></pre>"},{"location":"getting-started/basic-usage/#export-configuration","title":"Export Configuration","text":"<pre><code>config = load_env()\n\n# Export to JSON\nconfig.save(\"config.json\", format=\"json\")\n\n# Export to YAML\nconfig.save(\"config.yaml\", format=\"yaml\")\n</code></pre>"},{"location":"getting-started/basic-usage/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Type Casting</li> <li>Explore Validation</li> <li>Set up Schema Support</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.8 or higher</li> <li>pip (Python package manager)</li> </ul>"},{"location":"getting-started/installation/#basic-installation","title":"Basic Installation","text":"<pre><code>pip install env-loader-pro\n</code></pre>"},{"location":"getting-started/installation/#optional-dependencies","title":"Optional Dependencies","text":"<p>Install additional features as needed:</p> <pre><code># For Pydantic schema support\npip install env-loader-pro[pydantic]\n\n# For Azure Key Vault integration\npip install env-loader-pro[azure]\n\n# For AWS Secrets Manager integration\npip install env-loader-pro[aws]\n\n# For YAML export support\npip install env-loader-pro[yaml]\n\n# For live reloading (watchdog)\npip install env-loader-pro[watch]\n\n# For FastAPI integration\npip install env-loader-pro[fastapi]\n\n# Install everything\npip install env-loader-pro[all]\n</code></pre>"},{"location":"getting-started/installation/#development-installation","title":"Development Installation","text":"<p>For contributing or development:</p> <pre><code># Clone repository\ngit clone https://github.com/shanen28/env-loader-pro.git\ncd env-loader-pro\n\n# Install in editable mode with test dependencies\npip install -e \".[test,all]\"\n\n# Run tests\npytest tests/ -v\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code># Check version\npython -c \"from env_loader_pro import __version__; print(__version__)\"\n\n# Test CLI\nenvloader --help\n\n# Test import\npython -c \"from env_loader_pro import load_env; print('\u2713 Installation successful')\"\n</code></pre>"},{"location":"getting-started/installation/#upgrade","title":"Upgrade","text":"<pre><code>pip install --upgrade env-loader-pro\n</code></pre>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>Get started with env-loader-pro in 5 minutes.</p>"},{"location":"getting-started/quickstart/#basic-example","title":"Basic Example","text":"<pre><code>from env_loader_pro import load_env\n\n# Load configuration\nconfig = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int, \"DEBUG\": bool},\n    defaults={\"PORT\": 8080}\n)\n\n# Use configuration\nprint(config[\"PORT\"])   # 8080 (int)\nprint(config[\"DEBUG\"])  # True (bool)\nprint(config[\"API_KEY\"]) # Your API key\n</code></pre>"},{"location":"getting-started/quickstart/#create-env-file","title":"Create .env File","text":"<p>Create a <code>.env</code> file in your project root:</p> <pre><code># .env\nPORT=8080\nDEBUG=true\nAPI_KEY=your-secret-key-here\n</code></pre>"},{"location":"getting-started/quickstart/#load-and-use","title":"Load and Use","text":"<pre><code>from env_loader_pro import load_env\n\nconfig = load_env(\n    required=[\"API_KEY\"],\n    types={\"PORT\": int, \"DEBUG\": bool}\n)\n\n# Access values\nport = config[\"PORT\"]      # Already an int!\ndebug = config[\"DEBUG\"]    # Already a bool!\napi_key = config[\"API_KEY\"] # String\n</code></pre>"},{"location":"getting-started/quickstart/#with-cloud-secrets-azure","title":"With Cloud Secrets (Azure)","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\n# Create provider\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\"\n)\n\n# Load with provider\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider]\n)\n\n# Secrets from Azure Key Vault override local .env\nprint(config[\"DB_PASSWORD\"])  # From Azure\n</code></pre>"},{"location":"getting-started/quickstart/#with-cloud-secrets-aws","title":"With Cloud Secrets (AWS)","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AWSSecretsManagerProvider\n\n# Create provider\nprovider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/prod\",\n    region=\"us-east-1\"\n)\n\n# Load with provider\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider]\n)\n</code></pre>"},{"location":"getting-started/quickstart/#with-schema-validation","title":"With Schema Validation","text":"<pre><code>from env_loader_pro import load_with_schema\nfrom pydantic import BaseModel\n\n# Define schema\nclass Config(BaseModel):\n    port: int = 8080\n    debug: bool = False\n    api_key: str  # Required\n\n# Load and validate\nconfig = load_with_schema(Config, env=\"prod\")\n\n# Typed access\nprint(config.port)    # int\nprint(config.debug)   # bool\nprint(config.api_key) # str\n</code></pre>"},{"location":"getting-started/quickstart/#cli-usage","title":"CLI Usage","text":"<pre><code># Show configuration\nenvloader show\n\n# Validate\nenvloader validate --required API_KEY PORT\n\n# Export to JSON\nenvloader export --output config.json\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Configuration Precedence</li> <li>Explore Type Casting</li> <li>Set up Cloud Providers</li> <li>Enable Audit Trail</li> </ul>"},{"location":"providers/aws/","title":"AWS Providers","text":"<p>Load secrets from AWS Secrets Manager or AWS Systems Manager Parameter Store.</p>"},{"location":"providers/aws/#installation","title":"Installation","text":"<pre><code>pip install env-loader-pro[aws]\n</code></pre>"},{"location":"providers/aws/#aws-secrets-manager","title":"AWS Secrets Manager","text":""},{"location":"providers/aws/#basic-usage","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AWSSecretsManagerProvider\n\n# Create provider\nprovider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/prod\",\n    region=\"us-east-1\"\n)\n\n# Load configuration\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider]\n)\n</code></pre>"},{"location":"providers/aws/#json-secrets","title":"JSON Secrets","text":"<p>If secret is JSON, extracts individual fields:</p> <pre><code># AWS Secret: {\"DB_PASSWORD\": \"secret\", \"API_KEY\": \"key\"}\nprovider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/prod\"\n)\n\nconfig = load_env(providers=[provider])\n# config[\"DB_PASSWORD\"] = \"secret\"\n# config[\"API_KEY\"] = \"key\"\n</code></pre>"},{"location":"providers/aws/#plain-text-secrets","title":"Plain Text Secrets","text":"<pre><code># AWS Secret: plain text value\nprovider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/api-key\"  # Secret name\n)\n\nconfig = load_env(providers=[provider])\n# config[\"myapp/api-key\"] = \"value\"\n</code></pre>"},{"location":"providers/aws/#aws-ssm-parameter-store","title":"AWS SSM Parameter Store","text":""},{"location":"providers/aws/#basic-usage_1","title":"Basic Usage","text":"<pre><code>from env_loader_pro.providers import AWSSSMProvider\n\n# Create provider\nprovider = AWSSSMProvider(\n    prefix=\"/myapp/prod/\",\n    region=\"us-east-1\"\n)\n\n# Load configuration\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"providers/aws/#parameter-names","title":"Parameter Names","text":"<pre><code># SSM Parameters:\n# /myapp/prod/DB_PASSWORD\n# /myapp/prod/API_KEY\n\nprovider = AWSSSMProvider(prefix=\"/myapp/prod/\")\n\nconfig = load_env(providers=[provider])\n# config[\"DB_PASSWORD\"] = value from /myapp/prod/DB_PASSWORD\n# config[\"API_KEY\"] = value from /myapp/prod/API_KEY\n</code></pre>"},{"location":"providers/aws/#get-all-parameters","title":"Get All Parameters","text":"<pre><code>provider = AWSSSMProvider(prefix=\"/myapp/prod/\")\n\n# Automatically loads all parameters under prefix\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"providers/aws/#authentication","title":"Authentication","text":"<p>Uses boto3 default credential chain:</p> <ol> <li>IAM Role - EC2, ECS, Lambda (recommended)</li> <li>Environment Variables - AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY</li> <li>AWS Credentials File - <code>~/.aws/credentials</code></li> <li>IAM Instance Profile - EC2 instance profile</li> </ol>"},{"location":"providers/aws/#caching","title":"Caching","text":"<pre><code>provider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/prod\",\n    cache=True,\n    cache_ttl=3600\n)\n</code></pre>"},{"location":"providers/aws/#failure-policy","title":"Failure Policy","text":"<pre><code>config = load_env(\n    providers=[aws_provider],\n    failure_policy={\n        \"aws\": \"fallback\"  # Continue if AWS unavailable\n    }\n)\n</code></pre>"},{"location":"providers/aws/#example","title":"Example","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import (\n    AWSSecretsManagerProvider,\n    AWSSSMProvider\n)\n\n# Use both providers\nsecrets_provider = AWSSecretsManagerProvider(\n    secret_id=\"myapp/secrets\",\n    region=\"us-east-1\"\n)\n\nssm_provider = AWSSSMProvider(\n    prefix=\"/myapp/config/\",\n    region=\"us-east-1\"\n)\n\nconfig = load_env(\n    env=\"prod\",\n    providers=[secrets_provider, ssm_provider],\n    audit=True\n)\n</code></pre>"},{"location":"providers/aws/#best-practices","title":"Best Practices","text":"<ol> <li>Use IAM roles in production (no static credentials)</li> <li>Enable caching to reduce API calls</li> <li>Use prefixes for SSM parameters</li> <li>Set failure policy based on environment</li> <li>Enable audit for compliance</li> </ol>"},{"location":"providers/aws/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Failure Policies</li> </ul>"},{"location":"providers/azure/","title":"Azure Key Vault Provider","text":"<p>Load secrets from Azure Key Vault with automatic authentication.</p>"},{"location":"providers/azure/#installation","title":"Installation","text":"<pre><code>pip install env-loader-pro[azure]\n</code></pre>"},{"location":"providers/azure/#basic-usage","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\n# Create provider\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\"\n)\n\n# Load configuration\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider]\n)\n</code></pre>"},{"location":"providers/azure/#authentication","title":"Authentication","text":"<p>Uses <code>DefaultAzureCredential</code> which supports:</p> <ul> <li>Managed Identity - Azure VMs, App Service, Functions</li> <li>Service Principal - Client ID/Secret</li> <li>Azure CLI - Local development</li> <li>Environment Variables - Client credentials</li> </ul>"},{"location":"providers/azure/#custom-credential","title":"Custom Credential","text":"<pre><code>from azure.identity import ClientSecretCredential\n\ncredential = ClientSecretCredential(\n    tenant_id=\"...\",\n    client_id=\"...\",\n    client_secret=\"...\"\n)\n\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\",\n    credential=credential\n)\n</code></pre>"},{"location":"providers/azure/#caching","title":"Caching","text":"<p>Enable caching to reduce API calls:</p> <pre><code>provider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\",\n    cache=True,\n    cache_ttl=3600  # 1 hour\n)\n</code></pre>"},{"location":"providers/azure/#failure-policy","title":"Failure Policy","text":"<pre><code>config = load_env(\n    providers=[provider],\n    failure_policy={\n        \"azure\": \"fail\"  # Raise error if Azure unavailable\n    }\n)\n</code></pre>"},{"location":"providers/azure/#example","title":"Example","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\n# Production setup\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://prod-vault.vault.azure.net\"\n)\n\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider],\n    audit=True,  # Track provenance\n    cache=True,\n    cache_ttl=3600\n)\n\n# Secrets from Azure override local .env\ndb_password = config[\"DB_PASSWORD\"]  # From Azure Key Vault\n</code></pre>"},{"location":"providers/azure/#capabilities","title":"Capabilities","text":"<pre><code>provider = AzureKeyVaultProvider(...)\nprint(provider.capabilities.to_dict())\n\n# {\n#   \"batch\": True,\n#   \"cacheable\": True,\n#   \"rotatable\": True,\n#   \"watchable\": False,\n#   \"metadata\": True\n# }\n</code></pre>"},{"location":"providers/azure/#best-practices","title":"Best Practices","text":"<ol> <li>Use Managed Identity in production</li> <li>Enable caching to reduce API calls</li> <li>Set failure policy to \"fail\" in production</li> <li>Enable audit to track secret access</li> <li>Use environment-specific vaults per environment</li> </ol>"},{"location":"providers/azure/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Failure Policies</li> <li>Audit Trail</li> </ul>"},{"location":"providers/custom/","title":"Custom Providers","text":"<p>Create your own provider to load configuration from any source.</p>"},{"location":"providers/custom/#provider-interface","title":"Provider Interface","text":"<p>All providers inherit from <code>BaseProvider</code>:</p> <pre><code>from env_loader_pro.providers import BaseProvider\nfrom typing import Dict, Optional\n\nclass CustomProvider(BaseProvider):\n    def get(self, key: str) -&gt; Optional[str]:\n        \"\"\"Get single value.\"\"\"\n        pass\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        \"\"\"Get multiple values.\"\"\"\n        pass\n\n    def get_all(self) -&gt; Dict[str, str]:\n        \"\"\"Get all values (optional, for efficiency).\"\"\"\n        pass\n</code></pre>"},{"location":"providers/custom/#example-database-provider","title":"Example: Database Provider","text":"<pre><code>from env_loader_pro.providers import BaseProvider\nfrom env_loader_pro.exceptions import ProviderError\nfrom typing import Dict, Optional\nimport sqlite3\n\nclass DatabaseProvider(BaseProvider):\n    def __init__(self, db_path: str):\n        self.db_path = db_path\n\n    def get(self, key: str) -&gt; Optional[str]:\n        \"\"\"Get value from database.\"\"\"\n        try:\n            conn = sqlite3.connect(self.db_path)\n            cursor = conn.cursor()\n            cursor.execute(\"SELECT value FROM config WHERE key = ?\", (key,))\n            row = cursor.fetchone()\n            conn.close()\n            return row[0] if row else None\n        except Exception as e:\n            raise ProviderError(f\"Failed to get {key} from database: {e}\")\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        \"\"\"Get multiple values.\"\"\"\n        result = {}\n        for key in keys:\n            value = self.get(key)\n            if value:\n                result[key] = value\n        return result\n\n    def get_all(self) -&gt; Dict[str, str]:\n        \"\"\"Get all values from database.\"\"\"\n        try:\n            conn = sqlite3.connect(self.db_path)\n            cursor = conn.cursor()\n            cursor.execute(\"SELECT key, value FROM config\")\n            rows = cursor.fetchall()\n            conn.close()\n            return {row[0]: row[1] for row in rows}\n        except Exception as e:\n            raise ProviderError(f\"Failed to get all from database: {e}\")\n\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if database is available.\"\"\"\n        import os\n        return os.path.exists(self.db_path)\n</code></pre>"},{"location":"providers/custom/#example-http-api-provider","title":"Example: HTTP API Provider","text":"<pre><code>import requests\nfrom env_loader_pro.providers import BaseProvider\nfrom env_loader_pro.exceptions import ProviderError\n\nclass HTTPProvider(BaseProvider):\n    def __init__(self, api_url: str, api_key: str):\n        self.api_url = api_url\n        self.api_key = api_key\n\n    def get(self, key: str) -&gt; Optional[str]:\n        \"\"\"Get value from HTTP API.\"\"\"\n        try:\n            response = requests.get(\n                f\"{self.api_url}/config/{key}\",\n                headers={\"Authorization\": f\"Bearer {self.api_key}\"}\n            )\n            response.raise_for_status()\n            return response.json().get(\"value\")\n        except Exception as e:\n            raise ProviderError(f\"Failed to get {key} from API: {e}\")\n\n    def get_many(self, keys: list[str]) -&gt; Dict[str, str]:\n        \"\"\"Get multiple values.\"\"\"\n        result = {}\n        for key in keys:\n            value = self.get(key)\n            if value:\n                result[key] = value\n        return result\n\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if API is available.\"\"\"\n        try:\n            response = requests.get(f\"{self.api_url}/health\", timeout=2)\n            return response.status_code == 200\n        except:\n            return False\n</code></pre>"},{"location":"providers/custom/#using-custom-provider","title":"Using Custom Provider","text":"<pre><code>from env_loader_pro import load_env\n\n# Create custom provider\ncustom_provider = CustomProvider(config=\"...\")\n\n# Use with load_env\nconfig = load_env(\n    env=\"prod\",\n    providers=[custom_provider],\n    audit=True\n)\n</code></pre>"},{"location":"providers/custom/#provider-capabilities","title":"Provider Capabilities","text":"<p>Override capabilities if needed:</p> <pre><code>class CustomProvider(BaseProvider):\n    def __init__(self):\n        super().__init__()\n        # Customize capabilities\n        self._capabilities.batch = True\n        self._capabilities.cacheable = True\n        self._capabilities.rotatable = False\n</code></pre>"},{"location":"providers/custom/#secret-metadata","title":"Secret Metadata","text":"<p>Optionally provide secret metadata:</p> <pre><code>from env_loader_pro.providers import SecretMetadata\n\nclass CustomProvider(BaseProvider):\n    def get_metadata(self, key: str) -&gt; Optional[SecretMetadata]:\n        \"\"\"Get metadata for secret.\"\"\"\n        return SecretMetadata(\n            ttl=3600,\n            rotatable=True,\n            expires_at=\"2024-12-31T23:59:59Z\"\n        )\n</code></pre>"},{"location":"providers/custom/#best-practices","title":"Best Practices","text":"<ol> <li>Handle errors gracefully - Raise <code>ProviderError</code> on failure</li> <li>Implement <code>is_available()</code> - Check if provider is accessible</li> <li>Support <code>get_all()</code> - More efficient than multiple <code>get()</code> calls</li> <li>Set capabilities - Help loader optimize behavior</li> <li>Enable caching - If provider supports it</li> </ol>"},{"location":"providers/custom/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Failure Policies</li> </ul>"},{"location":"providers/docker-k8s/","title":"Docker &amp; Kubernetes Providers","text":"<p>Load secrets from Docker and Kubernetes mounted volumes.</p>"},{"location":"providers/docker-k8s/#docker-secrets","title":"Docker Secrets","text":"<p>Docker Swarm mounts secrets at <code>/run/secrets/</code>.</p>"},{"location":"providers/docker-k8s/#basic-usage","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import DockerSecretsProvider\n\n# Create provider (defaults to /run/secrets)\nprovider = DockerSecretsProvider()\n\n# Or custom path\nprovider = DockerSecretsProvider(secrets_path=\"/custom/secrets\")\n\n# Load configuration\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"providers/docker-k8s/#auto-detection","title":"Auto-Detection","text":"<p>Docker secrets are automatically detected if available:</p> <pre><code># Automatically loads from /run/secrets if available\nconfig = load_env(env=\"prod\")\n</code></pre>"},{"location":"providers/docker-k8s/#kubernetes-secrets","title":"Kubernetes Secrets","text":"<p>Kubernetes mounts secrets and configmaps as files.</p>"},{"location":"providers/docker-k8s/#basic-usage_1","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import KubernetesSecretsProvider\n\n# Create provider\nprovider = KubernetesSecretsProvider(\n    secrets_path=\"/etc/secrets\",      # K8s secrets mount\n    config_map_path=\"/etc/config\"    # K8s configmap mount\n)\n\n# Load configuration\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"providers/docker-k8s/#auto-detection_1","title":"Auto-Detection","text":"<p>Kubernetes secrets are automatically detected if available:</p> <pre><code># Automatically loads from /etc/secrets and /etc/config if available\nconfig = load_env(env=\"prod\")\n</code></pre>"},{"location":"providers/docker-k8s/#filesystem-provider","title":"Filesystem Provider","text":"<p>Generic filesystem-mounted configuration:</p> <pre><code>from env_loader_pro.providers import FilesystemProvider\n\nprovider = FilesystemProvider(\n    secrets_path=\"/etc/secrets\",\n    config_map_path=\"/etc/config\"\n)\n\nconfig = load_env(providers=[provider])\n</code></pre>"},{"location":"providers/docker-k8s/#kubernetes-deployment-example","title":"Kubernetes Deployment Example","text":""},{"location":"providers/docker-k8s/#secret-definition","title":"Secret Definition","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: app-secrets\ntype: Opaque\ndata:\n  DB_PASSWORD: &lt;base64-encoded&gt;\n  API_KEY: &lt;base64-encoded&gt;\n</code></pre>"},{"location":"providers/docker-k8s/#pod-mount","title":"Pod Mount","text":"<pre><code>apiVersion: v1\nkind: Pod\nspec:\n  containers:\n  - name: app\n    volumeMounts:\n    - name: secrets\n      mountPath: /etc/secrets\n      readOnly: true\n  volumes:\n  - name: secrets\n    secret:\n      secretName: app-secrets\n</code></pre>"},{"location":"providers/docker-k8s/#application-code","title":"Application Code","text":"<pre><code>from env_loader_pro import load_env\n\n# Automatically loads from /etc/secrets\nconfig = load_env(env=\"prod\")\ndb_password = config[\"DB_PASSWORD\"]  # From mounted secret\n</code></pre>"},{"location":"providers/docker-k8s/#priority","title":"Priority","text":"<p>Docker/K8s secrets have priority 3 (after cloud providers and system env):</p> <ol> <li>Cloud providers</li> <li>System environment</li> <li>Docker/K8s secrets \u2190 Here</li> <li>.env files</li> <li>Schema defaults</li> </ol>"},{"location":"providers/docker-k8s/#best-practices","title":"Best Practices","text":"<ol> <li>Use K8s secrets for sensitive data</li> <li>Use configmaps for non-sensitive config</li> <li>Mount read-only volumes</li> <li>Enable audit to track sources</li> <li>Test locally with Docker secrets</li> </ol>"},{"location":"providers/docker-k8s/#related-topics","title":"Related Topics","text":"<ul> <li>Providers Overview</li> <li>Configuration Precedence</li> </ul>"},{"location":"providers/overview/","title":"Providers Overview","text":"<p>Providers allow loading configuration from external sources like cloud secret managers, filesystems, and custom backends.</p>"},{"location":"providers/overview/#supported-providers","title":"Supported Providers","text":"<ul> <li>Azure Key Vault - Azure cloud secrets</li> <li>AWS Secrets Manager - AWS cloud secrets</li> <li>AWS SSM Parameter Store - AWS parameter store</li> <li>Docker Secrets - Docker mounted secrets</li> <li>Kubernetes Secrets - K8s mounted secrets/configmaps</li> <li>Filesystem - Filesystem-mounted configs</li> </ul>"},{"location":"providers/overview/#provider-priority","title":"Provider Priority","text":"<p>Providers have the highest priority in configuration precedence:</p> <ol> <li>Cloud providers (Azure, AWS)</li> <li>System environment variables</li> <li>Docker/K8s secrets</li> <li>.env files</li> <li>Schema defaults</li> </ol>"},{"location":"providers/overview/#basic-usage","title":"Basic Usage","text":"<pre><code>from env_loader_pro import load_env\nfrom env_loader_pro.providers import AzureKeyVaultProvider\n\n# Create provider\nprovider = AzureKeyVaultProvider(\n    vault_url=\"https://myvault.vault.azure.net\"\n)\n\n# Use with load_env\nconfig = load_env(\n    env=\"prod\",\n    providers=[provider]\n)\n</code></pre>"},{"location":"providers/overview/#multiple-providers","title":"Multiple Providers","text":"<pre><code>from env_loader_pro.providers import (\n    AzureKeyVaultProvider,\n    AWSSecretsManagerProvider\n)\n\n# Use multiple providers\nconfig = load_env(\n    providers=[\n        AzureKeyVaultProvider(...),\n        AWSSecretsManagerProvider(...)\n    ]\n)\n# Later providers override earlier ones\n</code></pre>"},{"location":"providers/overview/#provider-capabilities","title":"Provider Capabilities","text":"<p>Each provider exposes capabilities:</p> <pre><code>provider = AzureKeyVaultProvider(...)\ncapabilities = provider.capabilities\n\n# {\n#   \"batch\": True,        # Supports get_many\n#   \"cacheable\": True,    # Values can be cached\n#   \"rotatable\": False,   # Supports secret rotation\n#   \"watchable\": False,   # Supports watching\n#   \"metadata\": True      # Provides secret metadata\n# }\n</code></pre>"},{"location":"providers/overview/#failure-policies","title":"Failure Policies","text":"<p>Control how provider errors are handled:</p> <pre><code>config = load_env(\n    providers=[azure_provider],\n    failure_policy={\n        \"azure\": \"fail\",      # Raise error\n        \"aws\": \"fallback\",    # Silently continue\n        \"filesystem\": \"warn\"  # Log warning\n    }\n)\n</code></pre>"},{"location":"providers/overview/#caching","title":"Caching","text":"<p>Providers support caching to reduce API calls:</p> <pre><code>config = load_env(\n    providers=[azure_provider],\n    cache=True,\n    cache_ttl=3600  # 1 hour\n)\n</code></pre>"},{"location":"providers/overview/#availability-check","title":"Availability Check","text":"<p>Check if provider is available:</p> <pre><code>provider = AzureKeyVaultProvider(...)\n\nif provider.is_available():\n    # Provider is accessible\n    config = load_env(providers=[provider])\nelse:\n    # Fallback to local config\n    config = load_env()\n</code></pre>"},{"location":"providers/overview/#next-steps","title":"Next Steps","text":"<ul> <li>Azure Key Vault - Azure integration</li> <li>AWS Secrets Manager - AWS integration</li> <li>Docker &amp; Kubernetes - Container secrets</li> <li>Custom Providers - Build your own</li> </ul>"},{"location":"security/ci-safety/","title":"CI/CD Safety","text":"<p>All CLI commands work without cloud credentials, perfect for CI pipelines.</p>"},{"location":"security/ci-safety/#ci-safe-commands","title":"CI-Safe Commands","text":"<p>All commands support <code>--ci</code> flag:</p> <pre><code># Validate (no cloud access)\nenvloader validate --ci --required API_KEY PORT\n\n# Audit (no cloud access)\nenvloader audit --ci --json\n\n# Diff (no cloud access)\nenvloader diff --ci --deny-secret-changes\n\n# Explain (no cloud access)\nenvloader explain --ci\n</code></pre>"},{"location":"security/ci-safety/#guarantees","title":"Guarantees","text":"<p>When using <code>--ci</code> flag:</p> <ul> <li>\u2705 No network calls to cloud providers</li> <li>\u2705 No credentials required</li> <li>\u2705 Deterministic behavior</li> <li>\u2705 Proper exit codes (0 = success, non-zero = failure)</li> </ul>"},{"location":"security/ci-safety/#ci-pipeline-example","title":"CI Pipeline Example","text":""},{"location":"security/ci-safety/#github-actions","title":"GitHub Actions","text":"<pre><code>name: Validate Config\n\non: [push, pull_request]\n\njobs:\n  validate:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - uses: actions/setup-python@v2\n        with:\n          python-version: '3.8'\n      - run: pip install env-loader-pro\n      - run: envloader validate --ci --required API_KEY PORT\n      - run: envloader audit --ci --json &gt; audit.json\n      - run: envloader diff --ci --deny-secret-changes\n</code></pre>"},{"location":"security/ci-safety/#gitlab-ci","title":"GitLab CI","text":"<pre><code>validate:\n  image: python:3.8\n  script:\n    - pip install env-loader-pro\n    - envloader validate --ci --required API_KEY PORT\n    - envloader audit --ci --json\n</code></pre>"},{"location":"security/ci-safety/#validation-in-ci","title":"Validation in CI","text":""},{"location":"security/ci-safety/#schema-validation","title":"Schema Validation","text":"<pre><code># Validate schema without cloud access\nenvloader validate --ci --schema config.yaml\n</code></pre>"},{"location":"security/ci-safety/#required-variables","title":"Required Variables","text":"<pre><code># Check required variables exist\nenvloader validate --ci --required API_KEY DB_PASSWORD\n</code></pre>"},{"location":"security/ci-safety/#audit-in-ci","title":"Audit in CI","text":""},{"location":"security/ci-safety/#export-audit","title":"Export Audit","text":"<pre><code># Export audit for compliance\nenvloader audit --ci --json &gt; audit.json\n\n# Upload to artifact storage\n</code></pre>"},{"location":"security/ci-safety/#diff-in-ci","title":"Diff in CI","text":""},{"location":"security/ci-safety/#prevent-secret-changes","title":"Prevent Secret Changes","text":"<pre><code># Fail if secrets changed\nenvloader diff --ci --deny-secret-changes --baseline .env.baseline\n</code></pre>"},{"location":"security/ci-safety/#prevent-added-secrets","title":"Prevent Added Secrets","text":"<pre><code># Fail if new secrets added\nenvloader diff --ci --deny-added-secrets --baseline .env.baseline\n</code></pre>"},{"location":"security/ci-safety/#best-practices","title":"Best Practices","text":"<ol> <li>Always use <code>--ci</code> flag in CI pipelines</li> <li>Validate early in pipeline</li> <li>Export audit logs for compliance</li> <li>Check for secret changes before deployment</li> <li>Use exit codes for pipeline control</li> </ol>"},{"location":"security/ci-safety/#related-topics","title":"Related Topics","text":"<ul> <li>Security Model</li> <li>Configuration Diff</li> </ul>"},{"location":"security/encryption/","title":"Encrypted Files","text":"<p>Support for encrypted .env files using age, GPG, or OpenSSL.</p>"},{"location":"security/encryption/#supported-methods","title":"Supported Methods","text":"<ul> <li>age - Modern encryption tool (recommended)</li> <li>GPG - GNU Privacy Guard</li> <li>openssl - OpenSSL encryption</li> </ul>"},{"location":"security/encryption/#encrypting-files","title":"Encrypting Files","text":""},{"location":"security/encryption/#cli","title":"CLI","text":"<pre><code># Encrypt with age (default)\nenvloader encrypt .env\n\n# Encrypt with specific method\nenvloader encrypt .env --method gpg\nenvloader encrypt .env --method openssl\n\n# Specify output file\nenvloader encrypt .env --output .env.enc\n\n# Specify key\nenvloader encrypt .env --key /path/to/key\n</code></pre>"},{"location":"security/encryption/#python-api","title":"Python API","text":"<pre><code>from env_loader_pro.crypto import encrypt_file\n\nencrypt_file(\n    input_path=\".env\",\n    output_path=\".env.enc\",\n    method=\"age\",\n    key=\"/path/to/key\"\n)\n</code></pre>"},{"location":"security/encryption/#decrypting-files","title":"Decrypting Files","text":""},{"location":"security/encryption/#cli_1","title":"CLI","text":"<pre><code># Decrypt\nenvloader decrypt .env.enc\n\n# Specify output\nenvloader decrypt .env.enc --output .env\n\n# Specify key\nenvloader decrypt .env.enc --key /path/to/key\n</code></pre>"},{"location":"security/encryption/#python-api_1","title":"Python API","text":"<pre><code>from env_loader_pro.crypto import decrypt_file\n\ndecrypted_content = decrypt_file(\n    input_path=\".env.enc\",\n    output_path=\".env\",\n    method=\"age\",\n    key=\"/path/to/key\"\n)\n</code></pre>"},{"location":"security/encryption/#loading-encrypted-files","title":"Loading Encrypted Files","text":""},{"location":"security/encryption/#direct-load","title":"Direct Load","text":"<pre><code>from env_loader_pro import load_env\n\nconfig = load_env(\n    path=\".env.enc\",\n    encrypted=True,\n    encryption_key=\"/path/to/key\"\n)\n</code></pre>"},{"location":"security/encryption/#auto-detection","title":"Auto-Detection","text":"<pre><code># Automatically detects .env.enc\nconfig = load_env(path=\".env.enc\")\n</code></pre>"},{"location":"security/encryption/#re-encryption","title":"Re-Encryption","text":"<p>Change encryption method or key:</p> <pre><code>from env_loader_pro.crypto import re_encrypt_file\n\nre_encrypt_file(\n    input_path=\".env.enc\",\n    output_path=\".env.enc.new\",\n    old_method=\"age\",\n    new_method=\"gpg\",\n    old_key=\"/path/to/old/key\",\n    new_key=\"/path/to/new/key\"\n)\n</code></pre> <p>Guarantee: Plaintext is never persisted to disk during re-encryption.</p>"},{"location":"security/encryption/#best-practices","title":"Best Practices","text":"<ol> <li>Use age for modern encryption</li> <li>Store keys securely (not in repo)</li> <li>Rotate keys regularly</li> <li>Use different keys per environment</li> <li>Never commit encrypted files with keys</li> </ol>"},{"location":"security/encryption/#related-topics","title":"Related Topics","text":"<ul> <li>Security Model</li> <li>CI/CD Safety</li> </ul>"},{"location":"security/masking/","title":"Secret Masking","text":"<p>Automatic detection and masking of secret values.</p>"},{"location":"security/masking/#automatic-detection","title":"Automatic Detection","text":"<p>Secrets are automatically detected for keys containing: - <code>secret</code> - <code>key</code> - <code>token</code> - <code>password</code> - <code>pwd</code> - <code>credential</code> - <code>auth</code> - <code>api[_-]?key</code></p>"},{"location":"security/masking/#masking-behavior","title":"Masking Behavior","text":""},{"location":"security/masking/#safe-representation","title":"Safe Representation","text":"<pre><code>config = load_env()\n\n# Safe for logging (secrets masked)\nsafe = config.safe_repr()\nprint(safe)\n# {\"API_KEY\": \"****1234\", \"PORT\": 8080, \"DB_PASSWORD\": \"****\"}\n</code></pre>"},{"location":"security/masking/#masking-format","title":"Masking Format","text":"<ul> <li>Values \u2264 4 chars: Fully masked (<code>****</code>)</li> <li>Values &gt; 4 chars: Last 4 visible (<code>****1234</code>)</li> </ul>"},{"location":"security/masking/#full-access","title":"Full Access","text":"<pre><code># Full access (use with caution)\nvalue = config[\"API_KEY\"]  # Full value, not masked\n</code></pre>"},{"location":"security/masking/#custom-secret-patterns","title":"Custom Secret Patterns","text":""},{"location":"security/masking/#mark-as-secret","title":"Mark as Secret","text":"<pre><code>from env_loader_pro.utils import mark_as_secret\n\nconfig = load_env(\n    custom_secrets=[mark_as_secret(\"CUSTOM_SECRET\")]\n)\n</code></pre>"},{"location":"security/masking/#custom-patterns","title":"Custom Patterns","text":"<pre><code>from env_loader_pro.utils import is_secret_key\n\n# Check if key is secret\nif is_secret_key(\"MY_API_KEY\"):\n    print(\"This is a secret\")\n</code></pre>"},{"location":"security/masking/#export-safety","title":"Export Safety","text":""},{"location":"security/masking/#json-export","title":"JSON Export","text":"<pre><code>config = load_env()\n\n# Safe export (secrets masked)\nconfig.save(\"config.json\", format=\"json\", safe=True)\n</code></pre>"},{"location":"security/masking/#yaml-export","title":"YAML Export","text":"<pre><code># Safe export (secrets masked)\nconfig.save(\"config.yaml\", format=\"yaml\", safe=True)\n</code></pre>"},{"location":"security/masking/#logging-safety","title":"Logging Safety","text":""},{"location":"security/masking/#safe-logging","title":"Safe Logging","text":"<pre><code>import logging\n\nconfig = load_env()\n\n# Safe for logging\nlogging.info(f\"Config: {config.safe_repr()}\")\n# Secrets are masked\n</code></pre>"},{"location":"security/masking/#unsafe-logging","title":"Unsafe Logging","text":"<pre><code># NEVER do this:\nlogging.info(f\"API Key: {config['API_KEY']}\")  # \u274c Exposes secret\n</code></pre>"},{"location":"security/masking/#best-practices","title":"Best Practices","text":"<ol> <li>Always use <code>safe_repr()</code> for logging</li> <li>Never log secrets directly</li> <li>Use custom patterns for project-specific secrets</li> <li>Enable audit trail to track secret access</li> <li>Review logs to ensure no secrets leaked</li> </ol>"},{"location":"security/masking/#related-topics","title":"Related Topics","text":"<ul> <li>Security Model</li> <li>Audit Trail</li> </ul>"},{"location":"security/model/","title":"Security Model","text":"<p>Complete security guarantees and secret handling.</p>"},{"location":"security/model/#security-guarantees","title":"Security Guarantees","text":"<p>env-loader-pro is designed with security as a first-class concern:</p> <ul> <li>\u2705 No secrets in logs - All secret values are automatically masked</li> <li>\u2705 No secrets in exports - Safe representation used for JSON/YAML export</li> <li>\u2705 Audit trail - Complete provenance tracking without exposing values</li> <li>\u2705 Policy enforcement - Prevent accidental secret exposure</li> <li>\u2705 Encrypted lifecycle - Support for encrypted .env files</li> </ul>"},{"location":"security/model/#secret-handling","title":"Secret Handling","text":""},{"location":"security/model/#automatic-detection","title":"Automatic Detection","text":"<p>Secrets are automatically detected and masked for keys containing: - <code>secret</code> - <code>key</code> - <code>token</code> - <code>password</code> - <code>pwd</code> - <code>credential</code> - <code>auth</code> - <code>api[_-]?key</code></p>"},{"location":"security/model/#masking-behavior","title":"Masking Behavior","text":"<pre><code>config = load_env()\n\n# Safe representation (masked)\nsafe = config.safe_repr()\n# {\"API_KEY\": \"****1234\", \"PORT\": 8080}\n\n# Full access (unmasked, use with caution)\nvalue = config[\"API_KEY\"]  # Full value\n</code></pre> <p>Masking Format: - Values \u2264 4 chars: Fully masked (<code>****</code>) - Values &gt; 4 chars: Last 4 visible (<code>****1234</code>)</p>"},{"location":"security/model/#custom-secret-patterns","title":"Custom Secret Patterns","text":"<pre><code>from env_loader_pro.utils import mark_as_secret\n\nconfig = load_env(\n    custom_secrets=[mark_as_secret(\"CUSTOM_SECRET\")]\n)\n</code></pre>"},{"location":"security/model/#audit-trail","title":"Audit Trail","text":""},{"location":"security/model/#what-is-tracked","title":"What is Tracked","text":"<p>For each configuration variable, the audit trail records: - Source: Where the value came from (azure, aws, system, file, etc.) - Provider: Provider name (if from cloud provider) - Masked: Whether value is treated as secret - Timestamp: When variable was loaded</p>"},{"location":"security/model/#what-is-not-tracked","title":"What is NOT Tracked","text":"<ul> <li>\u274c Never stores actual secret values</li> <li>\u274c Never logs secrets in plaintext</li> <li>\u274c Never exports secrets in audit JSON</li> </ul>"},{"location":"security/model/#encrypted-env-files","title":"Encrypted .env Files","text":""},{"location":"security/model/#supported-methods","title":"Supported Methods","text":"<ul> <li>age - Modern encryption tool</li> <li>GPG - GNU Privacy Guard</li> <li>openssl - OpenSSL encryption</li> </ul>"},{"location":"security/model/#lifecycle","title":"Lifecycle","text":"<pre><code># Encrypt\nenvloader encrypt .env --method age\n\n# Decrypt (never stores plaintext on disk)\nenvloader decrypt .env.enc\n\n# Load encrypted\nconfig = load_env(path=\".env.enc\", encrypted=True)\n</code></pre> <p>Guarantee: Plaintext is never persisted to disk during encrypt/decrypt operations.</p>"},{"location":"security/model/#policy-enforcement","title":"Policy Enforcement","text":""},{"location":"security/model/#policy-as-code","title":"Policy-as-Code","text":"<p>Enforce security policies via JSON/YAML:</p> <pre><code># policy.yaml\nrequire:\n  - API_KEY\n  - DB_PASSWORD\nforbid:\n  - DEBUG  # Prevent debug mode in production\nsources:\n  API_KEY: azure  # Must come from Azure Key Vault\n</code></pre> <pre><code>config = load_env(policy=\"policy.yaml\")\n# Fails if policy violated\n</code></pre>"},{"location":"security/model/#secret-change-detection","title":"Secret Change Detection","text":"<pre><code># Fail if secrets added/removed\nenvloader diff --ci --deny-secret-changes\n</code></pre> <p>Prevents accidental secret exposure through configuration drift.</p>"},{"location":"security/model/#cicd-safety","title":"CI/CD Safety","text":""},{"location":"security/model/#ci-safe-commands","title":"CI-Safe Commands","text":"<p>All CLI commands support <code>--ci</code> mode:</p> <pre><code># No cloud access required\nenvloader validate --ci\nenvloader audit --ci --json\nenvloader diff --ci\n</code></pre> <p>Guarantees: - No network calls to cloud providers - No credentials required - Deterministic behavior - Proper exit codes</p>"},{"location":"security/model/#failure-policies","title":"Failure Policies","text":""},{"location":"security/model/#per-provider-error-handling","title":"Per-Provider Error Handling","text":"<pre><code>config = load_env(\n    providers=[azure_provider],\n    failure_policy={\n        \"azure\": \"fail\",      # Production: fail on error\n        \"aws\": \"fallback\",    # Development: continue if unavailable\n        \"filesystem\": \"warn\"  # Log but don't fail\n    }\n)\n</code></pre> <p>Policies: - <code>fail</code> - Raise error (production) - <code>warn</code> - Log warning, continue (development) - <code>fallback</code> - Silently continue (resilient)</p>"},{"location":"security/model/#compliance-auditing","title":"Compliance &amp; Auditing","text":""},{"location":"security/model/#audit-trail-for-compliance","title":"Audit Trail for Compliance","text":"<p>The audit trail provides: - Complete provenance (where each value came from) - Timestamp of loading - Provider information - Masked status</p> <p>Use Cases: - SOC 2 compliance - Security audits - Configuration drift analysis - Incident investigation</p>"},{"location":"security/model/#responsible-disclosure","title":"Responsible Disclosure","text":""},{"location":"security/model/#reporting-security-issues","title":"Reporting Security Issues","text":"<p>If you discover a security vulnerability:</p> <ol> <li>Do NOT open a public issue</li> <li>Email: shanen.j.thomas@gmail.com</li> <li>Include:</li> <li>Description of the vulnerability</li> <li>Steps to reproduce</li> <li>Potential impact</li> <li>Suggested fix (if any)</li> </ol>"},{"location":"security/model/#response-timeline","title":"Response Timeline","text":"<ul> <li>Initial response: Within 48 hours</li> <li>Status update: Within 7 days</li> <li>Fix timeline: Depends on severity</li> </ul>"},{"location":"security/model/#security-best-practices","title":"Security Best Practices","text":"<ol> <li>Never commit secrets to version control</li> <li>Use cloud providers for production secrets</li> <li>Enable audit trail in production</li> <li>Use policy-as-code for governance</li> <li>Enable strict mode to catch errors early</li> <li>Review audit logs regularly</li> <li>Rotate secrets according to policy</li> </ol>"},{"location":"security/model/#security-checklist","title":"Security Checklist","text":"<ul> <li>[x] Automatic secret masking</li> <li>[x] No secrets in logs</li> <li>[x] No secrets in exports</li> <li>[x] Audit trail (no values)</li> <li>[x] Policy enforcement</li> <li>[x] Secret change detection</li> <li>[x] Encrypted file support</li> <li>[x] CI-safe operations</li> <li>[x] Failure policies</li> <li>[x] Provider capabilities</li> </ul>"},{"location":"security/model/#related-topics","title":"Related Topics","text":"<ul> <li>Secret Masking</li> <li>Encrypted Files</li> <li>CI/CD Safety</li> </ul>"}]}